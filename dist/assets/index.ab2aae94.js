import{r as u,R as ye}from"./react.4862a0f1.js";import{c as be}from"./react-dom.cfdd12ce.js";import{a as ve}from"./axios.d349c3b3.js";import{h as E}from"./moment.9709ab41.js";import{j as e,a as o,F as C,T as we,I as ke,C as Ne,b as Se,c as Ce,L as Ee,M as Ae,D as Ie,A as Oe,d as Le}from"./primereact.4cde8b70.js";import{B as J,N as Pe}from"./react-router-dom.7a03e9d4.js";import{c as A}from"./clsx.09c75e33.js";import{L as Te}from"./react-lottie-player.6511cde3.js";import{C as k,u as _}from"./react-hook-form.a51e561e.js";import{e as H,f as F,d as De}from"./react-router.e3439eef.js";/* empty css                   */import"./fast-deep-equal.aae8ee5f.js";import"./scheduler.2450001e.js";import"./form-data.d1f94bc2.js";import"./react-transition-group.187aad19.js";import"./@babel.4f1e7424.js";import"./dom-helpers.2a8a4335.js";import"./@remix-run.7ba39c5a.js";import"./lottie-web.1f2cebb8.js";import"./rfdc.0929fce7.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();E.locale("pt-br");const Re={TO:"#ef6c00",FONO:"#f6bf26",PSICO:"#8e24aa",PSICOPEDAG:"#000000"},Fe={TO:"#ffffff",FONO:"#ffffff",PSICO:"#ffffff",PSICOPEDAG:"#ffffff"},$=t=>t.charAt(0).toUpperCase()+t.slice(1),je=()=>{setTimeout(()=>{(document.querySelectorAll(".p-multiselect-token")||[]).forEach(r=>{const n=Re[r.textContent.toUpperCase()],c=Fe[r.textContent.toUpperCase()];r.style.background=n,r.style.color=c})},0)},z=t=>E(t).format("DD/MM/YYYY"),_e=t=>(E.locale("pt-br"),E(t).format("YYYY-MM-DD")),Be=t=>E(t).add(1,"days").format("YYYY-MM-DD"),q=(t,r)=>{const n=E(t);return E(r).diff(n,"weeks")+1};var Q=(t=>(t.mobile="DEVICE_MOBILE",t.web="DEVICE_WEB",t))(Q||{});const O=ve.create({baseURL:"http://192.168.15.9:3000",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",device:Q.mobile}}),V=(t,r)=>{O.interceptors.request.use(async n=>(n.url.endsWith("login")||(n.headers.Authorization=`Bearer ${t}`,n.headers.login=r),n),n=>Promise.reject(n))},W=async(t,r)=>await O.put(t,r),B=async t=>{const r=await O(t);return r.status===200?r.data:[]},Me="developer",K=u.exports.createContext({}),Ue=({children:t})=>{const{perfil:r}=L(),[n,c]=u.exports.useState([]),s=d=>{c(d)};u.exports.useMemo(async()=>{const d=sessionStorage.getItem("auth"),v=(d?JSON.parse(d):[]).permissoes||await B("permissao");c(v)},[]),u.exports.useEffect(()=>{n.length},[]);const l=(d="")=>{switch(!0){case!r:throw new Error("Voce n\xE3o tem permissao");case d==="*":return!0;default:return!!(n.length&&n.includes(d.toUpperCase())||r===Me)}};return e(K.Provider,{value:{hasPermition:l,perfil:r,permissions:n,setPermissionsLogin:s},children:t})},M=()=>u.exports.useContext(K),$e="absolute animate-bounce min-w-[24rem] top-2 right-0 block flex p-4 mb-4 text-sm rounded-lg items-center gap-2 z-[70] ",X=u.exports.createContext({}),ze=({children:t})=>{const[r,n]=u.exports.useState("hidden"),[c,s]=u.exports.useState(),[l,d]=u.exports.useState(""),[b,v]=u.exports.useState({type:"info",title:"",message:"",open:!1}),y=h=>{switch(h){case"success":s(e("i",{className:"pi pi-check-circle"}));break;case"failure":s(e("i",{className:"pi pi-times-circle"}));break;case"warning":s(e("i",{className:"pi pi-exclamation-circle"}));break;case"info":s(e("i",{className:"pi pi-info-circle"}));break;default:s(e("i",{className:"pi pi-undo"}));break}},f=h=>{switch(h){case"success":d("z-[10000] text-white bg-green-400 rounded-lg  w-24 ");break;case"failure":d("z-[10000] text-white bg-red-400 rounded-lg  w-24");break;case"warning":d("z-[10000] text-white bg-yellow-400 rounded-lg  w-24");break;case"info":d("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break;default:d("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break}},x=({type:h,message:g,title:p,open:w})=>{y(h),f(h),v({type:h,message:g,title:p,open:w}),n(w?"block":"hidden"),setTimeout(()=>{n("hidden")},3e3)};return e(X.Provider,{value:{renderToast:x},children:o(C,{children:[t,o("div",{className:`${$e} ${r} ${l}`,role:"alert",children:[c,o("span",{children:[e("span",{className:"font-medium",children:"   "+b.title})," "+b.message]})]})]})})};function D(){return u.exports.useContext(X)}const U=u.exports.createContext({}),qe=({children:t})=>{const[r,n]=u.exports.useState(),[c,s]=u.exports.useState(""),{setPermissionsLogin:l}=M(),{renderToast:d}=D();u.exports.useEffect(()=>{const f=sessionStorage.getItem("token"),x=sessionStorage.getItem("auth"),h=sessionStorage.getItem("perfil")||"";if(f&&x){const g=JSON.parse(x);n(g),s(h),V(f,g.login)}},[]);const b=async f=>{var x;try{const g=(await O.post("/login",{...f,password:parseInt(f.password)})).data;setTimeout(()=>{y()},8e6);const p=(g==null?void 0:g.user)||g.data,w=(g==null?void 0:g.accessToken)||g.data.accessToken,a=(x=p.perfil)!=null&&x.nome?p.perfil.nome.toLowerCase():p.perfil.toLowerCase();sessionStorage.setItem("token",w),sessionStorage.setItem("auth",JSON.stringify(p)),sessionStorage.setItem("perfil",a),p.permissoes.length&&l&&l(p.permissoes),s(a),n(p),await V(w,p.login),d({type:"success",title:" ",message:"Bem vindo!",open:!0})}catch(h){v(h)}},v=f=>{const x=f!=null&&f.data?f==null?void 0:f.data.message:"Usu\xE1rio n\xE3o encontrado!";d({type:"failure",title:f.status,message:x,open:!0})},y=async()=>{n(void 0),sessionStorage.clear();try{await O.get("/logout")}catch(f){console.log(f)}};return e(U.Provider,{value:{signed:Boolean(r),user:r,Login:b,Logout:y,perfil:c},children:t})},L=()=>u.exports.useContext(U),Ve="/assets/logo-lg.ee70d40f.jpg";function N({icon:t,size:r="full",type:n="primary",color:c="white",text:s,loading:l,disabled:d=!1,onClick:b}){return e(we,{disabled:d,icon:t,loading:l,label:r==="icon"?"":s,onClick:b,className:A(" text-white text-sm rounded-md border-none ",{"bg-violet-800 hover:bg-violet-600":n==="primary","bg-yellow-400 hover:bg-violet-800":n==="second","bg-transparent hover:bg-transparent":n==="transparent","text-white":c==="white","text-red-400 hover:text-violet-800 focus:text-violet-600":c==="red","text-green-400 hover:text-violet-800 focus:text-violet-600":c==="green","text-yellow-400 hover:text-violet-800 focus:text-violet-600":c==="yellow","text-violet-800 hover:text-violet-600 focus:text-violet-600":c==="violet","w-full":r==="full","sm:w-2/5 w-full":r==="md"})})}function T({onChange:t,onClick:r,value:n,labelText:c,id:s,type:l,customClass:d,options:b,customCol:v,validate:y,errors:f,control:x,disabled:h,hidden:g,buttonAdd:p}){const w=()=>{switch(l){case"select":return e(k,{name:s,control:x,rules:y,render:({field:a})=>e(Ie,{value:n||a.value,virtualScrollerOptions:{itemSize:38},options:b,onChange:i=>(t&&t(i.value),a.onChange(i.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:h})});case"multiselect":return e(k,{name:s,control:x,rules:y,render:({field:a})=>e(Ae,{disabled:h,id:a.id,display:"chip",optionLabel:"nome",filter:!0,value:n||a.value,onChange:i=>{je(),t&&t(i.value),a.onChange(i.value)},options:b})});case"list":return e(k,{name:s,control:x,rules:y,render:({field:a})=>e(Ee,{value:a.value,options:b,onChange:i=>a.onChange(i.value),multiple:!0,filter:!0,optionLabel:"nome",listStyle:{maxHeight:"300px"}})});case"textarea":return e(k,{name:s,control:x,rules:y,render:({field:a})=>e("textarea",{id:a.id,...a,value:n||a.value,className:d,placeholder:a.placeholder,disabled:h,rows:"8"})});case"switch":return e(k,{name:s,control:x,rules:y,render:({field:a})=>o("div",{className:"grid grid-cols-6 justify-start items-center h-8",children:[o("span",{className:"col-span-4 text-violet-800",children:[" ",c," "]}),e("div",{className:"col-span-2",children:e(Ce,{checked:n||a.value,color:"#685ec5",value:n,disabled:h,onChange:i=>{a.onChange(i.target.value),t&&t(i.target.value)}})})]})});case"tel":return e(k,{name:s,control:x,rules:y,render:({field:a})=>e(Se,{disabled:h,value:n||a.value,type:l,className:"inputAnimado font-inter font-light"+d,mask:"(99) 9999-9999",onChange:i=>a.onChange(i.value)},a.id)});case"checkbox":return e(k,{name:s,control:x,rules:y,render:({field:a})=>o(C,{children:[e(Ne,{checked:n,type:l,className:"inputAnimado "+d,onChange:i=>{a.onChange(i.target.checked),t&&t(i.target.checked)}}),o("span",{className:"col-span-4 text-violet-800",children:[" ",c," "]})]})});case"time":return e(k,{name:s,control:x,rules:y,render:({field:a})=>u.exports.createElement("input",{id:a.id,...a,value:n||a.value,key:a.id,type:l,className:"inputAnimado font-inter "+d,disabled:h,onInput:i=>{a.onChange(i),t&&t(i)}})});case"price":return e(k,{name:s,control:x,rules:y,render:({field:a})=>e("div",{className:"inputAnimado font-inter "+d,id:a.id,children:o("div",{className:"p-inputgroup",children:[e(ke,{value:n||a.value,disabled:h,onInput:i=>{a.onChange(i),t&&t(i)}}),e("span",{className:"p-inputgroup-addon",children:"R$"})]})})});case"date":return e(k,{name:s,control:x,rules:y,render:({field:a})=>u.exports.createElement("input",{disabled:h,id:a.id,...a,value:n||a.value,key:a.id,type:l,className:"inputAnimado "+d,autoComplete:"off",min:(y==null?void 0:y.min)&&y.min,onInput:i=>{a.onChange(i),t&&t(i)}})});case"input-add":return o("div",{className:"grid  gap-2 grid-cols-6",children:[e(k,{name:s,control:x,rules:y,render:({field:a})=>u.exports.createElement("input",{disabled:h,id:a.id,...a,value:n||a.value,key:a.id,type:l,className:"inputAnimado col-span-5",autoComplete:"off",onInput:i=>{a.onChange(i),t&&t(i)}})}),p?e(N,{text:"Add",icon:"pi pi-plus",type:"primary",size:"icon",onClick:()=>r&&r("add")}):e(N,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>r&&r("remove")})]});default:return e(k,{name:s,control:x,rules:y,render:({field:a})=>u.exports.createElement("input",{disabled:h,id:a.id,...a,value:n||a.value,key:a.id,type:l,className:"inputAnimado "+d,autoComplete:"off",onInput:i=>{a.onChange(i),t&&t(i)}})})}};return o("div",{className:A("label-float",{"my-5":!v,hidden:g&&g},v),children:[w(),l!=="switch"&&l!=="checkbox"&&o("label",{children:[" ",c," "]}),f&&f[s]&&e("p",{className:"text-xs text-red-400 text-end",children:f[s].message})]})}function Z({size:t="md",color:r="gray-dark",children:n}){return e("span",{className:A("font-bold",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":r==="white","text-gray-300":r==="gray-light","text-gray-400":r==="gray","text-gray-800":r==="gray-dark","text-violet-800":r==="violet","text-yellow-400":r==="yellow","text-black":r==="black"}),children:n})}function Ye({size:t="md",color:r="gray-dark",text:n,display:c="grid",subtext:s,icon:l,className:d}){return o("div",{className:A("flex gap-4 font-normal tracking-wider text-start items-center text-ellipsis overflow-hidden whitespace-nowrap",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":r==="white","text-gray-300":r==="gray-light","text-gray-400":r==="gray","text-gray-800":r==="gray-dark","text-violet-800":r==="violet","text-yellow-400":r==="yellow","text-red-900":r==="red","text-black":r==="black"},d),children:[l&&e("div",{className:"flex items-center",children:e("i",{className:l})}),o("span",{className:c,children:[n,"\xA0",o("strong",{className:"font-inter",children:[" ",s]})]})]})}function P({children:t,legend:r,customCss:n,onClick:c,type:s="default"}){return e("fieldset",{className:A("px-2 items-center bg-white   shadow-sm mt-2",n,{"border-to":s.toUpperCase()==="TO","border-fono":s.toUpperCase()==="FONO","border-psico":s.toUpperCase()==="PSICO","border-black":s.toUpperCase()==="PSICOPEDAG","border-motricidade":s.toUpperCase()==="MOTRICIDADE","border-musicoterapia":s.toUpperCase()==="MUSICOTERAPIA","border-white":s.toUpperCase()==="DEFAULT"}),onClick:c,children:e("div",{className:"py-4 w-full ",children:t})})}function Ge({id:t,legend:r,fields:n,screen:c,loading:s,nameButton:l,dropdown:d,onSubmit:b,onInclude:v,onReset:y}){const{setValue:f,handleSubmit:x,control:h,reset:g}=_(),{hasPermition:p}=M(),w=()=>{g(),y()},a=i=>{i.devolutiva&&(f("naFila",!0),i.naFila=!0),b(i)};return u.exports.useEffect(()=>{p(`${c}_FILTRO_SELECT_AGENDADOS`)||f("naFila",!0)}),e(Oe,{children:e(Le,{header:r,tabIndex:0,children:o("form",{id:t,action:"#",onSubmit:x(a),className:"flex-1",children:[e("div",{className:"grid grid-cols-6 gap-4",children:n.map(i=>p(i.permission)&&e(T,{labelText:i.labelText,id:i.id,type:i.type,customCol:i.customCol,control:h,options:i.type==="select"?d[i.name]:void 0},i.id))}),e("div",{className:"flex items-center mt-10 gap-2 justify-between",children:o(C,{children:[e("div",{className:"hidden sm:w-2/4 ml-auto sm:grid grid-cols-2 gap-2",children:o(C,{children:[p(`${c}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(N,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"full",onClick:w})}),p(`${c}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(N,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"full",loading:s,onClick:()=>x(a)})})]})}),e("div",{className:"sm:w-2/4 ml-auto grid sm:hidden grid-cols-2 gap-2",children:o(C,{children:[p(`${c}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(N,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"icon",onClick:w})}),p(`${c}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(N,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"icon",loading:s,onClick:()=>x(a)})})]})})]})})]})})})}function Je(){return o("div",{className:"uppercase flex items-center gap-4 m-auto mt-2 justify-center",children:[e("i",{className:"pi pi-folder-open"}),e(Z,{color:"gray",children:"N\xE3o h\xE1 itens"})]})}const ee="Comp 1",te="",re=[{ty:4,nm:"circle outline",mn:"",sr:1,st:0,op:180,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[0,0,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[55.228,0],[0,-55.228],[-55.228,0]],o:[[0,-55.228],[-55.228,0],[0,55.228],[55.228,0]],v:[[0,0],[-100,-100],[-200,0],[-100,100]]},ix:2}},{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[-55.228,0],[0,-55.228],[55.228,0]],o:[[0,-55.228],[55.228,0],[0,55.228],[-55.228,0]],v:[[0,0],[100,-100],[200,0],[100,100]]},ix:2}},{ty:"tm",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:0,k:80,ix:2},o:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:3},s:{a:0,k:100,ix:1},m:2},{ty:"st",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:52,ix:5},d:[],c:{a:0,k:[.4,.1608,.4667],ix:3}}],ind:1,parent:2},{ty:4,nm:"circle",mn:"",sr:1,st:0,op:200,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[960,540,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[-100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 2",d:1,p:{a:0,k:[100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.4,.1608,.4667],ix:4},r:1,o:{a:0,k:100,ix:5}}],ind:2}],se=0,ne=1080,ae=1920,oe={a:"",k:"",d:"",g:"@lottiefiles/toolkit-js 0.22.1",tc:"#000000"},ie="5.7.4",ce=30,le=180,de=0,me=[],He={nm:ee,mn:te,layers:re,ddd:se,h:ne,w:ae,meta:oe,v:ie,fr:ce,op:le,ip:de,assets:me},Qe=Object.freeze(Object.defineProperty({__proto__:null,nm:ee,mn:te,layers:re,ddd:se,h:ne,w:ae,meta:oe,v:ie,fr:ce,op:le,ip:de,assets:me,default:He},Symbol.toStringTag,{value:"Module"}));function We(){return e("div",{className:"flex items-center justify-center",children:e(Te,{loop:!0,animationData:Qe,play:!0,style:{width:200,height:200}})})}function Ke({heading:t}){return o("div",{className:"mb-10 text-center",children:[e("div",{className:"flex justify-center",children:e("img",{alt:"",className:"h-32 ",src:Ve})}),e(Z,{size:"lg",children:t})]})}const Xe=[{labelText:"Login",labelFor:"username",id:"username",name:"username",type:"text",autoComplete:"text",isRequired:!0,placeholder:"Login",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o xxx.xxx"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Senha",labelFor:"password",id:"password",name:"password",type:"password",isRequired:!0,placeholder:"Senha",validate:{required:"Campo obrigat\xF3rio!"}}],ue=Xe,Ze={};ue.forEach(t=>Ze[t.id]="");function et(){const t={username:"",password:""},[r,n]=u.exports.useState(!1),[c,s]=u.exports.useState(!1),{renderToast:l}=D(),{handleSubmit:d,formState:{errors:b},setValue:v,watch:y,control:f}=_({defaultValues:t}),{Login:x}=L(),h=async({username:p,password:w})=>{s(!0);try{await x({username:p,password:w}),s(!1)}catch{s(!1),l({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},g=async p=>{n(p),localStorage.setItem("rememberCheck",JSON.stringify(p)),p?(localStorage.setItem("rememberCheck","true"),localStorage.setItem("rememberLogin",JSON.stringify({username:y("username"),password:y("password")}))):(localStorage.removeItem("rememberLogin"),localStorage.setItem("rememberCheck","false"))};return u.exports.useEffect(()=>{const p=localStorage.getItem("rememberLogin");if(p){const{username:w,password:a}=JSON.parse(p);n(!0),v("username",w),v("password",a)}},[]),o("form",{className:"mt-8 space-y-6",onSubmit:d(h),children:[e("div",{children:ue.map(p=>e(T,{id:p.id,type:p.type,labelText:p.labelText,control:f,validate:p.validate,errors:b},p.id))}),e(T,{id:"checkbox-login",labelText:"Lembrar login",type:"checkbox",control:f,onChange:g,value:r}),e(N,{text:"Entrar",type:"primary",size:"full",onClick:d(h),loading:c})]})}const tt="luck-web",rt="0.0.5",st="module",nt={dev:"vite --port=3002 --host",start:"node serve.js --host",preview:"vite preview --host",sb:"start-storybook -p 6006",format:'prettier --write "src/**/*.{ts,js,tsx}"',lint:'eslint "src/**/*.{ts,js}" --quiet',build:"export NODE_OPTIONS='--max-old-space-size=8192' && tsc && vite build"},at={"@fullcalendar/core":"5.11.3","@fullcalendar/daygrid":"5.11.3","@fullcalendar/interaction":"5.11.3","@fullcalendar/list":"5.11.3","@fullcalendar/moment":"5.11.3","@fullcalendar/moment-timezone":"5.11.3","@fullcalendar/react":"5.11.2","@fullcalendar/rrule":"5.11.3","@fullcalendar/timegrid":"5.11.3","@types/uuid":"^9.0.7","@vitejs/plugin-react-refresh":"^1.3.6",autoprefixer:"10.4.12",axios:"1.1.3","chart.js":"3.9.1",clsx:"1.2.1",cors:"2.8.5",express:"4.18.2","lottie-react":"2.3.1",moment:"2.29.4","postcss-import":"15.0.0",primeicons:"6.0.1",primereact:"8.7.0",quill:"1.3.7",react:"18.2.0","react-chartjs-2":"4.3.1","react-dom":"18.2.0","react-hook-form":"7.37.0","react-lottie-player":"1.5.4","react-router-dom":"6.4.2",rrule:"2.7.1",url:"0.11.0",uuid:"^9.0.1","vite-plugin-pwa":"^0.17.4","web-vitals":"2.1.4","workbox-background-sync":"6.5.4","workbox-broadcast-update":"6.5.4","workbox-cacheable-response":"6.5.4","workbox-core":"6.5.4","workbox-expiration":"6.5.4","workbox-google-analytics":"6.5.4","workbox-navigation-preload":"6.5.4","workbox-precaching":"6.5.4","workbox-range-requests":"6.5.4","workbox-routing":"6.5.4","workbox-strategies":"6.5.4","workbox-streams":"6.5.4",xlsx:"^0.18.5"},ot={"@babel/core":"7.19.3","@types/react":"18.0.17","@types/react-dom":"18.0.6","@vitejs/plugin-react":"2.1.0","babel-loader":"8.2.5",prettier:"latest","standard-version":"9.5.0",tailwindcss:"3.2.1",typescript:"4.8.4",vite:"3.1.0","workbox-build":"6.5.4"},it={name:tt,version:rt,private:!0,type:st,scripts:nt,dependencies:at,devDependencies:ot};function Y(){const[t,r]=u.exports.useState(""),n=u.exports.useCallback(async()=>{const{data:c}=await B("/");r(`vers\xE3o frontend: ${it.version} - ${c}`)},[]);return u.exports.useEffect(()=>{n()},[n]),o(C,{children:[e(Ke,{heading:"Prontu\xE1rio"}),e(et,{}),e("div",{className:"text-xs absolute bottom-0 text-gray-300 left-0  w-full flex justify-center",children:e("div",{className:"",children:t})})]})}const ct=()=>e("div",{className:"min-h-full h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-md w-full space-y-8",children:e(J,{children:o(H,{children:[e(F,{path:"/",element:e(Y,{})}),e(F,{path:"*",element:e(Y,{})})]})})})}),lt=({children:t})=>e("div",{className:"h-screen overflow-y-auto",children:e("div",{className:"mx-2 mt-4 mb-16",children:t})}),pe=u.exports.createContext({}),dt=({children:t})=>{const[r,n]=u.exports.useState(!1);return e(pe.Provider,{value:{open:r,setOpen:n},children:t})},mt=()=>{const{Logout:t}=L(),{hasPermition:r,permissions:n}=M(),{open:c,setOpen:s}=u.exports.useContext(pe),[l,d]=u.exports.useState([]),{user:b,perfil:v}=u.exports.useContext(U),y=De(),f=()=>{const g=xe.filter(p=>p.path!=="*");d(g)},x=()=>o("aside",{onClick:()=>s(!1),className:"fixed border-box shadow-3xl w-full h-screen z-20  bg-primary duration-700 ease-in-out justify-center",children:[e("div",{className:"bg-logo-md-write bg-no-repeat bg-cover h-[13rem] w-[20rem] mx-auto"}),o("div",{className:"border-y border-primary-text duration-1000 p-4 mt-2",children:[o("h3",{className:"text-primary-text text-center font-light text-sm ",children:[" ",b.nome]}),o("h3",{className:"text-gray-200 text-center font-light text-xs ",children:[" ",$(v)," "]})]}),e("ul",{className:"list-none p-0 mt-8",children:l.map(g=>{const p=y.pathname.startsWith(g.path);return e("li",{className:`${p?"bg-primary-hover text-primary-text-hover":"text-primary-text"} hover:px-0 hover:bg-primary-hover  hover:text-primary-text-hover duration-700 grid  justify-center`,children:o(Pe,{to:g.path,className:"grid grid-cols-2 gap-8 items-center text-sm px-4 py-4  cursor-pointer",children:[e("i",{className:A("text-end",g.icon)}),e("span",{className:"duration-700",children:$(g.path)})]})},g.path)})}),e("i",{onClick:t,className:" pi pi-sign-out duration-700 text-primary-text hover:scale-125 cursor-pointer  w-4 col-span-1 fixed bottom-8 left-[50%]"})]}),h=()=>e("aside",{onClick:()=>s(!0),className:"fixed shadow-3xl w-12 h-12 z-20 mt-[1vh] right-2 rounded-3xl bg-primary duration-700 ease-in-out hover:scale-[105%] cursor-pointer",children:e("div",{className:"bg-logo-mini    bg-no-repeat bg-cover h-12 w-12 duration-700"})});return u.exports.useEffect(()=>{f()},[n]),c?x():e("nav",{className:"fixed h-12 w-full bg-primary mb-8",children:h()})};function G(){const[t,r]=u.exports.useState(),[n,c]=u.exports.useState(!1),{renderToast:s}=D(),{reset:l,handleSubmit:d,formState:{errors:b},control:v}=_(),y=()=>{const x=sessionStorage.getItem("auth"),h=JSON.parse(x);r(h)},f=async x=>{c(!0);try{x.id=t.login;const{data:h}=await W("/usuarios/reset-senha",x);c(!1),l(),s({type:"success",title:"",message:h.message,open:!0})}catch({message:h}){s({type:"failure",title:"401",message:`${h}`,open:!0}),l();return}};return u.exports.useEffect(()=>{y()},[]),e(C,{children:e(P,{customCss:"rounded-lg border border-gray-200 p-4",children:o("div",{className:"grid sm:grid-cols-2",children:[e(Ye,{text:t==null?void 0:t.nome,subtext:t==null?void 0:t.login,color:"violet",size:"md",icon:"pi pi-id-card",display:"grid"}),o("div",{className:"flex gap-2  my-6 sm:my-0  items-center",children:[e(T,{labelText:"Alterar senha",id:"senha",type:"password",customCol:" w-full",errors:b,validate:{required:!0},control:v}),e("div",{className:" mt-4 ",children:e(N,{text:"Alterar senha",type:"second",icon:"pi pi-sync",size:"icon",onClick:d(f)})})]})]})})})}var j=(t=>(t.atendido="Atendido",t.atestado="Atestado",t.livre="Livre",t.confirmado="Confirmado",t))(j||{});const ut=[{permission:"AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-1",type:"date"}],he=ut,pt={};he.forEach(t=>pt[t.id]="");const ht=()=>{const{renderToast:t}=D(),[r,n]=u.exports.useState({}),[c,s]=u.exports.useState([]),[l,d]=u.exports.useState(!1),{user:b}=L(),v=new Date,y=_e(v),f=Be(v);async function x(m){try{await W("/evento/check",{id:m.id}),t({type:"success",title:"",message:"Evento atualizado!",open:!0}),setTimeout(()=>{g()},1e3)}catch{t({type:"failure",title:"401",message:"Evento n\xE3o atualizado!",open:!0})}}const h=m=>{let S=m.modalidade.nome;if(S!=="Avalia\xE7\xE3o"||!(m!=null&&m.dataInicio)||!(m!=null&&m.dataFim))return e("span",{children:S});const I=q(m.dataInicio,m.dataAtual),R=q(m.dataInicio,m.dataFim);return e(C,{children:o("span",{children:[S,e("span",{className:"font-inter ml-2",children:`${I}/${R}`})," "]})})},g=async(m=y,S=f)=>{d(!0);try{const I=await B(`/evento/filtro/${m}/${S}?terapeutaId=${b.id}`);let R=Object.keys(I).sort();n(I),s(R)}catch{n([]),t({type:"failure",title:"401",message:"Per\xEDodo n\xE3o encontrado!",open:!0})}d(!1)},p=m=>e(P,{customCss:"border-l-4 border-l-green-400 rounded-lg cursor-not-allowed",children:o("div",{className:"flex gap-2 w-full item-center",children:[o("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[o("span",{children:[" ",m.start]})," -",e("span",{children:m.end})]}),o("div",{className:"text-gray-800 text-center flex items-center justify-center text-md",children:["  ",m.title]})]})},m.id),w=m=>e(P,{type:m.especialidade.nome,customCss:"border-l-4 rounded-lg cursor-pointer hover:scale-[101%] duration-700 ease-in-out",children:o("div",{className:"flex justify-between w-full item-center",children:[o("div",{className:"flex gap-2 w-full item-center",children:[o("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[o("span",{children:[" ",m.data.start]})," -",e("span",{children:m.data.end})]}),o("div",{className:"text-gray-800 text-sm text-center grid justify-center",children:[o("div",{className:"font-base font-semibold text-primary",children:["  ",m.title," "]}),o("p",{className:"flex gap-4 items-center justify-between",children:[h(m)," ",e("span",{children:m.statusEventos.nome})]}),o("p",{className:"flex gap-4 items-center",children:[m.localidade.nome,m.isExterno&&o("span",{className:"font-bold font-inter",children:[" ",`- ${m.km}km`," "]})]})]})]}),m.statusEventos.nome==j.atendido&&e(N,{text:"Atendido",type:"transparent",icon:"pi pi-check",size:"icon",color:"violet"}),m.statusEventos.nome==j.confirmado?e(N,{text:"Atendido",type:"primary",icon:"pi pi-check",size:"icon",onClick:()=>x(m)}):e(N,{text:"Sem evento",type:"transparent",icon:"pi pi-calendar-times",size:"icon",color:"red"})]})},m.id),a=m=>{switch(m.id){case 0:return p(m);default:return w(m)}},i=()=>l?e(We,{}):c.length?c.map(m=>o("div",{children:[e("div",{className:"font-inter m-2 text-gray-400",children:z(m)}),r[m].map(S=>a(S))]},m)):o(P,{children:[" ",e(Je,{})," "]}),fe=u.exports.useMemo(()=>o("div",{className:"text-primary font-base grid justify-start m-2 leading-4",children:[e("span",{className:"font-bold",children:" Agenda "}),o("span",{className:"text-gray-400 font-light text-sm font-inter",children:[" ",z(new Date)," "]})]}),[]),ge=u.exports.useMemo(()=>e(Ge,{id:"form-filter-patient",legend:"Filtro",nameButton:"Agendar",fields:he,onSubmit:({dataInicio:m,datatFim:S})=>g(m,S),onReset:()=>g(),screen:"AGENDA_CALENDARIO",loading:l,dropdown:[],onInclude:()=>{}}),[]);return u.exports.useEffect(()=>{g()},[]),o(C,{children:[ge,fe,i()]})},xe=[{path:"*",componentRoute:G,icon:""},{path:"home",componentRoute:G,icon:"pi pi-home"},{path:"agenda",componentRoute:ht,icon:"pi pi-calendar"}],xt=()=>o("div",{className:"min-h-full overflow-hidden bg-background h-screen w-full",children:[e(mt,{}),e("main",{className:"mt-14",children:e(H,{children:xe.map((r,n)=>e(F,{path:r.path,element:e(lt,{children:e(r.componentRoute,{})})},n))})})]});function ft(){const{signed:t}=L();return t?e(J,{children:e(Ue,{children:e(dt,{children:e(xt,{})})})}):e(ct,{})}function gt(){return e("div",{className:"App",children:e(ze,{children:e(qe,{children:e(ft,{})})})})}be.createRoot(document.getElementById("root")).render(e(ye.StrictMode,{children:e(gt,{})}));
