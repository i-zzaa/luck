import{r as m,R as Ze}from"./react.4862a0f1.js";import{c as et}from"./react-dom.cfdd12ce.js";import{a as tt}from"./axios.d349c3b3.js";import{h as W}from"./moment.9709ab41.js";import{j as e,a as i,F as S,T as st,I as rt,C as at,b as ot,c as nt,L as it,M as lt,D as ct,d as dt,e as pt,A as ut,f as mt,g as ht,h as xt,m as xe,o as ft,i as Ce,k as gt,l as fe,n as yt,p as vt}from"./primereact.7797b7d4.js";import{B as Se,N as bt}from"./react-router-dom.cd1fadb7.js";import{c as j}from"./clsx.09c75e33.js";import{L as wt}from"./react-lottie-player.b161f192.js";import{C as R,u as H}from"./react-hook-form.a51e561e.js";import{e as Pe,f as K,d as de,c as se}from"./react-router.112775b3.js";import{v as ge}from"./uuid.1b90e2d5.js";/* empty css                   */import"./fast-deep-equal.aae8ee5f.js";import"./scheduler.2450001e.js";import"./form-data.d1f94bc2.js";import"./react-transition-group.93237f0b.js";import"./@babel.4f1e7424.js";import"./dom-helpers.2a8a4335.js";import"./@remix-run.7ba39c5a.js";import"./lottie-web.1f2cebb8.js";import"./rfdc.0929fce7.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function a(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerpolicy&&(d.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?d.credentials="include":n.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(n){if(n.ep)return;n.ep=!0;const d=a(n);fetch(n.href,d)}})();W.locale("pt-br");const Nt={TO:"#ef6c00",FONO:"#f6bf26",PSICO:"#8e24aa",PSICOPEDAG:"#000000"},kt={TO:"#ffffff",FONO:"#ffffff",PSICO:"#ffffff",PSICOPEDAG:"#ffffff"},ye=t=>t.charAt(0).toUpperCase()+t.slice(1),Ct=()=>{setTimeout(()=>{(document.querySelectorAll(".p-multiselect-token")||[]).forEach(s=>{const a=Nt[s.textContent.toUpperCase()],c=kt[s.textContent.toUpperCase()];s.style.background=a,s.style.color=c})},0)},X=t=>W(t).format("DD/MM/YYYY"),ve=(t,s)=>{const a=W(t);return W(s).diff(a,"weeks")+1},St=(t,s)=>W(new Date(t,s-1,1)).format("YYYY-MM-DD"),Pt=(t,s)=>W(new Date(t,s,0)).format("YYYY-MM-DD");var Ae=(t=>(t.mobile="mobile",t.web="web",t))(Ae||{});const G=tt.create({baseURL:"https://fbuots.hospedagemelastica.com.br",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",device:Ae.mobile}}),be=(t,s)=>{G.interceptors.request.use(async a=>(a.url.endsWith("login")||(a.headers.Authorization=`Bearer ${t}`,a.headers.login=s),a),a=>Promise.reject(a))},ue=async(t,s)=>await G.post(t,s),Ee=async(t,s)=>await G.put(t,s),At=async t=>await G.delete(`${t}`),q=async t=>{const s=await G(t);return s.status===200?s.data:[]},Et=async(t,s)=>await G(`${t}/${s}`),It=async(t,s,a)=>{const c=a?`?${a}`:"";return await G.post(`${t}/filtro${c}`,s)},Tt="developer",Ie=m.exports.createContext({}),Lt=({children:t})=>{const{perfil:s}=re(),[a,c]=m.exports.useState([]),n=u=>{c(u)};m.exports.useMemo(async()=>{const u=sessionStorage.getItem("auth"),w=(u?JSON.parse(u):[]).permissoes||await q("permissao");c(w)},[]),m.exports.useEffect(()=>{a.length},[]);const d=(u="")=>{switch(!0){case!s:throw new Error("Voce n\xE3o tem permissao");case u==="*":return!0;default:return!!(a.length&&a.includes(u.toUpperCase())||s===Tt)}};return e(Ie.Provider,{value:{hasPermition:d,perfil:s,permissions:a,setPermissionsLogin:n},children:t})},B=()=>m.exports.useContext(Ie),Ot="absolute animate-bounce min-w-[24rem] top-2 right-0 block flex p-4 mb-4 text-sm rounded-lg items-center gap-2 z-[70] ",Te=m.exports.createContext({}),Dt=({children:t})=>{const[s,a]=m.exports.useState("hidden"),[c,n]=m.exports.useState(),[d,u]=m.exports.useState(""),[f,w]=m.exports.useState({type:"info",title:"",message:"",open:!1}),x=h=>{switch(h){case"success":n(e("i",{className:"pi pi-check-circle"}));break;case"failure":n(e("i",{className:"pi pi-times-circle"}));break;case"warning":n(e("i",{className:"pi pi-exclamation-circle"}));break;case"info":n(e("i",{className:"pi pi-info-circle"}));break;default:n(e("i",{className:"pi pi-undo"}));break}},v=h=>{switch(h){case"success":u("z-[10000] text-white bg-green-400 rounded-lg  w-24 ");break;case"failure":u("z-[10000] text-white bg-red-400 rounded-lg  w-24");break;case"warning":u("z-[10000] text-white bg-yellow-400 rounded-lg  w-24");break;case"info":u("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break;default:u("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break}},g=({type:h,message:b,title:o,open:r})=>{x(h),v(h),w({type:h,message:b,title:o,open:r}),a(r?"block":"hidden"),setTimeout(()=>{a("hidden")},3e3)};return e(Te.Provider,{value:{renderToast:g},children:i(S,{children:[t,i("div",{className:`${Ot} ${s} ${d}`,role:"alert",children:[c,i("span",{children:[e("span",{className:"font-medium",children:"   "+f.title})," "+f.message]})]})]})})};function J(){return m.exports.useContext(Te)}const me=m.exports.createContext({}),Rt=({children:t})=>{const[s,a]=m.exports.useState(),[c,n]=m.exports.useState(""),{setPermissionsLogin:d}=B(),{renderToast:u}=J();m.exports.useEffect(()=>{const v=sessionStorage.getItem("token"),g=sessionStorage.getItem("auth"),h=sessionStorage.getItem("perfil")||"";if(v&&g){const b=JSON.parse(g);a(b),n(h),be(v,b.login)}},[]);const f=async v=>{var g;try{const b=(await G.post("/login",{...v,password:parseInt(v.password)})).data;setTimeout(()=>{x()},8e6);const o=(b==null?void 0:b.user)||b.data,r=(b==null?void 0:b.accessToken)||b.data.accessToken,l=(g=o.perfil)!=null&&g.nome?o.perfil.nome.toLowerCase():o.perfil.toLowerCase();sessionStorage.setItem("token",r),sessionStorage.setItem("auth",JSON.stringify(o)),sessionStorage.setItem("perfil",l),o.permissoes.length&&d&&d(o.permissoes),n(l),a(o),await be(r,o.login),u({type:"success",title:" ",message:"Bem vindo!",open:!0})}catch(h){w(h)}},w=v=>{const g=v!=null&&v.data?v==null?void 0:v.data.message:"Usu\xE1rio n\xE3o encontrado!";u({type:"failure",title:v.status,message:g,open:!0})},x=()=>{a(void 0),sessionStorage.clear()};return e(me.Provider,{value:{signed:Boolean(s),user:s,Login:f,Logout:x,perfil:c},children:t})},re=()=>m.exports.useContext(me),Ft="/assets/logo-lg.ee70d40f.jpg";function A({icon:t,size:s="full",type:a="primary",color:c="white",text:n,loading:d,disabled:u=!1,onClick:f}){return e(st,{disabled:u,icon:t,loading:d,label:s==="icon"?"":n,onClick:f,className:j(" text-white text-sm rounded-md border-none ",{"bg-violet-800 hover:bg-violet-600":a==="primary","bg-yellow-400 hover:bg-violet-800":a==="second","bg-transparent hover:bg-transparent":a==="transparent","text-white":c==="white","text-red-400 hover:text-violet-800 focus:text-violet-600":c==="red","text-green-400 hover:text-violet-800 focus:text-violet-600":c==="green","text-yellow-400 hover:text-violet-800 focus:text-violet-600":c==="yellow","text-violet-800 hover:text-violet-600 focus:text-violet-600":c==="violet","w-full":s==="full","sm:w-2/5 w-full":s==="md"})})}function Y({onChange:t,onClick:s,value:a,labelText:c,id:n,type:d,customClass:u,options:f,customCol:w,validate:x,errors:v,control:g,disabled:h,hidden:b,buttonAdd:o}){const r=()=>{switch(d){case"select":return e(R,{name:n,control:g,rules:x,render:({field:l})=>e(ct,{value:a||l.value,virtualScrollerOptions:{itemSize:38},options:f,onChange:p=>(t&&t(p.value),l.onChange(p.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:h})});case"multiselect":return e(R,{name:n,control:g,rules:x,render:({field:l})=>e(lt,{disabled:h,id:l.id,display:"chip",optionLabel:"nome",filter:!0,value:a||l.value,onChange:p=>{Ct(),t&&t(p.value),l.onChange(p.value)},options:f})});case"list":return e(R,{name:n,control:g,rules:x,render:({field:l})=>e(it,{value:l.value,options:f,onChange:p=>l.onChange(p.value),multiple:!0,filter:!0,optionLabel:"nome",listStyle:{maxHeight:"300px"}})});case"textarea":return e(R,{name:n,control:g,rules:x,render:({field:l})=>e("textarea",{id:l.id,...l,value:a||l.value,className:u,placeholder:l.placeholder,disabled:h,rows:"8"})});case"switch":return e(R,{name:n,control:g,rules:x,render:({field:l})=>i("div",{className:"grid grid-cols-6 justify-start items-center h-8",children:[i("span",{className:"col-span-4 text-violet-800",children:[" ",c," "]}),e("div",{className:"col-span-2",children:e(nt,{checked:a||l.value,color:"#685ec5",value:a,disabled:h,onChange:p=>{l.onChange(p.target.value),t&&t(p.target.value)}})})]})});case"tel":return e(R,{name:n,control:g,rules:x,render:({field:l})=>e(ot,{disabled:h,value:a||l.value,type:d,className:"inputAnimado font-inter font-light"+u,mask:"(99) 9999-9999",onChange:p=>l.onChange(p.value)},l.id)});case"checkbox":return e(R,{name:n,control:g,rules:x,render:({field:l})=>i(S,{children:[e(at,{checked:a,type:d,className:"inputAnimado "+u,onChange:p=>{l.onChange(p.target.checked),t&&t(p.target.checked)}}),i("span",{className:"col-span-4 text-violet-800",children:[" ",c," "]})]})});case"time":return e(R,{name:n,control:g,rules:x,render:({field:l})=>m.exports.createElement("input",{id:l.id,...l,value:a||l.value,key:l.id,type:d,className:"inputAnimado font-inter "+u,disabled:h,onInput:p=>{l.onChange(p),t&&t(p)}})});case"price":return e(R,{name:n,control:g,rules:x,render:({field:l})=>e("div",{className:"inputAnimado font-inter "+u,id:l.id,children:i("div",{className:"p-inputgroup",children:[e(rt,{value:a||l.value,disabled:h,onInput:p=>{l.onChange(p),t&&t(p)}}),e("span",{className:"p-inputgroup-addon",children:"R$"})]})})});case"date":return e(R,{name:n,control:g,rules:x,render:({field:l})=>m.exports.createElement("input",{disabled:h,id:l.id,...l,value:a||l.value,key:l.id,type:d,className:"inputAnimado "+u,autoComplete:"off",min:(x==null?void 0:x.min)&&x.min,onInput:p=>{l.onChange(p),t&&t(p)}})});case"input-add":return i("div",{className:"grid  gap-2 grid-cols-6",children:[e(R,{name:n,control:g,rules:x,render:({field:l})=>m.exports.createElement("input",{disabled:h,id:l.id,...l,value:a||l.value,key:l.id,type:d,className:"inputAnimado col-span-5",autoComplete:"off",onInput:p=>{l.onChange(p),t&&t(p)}})}),o?e(A,{text:"Add",icon:"pi pi-plus",type:"primary",size:"icon",onClick:s}):e(A,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:s})]});default:return e(R,{name:n,control:g,rules:x,render:({field:l})=>m.exports.createElement("input",{disabled:h,id:l.id,...l,value:a||l.value,key:l.id,type:d,className:"inputAnimado "+u,autoComplete:"off",onInput:p=>{l.onChange(p),t&&t(p)}})})}};return i("div",{className:j("label-float",{"my-5":!w,hidden:b&&b},w),children:[r(),d!=="switch"&&d!=="checkbox"&&i("label",{children:[" ",c," "]}),v&&v[n]&&e("p",{className:"text-xs text-red-400 text-end",children:v[n].message})]})}function Le({size:t="md",color:s="gray-dark",children:a}){return e("span",{className:j("font-bold",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-black":s==="black"}),children:a})}function M({size:t="md",color:s="gray-dark",text:a,display:c="grid",subtext:n,icon:d,className:u}){return i("div",{className:j("flex gap-4 font-normal tracking-wider text-start items-center text-ellipsis overflow-hidden whitespace-nowrap",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-red-900":s==="red","text-black":s==="black"},u),children:[d&&e("div",{className:"flex items-center",children:e("i",{className:d})}),i("span",{className:c,children:[a,"\xA0",i("strong",{className:"font-inter",children:[" ",n]})]})]})}function te({children:t,legend:s,customCss:a,onClick:c}){return e("fieldset",{className:`px-2 items-center bg-white   shadow-sm mt-2 ${a}`,onClick:c,children:e("div",{className:"py-4 w-full ",children:t})})}function $t({onSubmit:t,control:s,loading:a}){return i("div",{className:"grid grid-cols-12 items-center gap-1",children:[e(Y,{labelText:"Search",id:"search",type:"text",customCol:"col-span-11",control:s}),e("div",{className:"mt-4",children:e(A,{text:"Buscar",icon:"pi pi-search",type:"primary",size:"icon",onClick:t,loading:a})})]})}function zt({onClick:t,onSubmit:s,textButton:a,iconButton:c,control:n,loading:d,screen:u}){const{hasPermition:f}=B();return i("div",{className:"grid grid-cols-8 gap-2 justify-between",children:[e("form",{action:"#",onSubmit:s,className:"col-span-8 sm:col-span-7",children:e($t,{onSubmit:s,control:n,loading:!!d})}),i("div",{className:"col-span-8 sm:col-span-1",children:[f(`${u}_BOTAO_CADASTRAR`)?e("div",{className:"sm:hidden ",children:e(A,{text:a,icon:c,type:"primary",size:"full",onClick:t})}):null,f(`${u}_BOTAO_CADASTRAR`)?e("div",{className:"hidden sm:block mt-5 text-end",children:e(A,{text:a,icon:c,type:"primary",size:"icon",onClick:t})}):null]})]})}function _t({title:t,children:s,open:a,width:c="50vw",onClose:n}){return e(dt,{header:t,modal:!0,visible:a,onHide:n,breakpoints:{"960px":"75vw"},style:{width:c},children:s})}function jt({title:t,message:s,icon:a,onAccept:c,onReject:n,open:d,onClose:u,rejectLabel:f="N\xE3o",acceptLabel:w="Sim"}){return e(pt,{visible:d,onHide:u,message:s,header:t,icon:a,accept:c,reject:n,acceptLabel:w,rejectLabel:f})}function Bt({id:t,legend:s,fields:a,screen:c,loading:n,nameButton:d,dropdown:u,onSubmit:f,onInclude:w,onReset:x}){const{setValue:v,handleSubmit:g,control:h,reset:b}=H(),{hasPermition:o}=B(),r=()=>{b(),x()},l=p=>{p.devolutiva&&(v("naFila",!0),p.naFila=!0),f(p)};return m.exports.useEffect(()=>{o(`${c}_FILTRO_SELECT_AGENDADOS`)||v("naFila",!0)}),e(ut,{children:e(mt,{header:s,tabIndex:0,children:i("form",{id:t,action:"#",onSubmit:g(l),className:"flex-1",children:[e("div",{className:"grid grid-cols-6 gap-4",children:a.map(p=>o(p.permission)&&e(Y,{labelText:p.labelText,id:p.id,type:p.type,customCol:p.customCol,control:h,options:p.type==="select"?u[p.name]:void 0},p.id))}),e("div",{className:"flex items-center mt-10 gap-2 justify-between",children:i(S,{children:[w&&o(`${c}_FILTRO_BOTAO_CADASTRAR`)&&e("div",{className:"sm:text-end",children:e(A,{text:d||"Cadastrar",icon:"pi pi-user-plus",type:"primary",size:"sm",onClick:w})}),e("div",{className:"hidden sm:w-2/4 ml-auto sm:grid grid-cols-2 gap-2",children:i(S,{children:[o(`${c}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(A,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"full",onClick:r})}),o(`${c}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(A,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"full",loading:n,onClick:()=>g(l)})})]})}),e("div",{className:"sm:w-2/4 ml-auto grid sm:hidden grid-cols-2 gap-2",children:i(S,{children:[o(`${c}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(A,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"icon",onClick:r})}),o(`${c}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(A,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"icon",loading:n,onClick:()=>g(l)})})]})})]})})]})})})}const Mt="text-sm items-center flex text-white py-2 px-2 rounded-full cursor-not-allowed cursor-pointer opacity-25 disabled:opacity-100 ";function Vt({onClick:t,type:s,disabled:a}){return e("button",{onClick:t,className:j(Mt,{"bg-to":s.toUpperCase()==="TO","bg-fono":s.toUpperCase()==="FONO","bg-psico":s.toUpperCase()==="PSICO","bg-black":s.toUpperCase()==="PSICOPEDAG"}),disabled:!a,children:s.toUpperCase()})}function V({size:t="md",color:s="gray-dark",text:a,className:c}){return e("span",{className:j("font-normal tracking-wider",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-black":s==="black"},c),children:a})}function Oe({onClickEdit:t,onClickTrash:s,onClickReturn:a,positionActions:c="left",actionEdit:n,actionTrash:d,actionReturn:u,screen:f}){const{hasPermition:w}=B();return e("div",{className:j("flex",{"flex justify-start":c==="left","text-right":c==="right"}),children:i(S,{children:[n&&w(`${f}_LISTA_BOTAO_EDITAR`)&&e(A,{text:"Edit",icon:"pi pi-pencil",type:"transparent",color:"violet",size:"icon",onClick:t}),d&&w(`${f}_LISTA_BOTAO_EXCLUIR`)&&e(A,{text:"Trash",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:s}),u&&w(`${f}_LISTA_BOTAO_RETORNAR`)&&e(A,{text:"Return",icon:"pi pi-replay",type:"transparent",color:"yellow",size:"icon",onClick:a})]})})}function we({onClick:t,textButtonFooter:s,iconButtonFooter:a,sizeButtonFooter:c,typeButtonFooter:n}){return s===""||s===void 0?e(S,{}):i(S,{children:[e("div",{className:"hidden sm:block",children:e(A,{text:s,icon:a,type:n,size:c,onClick:t})}),e("div",{className:"sm:hidden  flex-1",children:e(A,{text:s,icon:a,type:n,size:"full",onClick:t})})]})}function qt({children:t,textButtonFooter:s,iconButtonFooter:a,typeButtonFooter:c,isDevolutiva:n,sizeButtonFooter:d,onClick:u,onClickLink:f}){return i("div",{className:"w-full text-center bg-white overflow-hidden",children:[t,i("div",{className:"flex text-sm  text-gray-400 mt-4 sm:m-0 justify-end gap-2",children:[n&&we({textButtonFooter:"Retornar",iconButtonFooter:"pi pi-sync",typeButtonFooter:"second",sizeButtonFooter:d,onClick:f||(()=>{})}),we({textButtonFooter:s,iconButtonFooter:a,typeButtonFooter:c,sizeButtonFooter:d,onClick:u})]})]})}function Ut({textPrimaryLeft:t,textPrimaryRight:s,textSecondLeft:a,onClickLink:c,onClick:n,textButtonFooter:d,iconButtonFooter:u,typeButtonFooter:f,sizeButtonFooter:w,onClickEdit:x,onClickTrash:v,onClickReturn:g,positionActions:h="right",actionEdit:b,actionTrash:o,actionReturn:r,screen:l}){return e(ce.Root,{textButtonFooter:d,iconButtonFooter:u,typeButtonFooter:f,sizeButtonFooter:w,onClick:n,children:i(S,{children:[i("div",{className:"grid grid-cols-5 justify-between text-base font-medium text-gray-800 mt-4",children:[i("div",{className:"col-span-4 grid sm:grid-cols-2 gap-2 sm:justify-between text-left",children:[e(V,{text:t,size:"lg",color:"violet"}),e(V,{text:s,size:"sm",color:"gray"}),e("span",{})]}),Oe({onClickEdit:x,onClickTrash:v,onClickReturn:g,positionActions:h,actionEdit:b,actionTrash:o,actionReturn:r,screen:l})]}),a&&i("div",{className:"mt-1  flex items-center gap-2",children:[e("i",{className:"pi pi-user text-sm text-gray-400 "}),e(V,{text:a,size:"xs",color:"gray"})]})]})})}function Gt({textPrimaryLeft:t,textPrimaryCenter:s,textPrimaryRight:a,textSecondLeft:c,textSecondRight:n,textSecondCenter:d,textFooter:u,tags:f,onClickEdit:w,onClickTrash:x,onClickReturn:v,onClick:g,onClickLink:h,textButtonFooter:b,iconButtonFooter:o,typeButtonFooter:r,sizeButtonFooter:l,isDevolutiva:p,actionEdit:T,actionTrash:O,actionReturn:L,positionActions:D="left",children:C,screen:N}){const{hasPermition:E}=B(),z=()=>e("div",{className:"text-right flex gap-1 h-8 justify-end",children:f==null?void 0:f.map(F=>e(Vt,{onClick:E(`${N}_LISTA_TAG_ESPECIALIDADES`)?h:void 0,type:F.type,disabled:N==="FILA_DEVOLUTIVA"||N==="CADASTRO_PACIENTES"?!1:F==null?void 0:F.disabled},F.type))});return e(ce.Root,{textButtonFooter:b,iconButtonFooter:o,typeButtonFooter:r,isDevolutiva:p,sizeButtonFooter:l,onClick:g,onClickLink:h,children:i(S,{children:[i("div",{className:"grid grid-rows-2 sm:grid-cols-2 mb-4 sm:mb-0 h-12 mt-6",children:[N!=="FILA_DEVOLUTIVA"?Oe({onClickEdit:w,onClickTrash:x,onClickReturn:v,positionActions:D,actionEdit:T,actionTrash:O,actionReturn:L,screen:N}):e("div",{}),z()]}),i("div",{children:[i("div",{className:"grid items-end gap-2 sm:gap-8 text-left ",children:[e(V,{text:t,size:"lg",color:"violet"}),e(V,{className:"font-inter",text:s,size:"sm",color:"gray-dark"}),e(V,{className:"font-inter",text:a,size:"sm",color:"gray-dark"})]}),i("div",{className:"mt-1 grid sm:flex items-center sm:gap-2 justify-between font-light text-left",children:[e("div",{className:"flex justify-center items-center ",children:e(V,{text:c,size:"md",color:"gray-dark"})}),E(`${N}_LISTA_TEXT_TELEFONE`)?i("div",{className:"flex items-center gap-2 p-2 font-sans text-left",children:[e("i",{className:"pi pi-phone text-gray-400 text-xs"}),e(V,{text:d,size:"md",color:"gray-dark",className:"font-inter"})]}):e(S,{}),e(V,{text:n,size:"md",color:"gray-dark",className:"font-inter"})]}),e("div",{className:"mt-2",children:C}),i("div",{className:"mt-4 flex items-center gap-2 text-ellipsis overflow-hidden",children:[e(ht,{target:".obs",mouseTrack:!0,className:"w-2/4 sm:w-1/4"}),e("p",{className:" text-gray-800  text-sm justify-start text-start obs text-ellipsis overflow-hidden","data-pr-tooltip":u,children:u})]})]})]})})}const ce={Root:qt,Simples:Ut,Complete:Gt};function Yt(){return i("div",{className:"uppercase flex items-center gap-4 m-auto mt-2 justify-center",children:[e("i",{className:"pi pi-folder-open"}),e(Le,{color:"gray",children:"N\xE3o h\xE1 itens"})]})}const De="Comp 1",Re="",Fe=[{ty:4,nm:"circle outline",mn:"",sr:1,st:0,op:180,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[0,0,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[55.228,0],[0,-55.228],[-55.228,0]],o:[[0,-55.228],[-55.228,0],[0,55.228],[55.228,0]],v:[[0,0],[-100,-100],[-200,0],[-100,100]]},ix:2}},{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[-55.228,0],[0,-55.228],[55.228,0]],o:[[0,-55.228],[55.228,0],[0,55.228],[-55.228,0]],v:[[0,0],[100,-100],[200,0],[100,100]]},ix:2}},{ty:"tm",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:0,k:80,ix:2},o:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:3},s:{a:0,k:100,ix:1},m:2},{ty:"st",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:52,ix:5},d:[],c:{a:0,k:[.4,.1608,.4667],ix:3}}],ind:1,parent:2},{ty:4,nm:"circle",mn:"",sr:1,st:0,op:200,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[960,540,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[-100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 2",d:1,p:{a:0,k:[100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.4,.1608,.4667],ix:4},r:1,o:{a:0,k:100,ix:5}}],ind:2}],$e=0,ze=1080,_e=1920,je={a:"",k:"",d:"",g:"@lottiefiles/toolkit-js 0.22.1",tc:"#000000"},Be="5.7.4",Me=30,Ve=180,qe=0,Ue=[],Ht={nm:De,mn:Re,layers:Fe,ddd:$e,h:ze,w:_e,meta:je,v:Be,fr:Me,op:Ve,ip:qe,assets:Ue},Jt=Object.freeze(Object.defineProperty({__proto__:null,nm:De,mn:Re,layers:Fe,ddd:$e,h:ze,w:_e,meta:je,v:Be,fr:Me,op:Ve,ip:qe,assets:Ue,default:Ht},Symbol.toStringTag,{value:"Module"}));function Kt(){return e("div",{className:"flex items-center justify-center",children:e(wt,{loop:!0,animationData:Jt,play:!0,style:{width:200,height:200}})})}var Q=(t=>(t.queue_avaliation="queue_avaliation",t.avaliation="avaliation",t.queue_devolutiva="queue_devolutiva",t.devolutiva="devolutiva",t.queue_therapy="queue_therapy",t.therapy="therapy",t.crud_therapy="crud_therapy",t))(Q||{});const Qt=[{permission:"CADASTRO_PACIENTES",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Inativos",id:"disabled",name:"disabled",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}];function Ge({type:t="simples",iconButtonFooter:s,textButtonFooter:a,onClickLink:c,onClick:n,onClickEdit:d,onClickTrash:u,onClickReturn:f,items:w,screen:x,loading:v=!1}){B();const g=r=>{var p;if(!r.status||r.statusPacienteCod===Q.crud_therapy)return null;const l=`${(p=r.status)==null?void 0:p.nome}`;switch(l){case"Urgente":return e(M,{text:"Prioridade: ",subtext:i("strong",{className:"text-red-900  px-1 flex",children:[l,i("span",{className:"flex h-2 w-2 relative",children:[e("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-900"})]})]}),size:"sm",color:"gray-dark",display:"flex"});case"Padr\xE3o":return e(M,{text:"Prioridade: ",subtext:"Padr\xE3o",size:"sm",color:"gray-dark",display:"flex"});case"Voltou ABA":return e(M,{text:"Prioridade: ",subtext:"Voltou ABA",size:"sm",color:"gray-dark",display:"flex"})}},h=()=>w.map(r=>{var L,D;const l=(r==null?void 0:r.nome)||(r==null?void 0:r.casa),p=((L=r==null?void 0:r.perfil)==null?void 0:L.nome.toUpperCase())||(r==null?void 0:r.sala)||((D=r==null?void 0:r.especialidade)==null?void 0:D.nome),T=(r==null?void 0:r.login)||"",O=!!(r!=null&&r.ativo);return i(S,{children:[e(ce.Simples,{textPrimaryLeft:l,textPrimaryRight:p,textSecondLeft:T,onClickLink:()=>c(r),onClick:()=>n(r),textButtonFooter:a,iconButtonFooter:s,typeButtonFooter:"second",sizeButtonFooter:"sm",onClickEdit:()=>d(r),onClickTrash:()=>u(r),onClickReturn:()=>f(r),actionEdit:O,actionTrash:O,actionReturn:!O,screen:x},(r==null?void 0:r.login)||r.id),x==="CADASTRO_PROGRAMA"&&i(S,{children:[e(S,{children:" Atividades "}),i(xt,{value:r.atividades,size:"small",responsiveLayout:"scroll",className:"-mt-4",showGridlines:!0,children:[e(xe,{field:"id",header:"Id"}),e(xe,{field:"nome",header:"Nome"})]})]})]})}),b=()=>w.map(r=>{var U,$,ae,oe,ne,ee,ie,y;const l=r==null?void 0:r.nome,p=r==null?void 0:r.idade,T=r!=null&&r.responsavel?`Respons\xE1vel: ${r.responsavel}`:"",O=r==null?void 0:r.telefone;let L=r!=null&&r.convenio?r==null?void 0:r.convenio.nome:"";const D=(U=r==null?void 0:r.vaga)==null?void 0:U.observacao,C=!!(r!=null&&r.disabled);let N;const E={text:"",icon:"",type:"second",size:"md"};let z=!1;x==="CADASTRO_PACIENTES"&&(E.text="Prontu\xE1rio",E.icon="pi pi-palette",E.type="primary",E.size="md",N="programa");const F=r==null?void 0:r.vaga.especialidades.map(k=>({type:k.especialidade.nome,disabled:k.agendado}));return e(ce.Complete,{textPrimaryLeft:l,textPrimaryCenter:p,textSecondLeft:T,textSecondCenter:O,textPrimaryRight:e(M,{text:"Carteirinha: ",subtext:r.carteirinha,size:"sm",color:"gray-dark",display:"flex"}),textSecondRight:L,textFooter:D,onClick:()=>n({item:r,typeButtonFooter:N}),textButtonFooter:E.text,iconButtonFooter:E.icon,typeButtonFooter:E.type,isDevolutiva:z,tags:F,onClickLink:()=>c(r),sizeButtonFooter:"sm",onClickEdit:()=>d(r),onClickTrash:()=>u(r),onClickReturn:()=>f({item:r,typeButtonFooter:N}),actionEdit:!C,actionTrash:!C,actionReturn:C,screen:x,children:!r.emAtendimento&&i("div",{className:"flex justify-between",children:[i("div",{className:"sm:flex items-center sm:gap-4",children:[Q.crud_therapy!==(r==null?void 0:r.statusPacienteCod)&&i(S,{children:[e(M,{text:"Per\xEDodo: ",subtext:(ae=($=r==null?void 0:r.vaga)==null?void 0:$.periodo)==null?void 0:ae.nome,size:"sm",color:"gray-dark",display:"flex"}),e(M,{text:"Tipo: ",subtext:(oe=r==null?void 0:r.tipoSessao)==null?void 0:oe.nome,size:"sm",color:"gray-dark",display:"flex"})]}),g(r),((ne=r.vaga)==null?void 0:ne.dataDevolutiva)&&e(M,{className:"font-inter",text:"Devolutiva:",subtext:X((ee=r.vaga)==null?void 0:ee.dataDevolutiva),size:"sm",color:"gray-dark",display:"flex"})]}),((ie=r==null?void 0:r.vaga)==null?void 0:ie.dataContato)&&e("div",{className:"text-end",children:e(M,{className:"font-inter",text:"Inclus\xE3o: ",subtext:X((y=r==null?void 0:r.vaga)==null?void 0:y.dataContato),size:"sm",color:"gray-dark",display:"flex"})})]})},r.id)}),o=()=>v?e(Kt,{}):w.length?e("ul",{className:"-my-6 divide-y divide-gray-200 grid gap-4 items-center",children:t==="simples"?h():b()}):e(Yt,{});return e("div",{className:"pointer-events-auto flex-1",children:e("div",{className:"flex flex-col  bg-white ",children:e("div",{className:j("flex-1  overflow-y-auto py-6",{"flex  justify-center":!w.length}),children:e("div",{className:"",children:e("div",{className:"flow-root",children:o()})})})})})}function Wt({heading:t}){return i("div",{className:"mb-10 text-center",children:[e("div",{className:"flex justify-center",children:e("img",{alt:"",className:"h-32 ",src:Ft})}),e(Le,{size:"lg",children:t})]})}const Xt=[{labelText:"Login",labelFor:"username",id:"username",name:"username",type:"text",autoComplete:"text",isRequired:!0,placeholder:"Login",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o xxx.xxx"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Senha",labelFor:"password",id:"password",name:"password",type:"password",isRequired:!0,placeholder:"Senha",validate:{required:"Campo obrigat\xF3rio!"}}],le={labelText:"Atividade",labelFor:"atividade",id:"atividade0",name:"atividade",type:"input-add",isRequired:!0,placeholder:"Atividade",customCol:"col-span-5 sm:col-span-5",buttonAdd:!0,validate:{required:"Campo obrigat\xF3rio!"}},Zt=[{labelText:"Programa",labelFor:"nome",id:"nome",name:"nome",type:"text",autoComplete:"text",isRequired:!0,placeholder:"Programa",customCol:"col-span-6 sm:col-span-6",validate:{required:"Campo obrigat\xF3rio!",minlength:8}}],pe={programaFields:Zt},Ye=Xt,es={};Ye.forEach(t=>es[t.id]="");function ts(){const t={username:"",password:""},[s,a]=m.exports.useState(!1),[c,n]=m.exports.useState(!1),{renderToast:d}=J(),{handleSubmit:u,formState:{errors:f},setValue:w,watch:x,control:v}=H({defaultValues:t}),{Login:g}=re(),h=async({username:o,password:r})=>{n(!0);try{await g({username:o,password:r}),n(!1)}catch{n(!1),d({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},b=async o=>{a(o),localStorage.setItem("rememberCheck",JSON.stringify(o)),o?(localStorage.setItem("rememberCheck","true"),localStorage.setItem("rememberLogin",JSON.stringify({username:x("username"),password:x("password")}))):(localStorage.removeItem("rememberLogin"),localStorage.setItem("rememberCheck","false"))};return m.exports.useEffect(()=>{const o=localStorage.getItem("rememberLogin");if(o){const{username:r,password:l}=JSON.parse(o);a(!0),w("username",r),w("password",l)}},[]),i("form",{className:"mt-8 space-y-6",onSubmit:u(h),children:[e("div",{children:Ye.map(o=>e(Y,{id:o.id,type:o.type,labelText:o.labelText,control:v,validate:o.validate,errors:f},o.id))}),e(Y,{id:"checkbox-login",labelText:"Lembrar login",type:"checkbox",control:v,onChange:b,value:s}),e(A,{text:"Entrar",type:"primary",size:"full",onClick:u(h),loading:c})]})}const ss="luck-web",rs="0.0.2",as="module",os={dev:"vite --port=3000 --host",start:"node serve.js --host",preview:"vite preview --host",sb:"start-storybook -p 6006",format:'prettier --write "src/**/*.{ts,js,tsx}"',lint:'eslint "src/**/*.{ts,js}" --quiet',build:"export NODE_OPTIONS='--max-old-space-size=8192' && tsc && vite build"},ns={"@fullcalendar/core":"5.11.3","@fullcalendar/daygrid":"5.11.3","@fullcalendar/interaction":"5.11.3","@fullcalendar/list":"5.11.3","@fullcalendar/moment":"5.11.3","@fullcalendar/moment-timezone":"5.11.3","@fullcalendar/react":"5.11.2","@fullcalendar/rrule":"5.11.3","@fullcalendar/timegrid":"5.11.3","@types/uuid":"^9.0.7","@vitejs/plugin-react-refresh":"^1.3.6",autoprefixer:"10.4.12",axios:"1.1.3","chart.js":"3.9.1",clsx:"1.2.1",cors:"2.8.5",express:"4.18.2","lottie-react":"2.3.1",moment:"2.29.4","postcss-import":"15.0.0",primeicons:"6.0.1",primereact:"8.7.0",quill:"1.3.7",react:"18.2.0","react-chartjs-2":"4.3.1","react-dom":"18.2.0","react-hook-form":"7.37.0","react-lottie-player":"1.5.4","react-router-dom":"6.4.2",rrule:"2.7.1",url:"0.11.0",uuid:"^9.0.1","vite-plugin-pwa":"^0.17.4","web-vitals":"2.1.4","workbox-background-sync":"6.5.4","workbox-broadcast-update":"6.5.4","workbox-cacheable-response":"6.5.4","workbox-core":"6.5.4","workbox-expiration":"6.5.4","workbox-google-analytics":"6.5.4","workbox-navigation-preload":"6.5.4","workbox-precaching":"6.5.4","workbox-range-requests":"6.5.4","workbox-routing":"6.5.4","workbox-strategies":"6.5.4","workbox-streams":"6.5.4",xlsx:"^0.18.5"},is={"@babel/core":"7.19.3","@types/react":"18.0.17","@types/react-dom":"18.0.6","@vitejs/plugin-react":"2.1.0","babel-loader":"8.2.5",prettier:"latest","standard-version":"9.5.0",tailwindcss:"3.2.1",typescript:"4.8.4",vite:"3.1.0","workbox-build":"6.5.4"},ls={name:ss,version:rs,private:!0,type:as,scripts:os,dependencies:ns,devDependencies:is};function Ne(){const[t,s]=m.exports.useState(""),a=m.exports.useCallback(async()=>{const{data:c}=await q("/");s(`vers\xE3o frontend: ${ls.version} - ${c}`)},[]);return m.exports.useEffect(()=>{a()},[a]),i(S,{children:[e(Wt,{heading:"Prontu\xE1rio"}),e(ts,{}),e("div",{className:"text-xs absolute bottom-0 text-gray-300 left-0  w-full flex justify-center",children:e("div",{className:"",children:t})})]})}const cs=()=>e("div",{className:"min-h-full h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-md w-full space-y-8",children:e(Se,{children:i(Pe,{children:[e(K,{path:"/",element:e(Ne,{})}),e(K,{path:"*",element:e(Ne,{})})]})})})}),ds=({children:t})=>e("div",{className:"h-screen overflow-y-auto",children:e("div",{className:"mx-2 mt-4 mb-16",children:t})}),he=m.exports.createContext({}),ps=({children:t})=>{const[s,a]=m.exports.useState(!1);return e(he.Provider,{value:{open:s,setOpen:a},children:t})},us=()=>{const{Logout:t}=re(),{hasPermition:s,permissions:a}=B(),{open:c,setOpen:n}=m.exports.useContext(he),[d,u]=m.exports.useState([]),{user:f,perfil:w}=m.exports.useContext(me),x=de(),v=()=>{const b=We.filter(o=>o.path!=="*");u(b)},g=()=>i("aside",{onClick:()=>n(!1),className:"fixed border-box shadow-3xl w-full h-screen z-20  bg-primary duration-700 ease-in-out",children:[e("div",{className:"bg-logo-md-write bg-no-repeat bg-cover h-[13rem] "}),i("div",{className:"border-y border-primary-text duration-1000 p-4 mt-2",children:[i("h3",{className:"text-primary-text text-center font-light text-sm ",children:[" ",f.nome]}),i("h3",{className:"text-gray-200 text-center font-light text-xs ",children:[" ",ye(w)," "]})]}),e("ul",{className:"list-none p-0 mt-8",children:d.map(b=>{const o=x.pathname.startsWith(b.path);return e("li",{className:`${o?"bg-primary-hover text-primary-text-hover":"text-primary-text"} hover:px-0 hover:bg-primary-hover  hover:text-primary-text-hover duration-700 grid grid-cols-6 justify-center`,children:i(bt,{to:b.path,className:"flex gap-8 items-center text-sm px-4 py-4 col-start-3",children:[e("i",{className:b.icon}),e("span",{className:"duration-700",children:ye(b.path)})]})},b.path)})}),e("i",{onClick:t,className:"pi pi-sign-out duration-700 text-primary-text hover:scale-125 cursor-pointer  w-4 col-span-1 fixed bottom-8 left-6"})]}),h=()=>e("aside",{onClick:()=>n(!0),className:"fixed shadow-3xl w-12 h-12 z-20 mt-[1vh] right-2 rounded-3xl bg-primary duration-700 ease-in-out",children:e("div",{className:"bg-logo-mini bg-no-repeat bg-cover h-12 w-12 duration-700"})});return m.exports.useEffect(()=>{v()},[a]),c?g():e("nav",{className:"fixed h-12 w-full bg-primary mb-8",children:h()})};function ke(){const[t,s]=m.exports.useState(),[a,c]=m.exports.useState(!1),{renderToast:n}=J(),{reset:d,handleSubmit:u,formState:{errors:f},control:w}=H(),x=()=>{const g=sessionStorage.getItem("auth"),h=JSON.parse(g);s(h)},v=async g=>{c(!0);try{g.id=t.login;const{data:h}=await Ee("/usuarios/reset-senha",g);c(!1),d(),n({type:"success",title:"",message:h.message,open:!0})}catch({message:h}){n({type:"failure",title:"401",message:`${h}`,open:!0}),d();return}};return m.exports.useEffect(()=>{x()},[]),e(S,{children:e(te,{customCss:"rounded-lg border border-gray-200 p-4",children:i("div",{className:"grid sm:grid-cols-2",children:[e(M,{text:t==null?void 0:t.nome,subtext:t==null?void 0:t.login,color:"violet",size:"md",icon:"pi pi-id-card",display:"grid"}),i("div",{className:"flex gap-2  my-6 sm:my-0  items-center",children:[e(Y,{labelText:"Alterar senha",id:"senha",type:"password",customCol:" w-full",errors:f,validate:{required:!0},control:w}),e("div",{className:" mt-4 ",children:e(A,{text:"Alterar senha",type:"second",icon:"pi pi-sync",size:"icon",onClick:u(v)})})]})]})})})}const He=[{labelText:"Resumo",labelFor:"resumo",id:"resumo",name:"resumo",type:"textarea",isRequired:!0,placeholder:"Resumo",validate:{required:"Campo obrigat\xF3rio!"}}],ms=He,hs={};ms.forEach(t=>hs[t.id]="");const xs=()=>{const[t,s]=m.exports.useState([]),[a,c]=m.exports.useState([]),n=se(),d=de(),{event:u}=d.state;J();const{handleSubmit:f,formState:{errors:w},control:x}=H({}),v=async()=>{const r=await q("programa/dropdown");s(r)},g=async r=>{n(`/${Z.SESSION}`,{state:{event:u}})},h=()=>e(R,{name:"programas",control:x,render:()=>e(ft,{filter:!0,filterMode:"strict",filterPlaceholder:"Programas",value:t,selectionKeys:a,selectionMode:"checkbox",className:"w-full md:w-30rem",onSelectionChange:r=>(c(r.value),r.value)})}),b=()=>i("div",{className:"text-primary font-base grid justify-start m-4 p-2 leading-4",children:[e("span",{className:"font-bold",children:" Protocolo "}),u.paciente.nome,i("span",{className:"text-gray-400 font-light text-sm font-inter",children:[" ",X(u.dataInicio),"  "]})]}),o=()=>e("div",{className:"fixed bottom-0 w-[104vw] ml-[-0.5rem]",children:e(A,{text:"Salvar Protocolo",icon:"pi pi-play",type:"primary",color:"white",size:"full",onClick:f(g)})});return m.exports.useEffect(()=>{v()},[]),i(S,{children:[b(),h(),o()]})},Je=He,fs={};Je.forEach(t=>fs[t.id]="");const gs=()=>{const t=se(),[s,a]=m.exports.useState([]),{renderToast:c}=J(),n=de(),{event:d,session:u}=n.state,[f,w]=m.exports.useState([]),{handleSubmit:x,formState:{errors:v},control:g}=H({}),h=async()=>{const p=await q(`sessao/protocolo/${d.paciente.id}`);a(p)},b=async({resumo:p})=>{c(p?{type:"success",title:"Sucesso!",message:"Resumo da sess\xE3o enviado!",open:!0}:{type:"failure",title:"Erro!",message:"Necess\xE1rio preencher o resumo",open:!0});try{const T=await ue("sessao",{resumo:p,pacienteId:d.pacient.id,programas:f,calendarioId:d.id,especialidadeId:d.especialidade.id,terapeutaUsuarioId:d.terapeuta.id});t(`/${Z.CALENDAR}`)}catch{c({type:"failure",title:"Erro!",message:"Falha ao enviar o resumo",open:!0})}},o=()=>i("div",{className:"text-primary font-base grid justify-start m-4 p-2 leading-4",children:[e("span",{className:"font-bold",children:" Sess\xE3o "}),d.paciente.nome,i("span",{className:"text-gray-400 font-light text-sm font-inter",children:[" ",X(d.dataInicio),"  "]})]}),r=()=>i(S,{children:[e(R,{name:"programas",control:g,render:()=>e(Ce,{filter:!0,filterMode:"strict",filterPlaceholder:"Programas",value:s,selectionKeys:f,selectionMode:"checkbox",className:"w-full md:w-30rem",onSelectionChange:p=>(w(p.value),p.value)})}),Je.map(p=>e(Y,{id:p.id,type:p.type,labelText:p.labelText,control:g,validate:p.validate,errors:v},p.id))]}),l=()=>e("div",{className:"fixed bottom-0 w-[104vw] ml-[-0.5rem]",children:e(A,{text:"Salvar sess\xE3o",icon:"pi pi-check",type:"primary",color:"white",size:"full",onClick:x(b)})});return m.exports.useEffect(()=>{h()},[]),i(S,{children:[o(),r(),l()]})},ys=()=>{const t=se(),[s,a]=m.exports.useState({}),{user:c}=re(),n=new Date,[d,u]=m.exports.useState({start:St(n.getFullYear(),n.getMonth()+1),end:Pt(n.getFullYear(),n.getMonth()+1)}),f=o=>{t(`/${Z.PROTOCOLO}`,{state:{event:o}})},w=o=>{let r=o.modalidade.nome;if(r!=="Avalia\xE7\xE3o"||!(o!=null&&o.dataInicio)||!(o!=null&&o.dataFim))return e("span",{children:r});const l=ve(o.dataInicio,o.dataAtual),p=ve(o.dataInicio,o.dataFim);return e(S,{children:i("span",{children:[r,e("span",{className:"font-inter ml-2",children:`${l}/${p}`})," "]})})},x=async()=>{const o=await q(`/evento/filtro/${d.start}/${d.end}?terapeutaId=${c.id}`);a(o)},v=o=>e(te,{customCss:"border-l-4 border-l-green-400 rounded-lg",children:i("div",{className:"flex gap-2 w-full item-center",children:[i("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[i("span",{children:[" ",o.start]})," -",e("span",{children:o.end})]}),i("div",{className:"text-gray-800 text-center flex items-center justify-center text-md",children:["  ",o.title]})]})}),g=o=>e(te,{customCss:j("border-l-4 rounded-lg",{"border-l-red-900":o.borderColor=="#f87171","border-l-to":o.borderColor=="#ef6c00"}),onClick:()=>f(o),children:i("div",{className:"flex gap-2 w-full item-center",children:[i("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[i("span",{children:[" ",o.data.start]})," -",e("span",{children:o.data.end})]}),i("div",{className:"text-gray-800 text-sm text-center grid justify-center",children:[i("div",{className:"font-base font-semibold text-primary",children:["  ",o.title," "]}),i("p",{className:"flex gap-4 items-center justify-between",children:[w(o)," ",e("span",{children:o.statusEventos.nome})]}),i("p",{className:"flex gap-4 items-center",children:[o.localidade.nome,o.isExterno&&i("span",{className:"font-bold font-inter",children:[" ",`- ${o.km}km`," "]})]})]})]})}),h=o=>{switch(o.id){case 0:return v(o);default:return g(o)}},b=()=>Object.keys(s).map(o=>i(S,{children:[e("div",{className:"font-inter my-2 text-gray-400",children:X(o)}),s[o].map(r=>h(r))]}));return m.exports.useEffect(()=>{x()},[]),e(S,{children:b()})};function Ke({totalPages:t,currentPage:s,onChange:a}){const[c,n]=m.exports.useState(s||1);return i("div",{className:"flex items-center justify-center p-2 gap-2 mt-1",children:[e("button",{onClick:()=>{n(c-1),a(c-1)},disabled:c===1,className:"bg-transparent w-12 h-12 cursor-pointer hover:scale-110 duration-700 text-primary disabled:opacity-30 disabled:cursor-not-allowed disabled:text-slate-200",children:e("i",{className:"pi pi-arrow-circle-left"})}),i("span",{className:"text-primary font-inter",children:[c," de ",t]}),e("button",{onClick:()=>{n(c+1),a(c+1)},disabled:c===t,className:"bg-transparent w-12 h-12 cursor-pointer hover:scale-110 duration-700 text-primary  disabled:opacity-30 disabled:cursor-not-allowed disabled:text-slate-200",children:e("i",{className:"pi pi-arrow-circle-right"})})]})}function vs({namelist:t,onClick:s,iconButtonFooter:a,textButtonFooter:c,screen:n}){const[d,u]=m.exports.useState([]),[f,w]=m.exports.useState({pageSize:0,totalPage:0}),[x,v]=m.exports.useState({}),[g,h]=m.exports.useState(!1),[b,o]=m.exports.useState(!1),[r,l]=m.exports.useState(!1),[p,T]=m.exports.useState(!1),[O,L]=m.exports.useState([]),{renderToast:D}=J(),{handleSubmit:C,control:N,formState:{errors:E},setValue:z,unregister:F,reset:U}=H({}),$=m.exports.useCallback(async(y=1,k=10)=>{l(!0);try{const P=await q(`${t}?page=${y}&pageSize=${k}`);u(P.data),w(P.pagination),l(!1)}catch{l(!1)}g&&h(!1)},[]),ae=async y=>{try{if(y.search===void 0||y.search===""){$();return}l(!0);const k=await Et(t,y.search);z("search","");const P=k.status===200?k.data:[];u(P),w({pageSize:0,totalPage:0}),l(!1)}catch(k){l(!1),ee(k)}},oe=async y=>{try{l(!0);let k;const P={...y};Object.keys(y).forEach(I=>{if(I.indexOf("Id")!==-1){if(!y[I]||typeof y[I][0]=="number"){delete P[I];return}Array.isArray(y[I])&&y[I].length?P[I]=P[I].map(_=>_.id):P[I]=y[I].id}}),delete P.search,b?(x.nome=P.nome,P.id=x.id,k=await Ee(t,P)):k=await ue(t,P),U(),$(),o(!1),h(!1),D({type:"success",title:"",message:"Sucesso!",open:!0})}catch({message:k}){D({type:"failure",title:"401",message:`${k}`,open:!0}),l(!1);return}},ne=async()=>{try{await At(`${t}/${x.id}`),$(),T(!1),D({type:"success",title:" Sucesso!! ",message:"Atualizado com sucesso!",open:!0})}catch(y){ee(y)}},ee=({data:y})=>{D({type:"failure",title:"401",message:(y==null?void 0:y.message)||"N\xE3o foi poss\xEDvel realizar!",open:!0})},ie=y=>{if(y){const k=O.filter(I=>I.id!==y),P={...x};delete P[y],delete P.atividades,v(P),L(k),F(y,{keepDirtyValues:!0})}else{const k=[...O],P={...le},I=ge();P.id=`atividade${I}`,k.map(_=>{_.buttonAdd=!1}),P.buttonAdd=!0,k.push(P),L(k)}};return m.exports.useEffect(()=>{let y=`${t}Fields`;const k=[...pe[y]],P={};k.forEach(I=>P[I.id]=""),L(k)},[pe]),m.exports.useEffect(()=>{$()},[$]),i(S,{children:[e(zt,{onClick:()=>{if(t==="programa"){const y=[...O],k=ge();le.id=`atividade${k}`,y[1]=le,L(y)}o(!1),h(!0)},onSubmit:C(ae),textButton:"Cadastrar",iconButton:"pi pi-plus",control:N,loading:r,screen:n}),i(te,{children:[e(Ge,{loading:r,screen:n,type:"simples",onClickTrash:y=>{y.ativo=!1,v(y),T(!0)},onClickEdit:y=>{const k={...y};let P=`${t}Fields`;const I=[...pe[P]];z("nome",y.nome),k.atividades.map((_,Xe)=>{I.push({...le,id:`atividade${_.id}`,name:`atividade${_.id}`,buttonAdd:Xe===k.atividades.length-1}),k[`atividade${_.id}`]=_.nome,z(`atividade${_.id}`,_.nome)}),L(I),o(!0),v(k),h(!0)},onClick:y=>s(y.id),items:d,iconButtonFooter:a,textButtonFooter:c,onClickLink:()=>{},onClickReturn:y=>{y.ativo=!0,v(y),o(!0)}}),f.totalPages>1&&e(Ke,{totalPages:f.totalPages,currentPage:f.currentPage,onChange:$})]}),e(_t,{title:"Cadastro",open:g,width:"95vw",onClose:()=>{h(!1),U()},children:i("div",{className:"grid gap-6",children:[e("div",{className:"grid sm:grid-cols-6 items-center sm:gap-2",children:O.map(y=>e(Y,{labelText:y.labelText,id:y.id,type:y.type,validate:y.validate?y.validate:{required:"Campo obrigat\xF3rio!"},errors:E,control:N,hidden:y.hidden,customCol:y.customCol,onClick:()=>t==="programa"?ie(y.id):null,buttonAdd:y==null?void 0:y.buttonAdd},y.id))}),e(A,{text:b?"Atualizar":"Cadastrar",type:b?"second":"primary",size:"full",onClick:C(oe),loading:r})]})}),e(jt,{onAccept:ne,onReject:()=>T(!1),onClose:()=>T(!1),title:"Desativar",message:"Deseja realmente excluir?",icon:"pi pi-exclamation-triangle",open:p})]})}const bs=m.exports.createContext({});function ws(){return m.exports.useContext(bs)}const Qe=Qt,Ns={};Qe.forEach(t=>Ns[t.id]="");function ks(){const t="CADASTRO_PACIENTES",{hasPermition:s}=B(),a=se(),[c,n]=m.exports.useState(Qe),[d,u]=m.exports.useState([]);m.exports.useState();const[f,w]=m.exports.useState({}),[x,v]=m.exports.useState({pageSize:10,totalPages:0,currentPage:1}),[g,h]=m.exports.useState(!1),[b,o]=m.exports.useState([]),{renderDropdownQueue:r,renderPacientes:l}=ws(),{renderToast:p}=J(),T=m.exports.useCallback(async()=>{try{h(!0),u([]);const N=await q(`paciente?statusPacienteCod=${Q.crud_therapy}&page=${x.currentPage}&pageSize=${x.pageSize}`);u(N.data),v(N.pagination),h(!1)}catch{h(!1),p({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),O=async N=>{const E={...x,currentPage:N};v(E),L(f,E)},L=async(N=f,E=x)=>{h(!0),w(N);try{const z={disabled:N.disabled===void 0?!1:N.disabled,statusPacienteCod:Q.crud_therapy};delete N.disabled,await Object.keys(N).map(U=>{var $;z[U]=(($=N[U])==null?void 0:$.id)||void 0});const F=await It("paciente",z,`page=${E.currentPage}&pageSize=${E.pageSize}`);u(F.data.data||F.data),v(F.pagination||F.data.pagination),h(!1)}catch{h(!1),p({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},D=async({item:N,typeButtonFooter:E})=>{switch(E){case"programa":a(`/${Z.PATIENT}`,{state:{patient:N}});break}},C=m.exports.useCallback(async()=>{const N=await r(Q.crud_therapy);o(N)},[]);return m.exports.useEffect(()=>{s("CADASTRO_PACIENTES_FILTRO_SELECT_AGENDADOS")?T():L({naFila:!0,disabled:!1}),C()},[T]),i("div",{className:"grid",children:[e(Bt,{id:"form-filter-patient",legend:"Filtro",fields:c,screen:t,onSubmit:L,onReset:T,loading:g,dropdown:b,onInclude:()=>{}}),i(te,{children:[e(Ge,{loading:g,type:"complete",items:d,screen:t,onClick:D,onClickLink:()=>{},onClickTrash:()=>{},onClickEdit:()=>{},onClickReturn:()=>{}}),x.totalPages>1&&e(Ke,{totalPages:x.totalPages,currentPage:x.currentPage,onChange:O})]})]})}const Cs=()=>{const{hasPermition:t}=B();return e("div",{className:"card",children:i(gt,{className:"tabview-custom",children:[t("CADASTRO_PROGRAMA")?e(fe,{header:"Programas",leftIcon:"pi pi-palette",children:e(vs,{screen:"CADASTRO_PROGRAMA",namelist:"programa",onClick:()=>{}})}):e(S,{}),t("CADASTRO_PACIENTES")?e(fe,{header:"Pacientes",leftIcon:"pi pi-user",children:e(ks,{})}):e(S,{})]})})},Ss=()=>{const t=de(),{patient:s}=t.state,[a,c]=m.exports.useState([]),[n,d]=m.exports.useState([]),[u,f]=m.exports.useState(null),w=se(),{handleSubmit:x,formState:{errors:v},control:g,setValue:h}=H(),b=C=>e("span",{className:j("flex w-2rem h-2rem items-center p-2 rounded-full justify-center text-white border-circle z-1 shadow-1",{"bg-to":C.evento.especialidade.nome.toUpperCase()==="TO","bg-fono":C.evento.especialidade.nome.toUpperCase()==="FONO","bg-psico":C.evento.especialidade.nome.toUpperCase()==="PSICO","bg-black":C.evento.especialidade.nome.toUpperCase()==="PSICOPEDAG"}),children:e("i",{className:"pi pi-calendar"})}),o=async C=>{const N=await ue("sessao/protocolo",{formValue:C});w(`/${Z.CALENDAR}`,{state:{event,session:N}})},r=C=>i(S,{children:[C.evento.especialidade.nome," ",i("span",{className:"text-sm text-gray-400 font-light",children:["[",C.terapeuta.usuario.nome,"]"]})]}),l=C=>e(vt,{title:r(C),subTitle:X(C.evento.dataInicio),children:e("p",{children:C.resumo})}),p=async()=>{const C=await q("programa/dropdown");c(C)},T=async()=>{const C=await q(`sessao/${s.id}`);d(C)},O=()=>i("div",{className:"text-primary font-base grid justify-start m-4 p-2 leading-4",children:[e("span",{className:"font-bold",children:" Protu\xE1rio "}),s.nome,i("span",{className:"text-gray-400 font-light text-sm",children:[" [",s==null?void 0:s.responsavel,"]  "]})]}),L=()=>i(S,{children:[e(R,{name:"programas",control:g,render:C=>e(Ce,{filterPlaceholder:"Programas",value:a,selectionKeys:u,selectionMode:"checkbox",className:"w-full md:w-30rem",onSelectionChange:N=>(f(N.value),h("programas",N.value),N.value)})}),e("div",{className:"p-1 my-4",children:e(yt,{value:n,align:"left",className:"gap-2",marker:b,content:l})})]}),D=()=>e("div",{className:"fixed bottom-0 w-[104vw] ml-[-0.5rem]",children:e(A,{text:"Salvar Protocolo",icon:"pi pi-play",type:"primary",color:"white",size:"full",onClick:x(o)})});return m.exports.useEffect(()=>{p(),T()},[]),i("div",{children:[O(),L(),D()]})};var Z=(t=>(t.HOME="home",t.CRUD="cadastro",t.CALENDAR="agenda",t.PRONTUARIO="prontuario",t.SESSION="sessao",t.PROGRAM="programa",t.PATIENT="paciente",t.PROTOCOLO="protocolo",t))(Z||{});const We=[{path:"*",componentRoute:ke,icon:""},{path:"home",componentRoute:ke,icon:"pi pi-home"},{path:"agenda",componentRoute:ys,icon:"pi pi-calendar"},{path:"cadastro",componentRoute:Cs,icon:"pi pi-credit-card"}],Ps=()=>(B(),m.exports.useContext(he),i("div",{className:"min-h-full overflow-hidden bg-background h-screen w-full",children:[e(us,{}),e("main",{className:"mt-14",children:i(Pe,{children:[We.map((s,a)=>e(K,{path:s.path,element:e(ds,{children:e(s.componentRoute,{})})},a)),e(K,{path:"/protocolo",element:e(xs,{})}),e(K,{path:"/sessao",element:e(gs,{})}),e(K,{path:"/paciente",element:e(Ss,{})})]})})]}));function As(){const{signed:t}=re();return t?e(Se,{children:e(Lt,{children:e(ps,{children:e(Ps,{})})})}):e(cs,{})}function Es(){return e("div",{className:"App",children:e(Dt,{children:e(Rt,{children:e(As,{})})})})}et.createRoot(document.getElementById("root")).render(e(Ze.StrictMode,{children:e(Es,{})}));
