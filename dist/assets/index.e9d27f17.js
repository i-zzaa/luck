import{r as o,R as ft}from"./react.4862a0f1.js";import{c as xt}from"./react-dom.cfdd12ce.js";import{a as gt}from"./axios.d349c3b3.js";import{h as ae}from"./moment.9709ab41.js";import{j as e,a as n,F as K,T as vt,D as ke,I as yt,C as bt,b as wt,c as Nt,L as Et,M as St,A as ie,d as le,e as Be,f as Ct,z as ze,g as Ie,h as kt,i as Ae}from"./primereact.a592c314.js";import{B as $e,N as It}from"./react-router-dom.480ceaa5.js";import{c as se}from"./clsx.09c75e33.js";import{L as At}from"./react-lottie-player.772154aa.js";import{C as J,u as re}from"./react-hook-form.a51e561e.js";import{e as je,f as be,c as oe,d as ce}from"./react-router.49de2166.js";import{J as Dt}from"./jodit-react.5897bf70.js";/* empty css                   */import"./fast-deep-equal.aae8ee5f.js";import"./scheduler.2450001e.js";import"./form-data.d1f94bc2.js";import"./react-transition-group.62519e86.js";import"./@babel.4f1e7424.js";import"./dom-helpers.2a8a4335.js";import"./@remix-run.7ba39c5a.js";import"./lottie-web.1f2cebb8.js";import"./rfdc.0929fce7.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const p of r)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function i(r){const p={};return r.integrity&&(p.integrity=r.integrity),r.referrerpolicy&&(p.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?p.credentials="include":r.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function s(r){if(r.ep)return;r.ep=!0;const p=i(r);fetch(r.href,p)}})();ae.locale("pt-br");const Pt={TO:"#ef6c00",FONO:"#f6bf26",PSICO:"#8e24aa",PSICOPEDAG:"#000000"},Tt={TO:"#ffffff",FONO:"#ffffff",PSICO:"#ffffff",PSICOPEDAG:"#ffffff"},De=t=>t.charAt(0).toUpperCase()+t.slice(1),Lt=()=>{setTimeout(()=>{(document.querySelectorAll(".p-multiselect-token")||[]).forEach(a=>{const i=Pt[a.textContent.toUpperCase()],s=Tt[a.textContent.toUpperCase()];a.style.background=i,a.style.color=s})},0)},Pe=t=>ae(t).format("DD/MM/YYYY"),Ft=t=>(ae.locale("pt-br"),ae(t).format("YYYY-MM-DD")),Rt=t=>ae(t).add(1,"days").format("YYYY-MM-DD"),Te=(t,a)=>{const i=ae(t);return ae(a).diff(i,"weeks")+1};var _e=(t=>(t.mobile="DEVICE_MOBILE",t.web="DEVICE_WEB",t))(_e||{});const Z=gt.create({baseURL:"http://localhost:3000",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",device:_e.mobile}}),Le=(t,a,i)=>{Z.interceptors.request.use(async s=>(s.url.endsWith("login")||(s.headers.Authorization=`Bearer ${t}`,s.headers.login=a,s.headers.idUser=i),s),s=>Promise.reject(s))},G=async(t,a)=>{var r;const i=a?`?${a}`:"",s=await Z(`${t}/dropdown${i}`);return s.status===200?((r=s.data)==null?void 0:r.data)||s.data:[]},de=async(t,a)=>await Z.post(t,a),ge=async(t,a)=>await Z.put(t,a),Ot=async t=>await Z.delete(`${t}`),ne=async t=>{const a=await Z(t);return a.status===200?a.data:[]},Ve=async(t,a,i)=>{const s=i?`?${i}`:"";return await Z.post(`${t}/filtro${s}`,a)},Mt="developer",Je=o.exports.createContext({}),Bt=({children:t})=>{const{perfil:a}=ue(),[i,s]=o.exports.useState([]),r=m=>{s(m)};o.exports.useMemo(async()=>{const m=sessionStorage.getItem("auth"),w=(m?JSON.parse(m):[]).permissoes||await ne("permissao");s(w)},[]),o.exports.useEffect(()=>{i.length},[]);const p=(m="")=>{switch(!0){case!a:throw new Error("Voce n\xE3o tem permissao");case m==="*":return!0;default:return!!(i.length&&i.includes(m.toUpperCase())||a===Mt)}};return e(Je.Provider,{value:{hasPermition:p,perfil:a,permissions:i,setPermissionsLogin:r},children:t})},pe=()=>o.exports.useContext(Je),zt="absolute animate-bounce min-w-[24rem] top-2 right-0 block flex p-4 mb-4 text-sm rounded-lg items-center gap-2 z-[70] ",Ue=o.exports.createContext({}),$t=({children:t})=>{const[a,i]=o.exports.useState("hidden"),[s,r]=o.exports.useState(),[p,m]=o.exports.useState(""),[g,w]=o.exports.useState({type:"info",title:"",message:"",open:!1}),u=d=>{switch(d){case"success":r(e("i",{className:"pi pi-check-circle"}));break;case"failure":r(e("i",{className:"pi pi-times-circle"}));break;case"warning":r(e("i",{className:"pi pi-exclamation-circle"}));break;case"info":r(e("i",{className:"pi pi-info-circle"}));break;default:r(e("i",{className:"pi pi-undo"}));break}},b=d=>{switch(d){case"success":m("z-[10000] text-white bg-green-400 rounded-lg  w-24 ");break;case"failure":m("z-[10000] text-white bg-red-400 rounded-lg  w-24");break;case"warning":m("z-[10000] text-white bg-yellow-400 rounded-lg  w-24");break;case"info":m("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break;default:m("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break}},v=({type:d,message:x,title:f,open:E})=>{u(d),b(d),w({type:d,message:x,title:f,open:E}),i(E?"block":"hidden"),setTimeout(()=>{i("hidden")},3e3)};return e(Ue.Provider,{value:{renderToast:v},children:n(K,{children:[t,n("div",{className:`${zt} ${a} ${p}`,role:"alert",children:[s,n("span",{children:[e("span",{className:"font-medium",children:"   "+g.title})," "+g.message]})]})]})})};function ee(){return o.exports.useContext(Ue)}const Ne=o.exports.createContext({}),jt=({children:t})=>{const[a,i]=o.exports.useState(),[s,r]=o.exports.useState(""),{setPermissionsLogin:p}=pe(),{renderToast:m}=ee();o.exports.useEffect(()=>{const b=sessionStorage.getItem("token"),v=sessionStorage.getItem("auth"),d=sessionStorage.getItem("perfil")||"";if(b&&v){const x=JSON.parse(v);i(x),r(d),Le(b,x.login,x.id)}},[]);const g=async b=>{var v;try{const x=(await Z.post("/login",{...b,password:parseInt(b.password)})).data;setTimeout(()=>{u()},8e6);const f=(x==null?void 0:x.user)||x.data,E=(x==null?void 0:x.accessToken)||x.data.accessToken,l=(v=f.perfil)!=null&&v.nome?f.perfil.nome.toLowerCase():f.perfil.toLowerCase();sessionStorage.setItem("token",E),sessionStorage.setItem("auth",JSON.stringify(f)),sessionStorage.setItem("perfil",l),f.permissoes.length&&p&&p(f.permissoes),r(l),i(f),await Le(E,f.login,f.id),m({type:"success",title:" ",message:"Bem vindo!",open:!0})}catch(d){w(d)}},w=b=>{const v=b!=null&&b.data?b==null?void 0:b.data.message:"Usu\xE1rio n\xE3o encontrado!";m({type:"failure",title:b.status||"Erro no Login!",message:v,open:!0})},u=async()=>{i(void 0),sessionStorage.clear();try{await Z.get("/logout")}catch(b){console.log(b)}};return e(Ne.Provider,{value:{signed:Boolean(a),user:a,Login:g,Logout:u,perfil:s},children:t})},ue=()=>o.exports.useContext(Ne),_t="/assets/logo-lg.ee70d40f.jpg";function P({icon:t,size:a="full",type:i="primary",color:s="white",text:r,loading:p,disabled:m=!1,onClick:g,typeButton:w="submit"}){return e(vt,{disabled:m,icon:t,type:w,loading:p,label:a==="icon"?"":r,onClick:g,className:se(" text-white text-sm rounded-md border-none ",{"bg-violet-800 hover:bg-violet-600":i==="primary","bg-yellow-400 hover:bg-violet-800":i==="second","bg-transparent hover:bg-transparent":i==="transparent","text-white":s==="white","text-red-400 hover:text-violet-800 focus:text-violet-600":s==="red","text-green-400 hover:text-violet-800 focus:text-violet-600":s==="green","text-yellow-400 hover:text-violet-800 focus:text-violet-600":s==="yellow","text-violet-800 hover:text-violet-600 focus:text-violet-600":s==="violet","w-full":a==="full","sm:w-2/5 w-full":a==="md"})})}function H({onChange:t,onClick:a,value:i,labelText:s,id:r,type:p,customClass:m,options:g,customCol:w,validate:u,errors:b,control:v,disabled:d,hidden:x,buttonAdd:f}){const E=()=>{switch(p){case"select":return e(J,{name:r,control:v,rules:u,render:({field:l})=>e(ke,{value:i||l.value,virtualScrollerOptions:{itemSize:38},options:g,onChange:c=>(t&&t(c.value),l.onChange(c.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:d})});case"multiselect":return e(J,{name:r,control:v,rules:u,render:({field:l})=>e(St,{disabled:d,id:l.id,display:"chip",optionLabel:"nome",filter:!0,value:i||l.value,onChange:c=>{Lt(),t&&t(c.value),l.onChange(c.value)},options:g})});case"list":return e(J,{name:r,control:v,rules:u,render:({field:l})=>e(Et,{value:l.value,options:g,onChange:c=>l.onChange(c.value),multiple:!0,filter:!0,optionLabel:"nome",listStyle:{maxHeight:"300px"}})});case"textarea":return e(J,{name:r,control:v,rules:u,render:({field:l})=>e("textarea",{id:l.id,...l,value:i||(l==null?void 0:l.value),className:m,disabled:d,rows:"8"})});case"switch":return e(J,{name:r,control:v,rules:u,render:({field:l})=>n("div",{className:"grid grid-cols-6 justify-start items-center h-8",children:[n("span",{className:"col-span-4 text-violet-800",children:[" ",s," "]}),e("div",{className:"col-span-2",children:e(Nt,{checked:i||l.value,color:"#685ec5",value:i,disabled:d,onChange:c=>{l.onChange(c.target.value),t&&t(c.target.value)}})})]})});case"tel":return e(J,{name:r,control:v,rules:u,render:({field:l})=>e(wt,{disabled:d,value:i||l.value,type:p,className:"inputAnimado font-inter font-light"+m,mask:"(99) 9999-9999",onChange:c=>l.onChange(c.value)},l.id)});case"checkbox":return e(J,{name:r,control:v,rules:u,render:({field:l})=>n(K,{children:[e(bt,{checked:i,type:p,className:"inputAnimado "+m,onChange:c=>{l.onChange(c.target.checked),t&&t(c.target.checked)}}),n("span",{className:"col-span-4 text-violet-800",children:[" ",s," "]})]})});case"time":return e(J,{name:r,control:v,rules:u,render:({field:l})=>o.exports.createElement("input",{id:l.id,...l,value:i||l.value,key:l.id,type:p,className:"inputAnimado font-inter "+m,disabled:d,onInput:c=>{l.onChange(c),t&&t(c)}})});case"price":return e(J,{name:r,control:v,rules:u,render:({field:l})=>e("div",{className:"inputAnimado font-inter "+m,id:l.id,children:n("div",{className:"p-inputgroup",children:[e(yt,{value:i||l.value,disabled:d,onInput:c=>{l.onChange(c),t&&t(c)}}),e("span",{className:"p-inputgroup-addon",children:"R$"})]})})});case"date":return e(J,{name:r,control:v,rules:u,render:({field:l})=>o.exports.createElement("input",{disabled:d,id:l.id,...l,value:i||l.value,key:l.id,type:p,className:"inputAnimado "+m,autoComplete:"off",min:(u==null?void 0:u.min)&&u.min,onInput:c=>{l.onChange(c),t&&t(c)}})});case"input-add":return n("div",{className:"grid  gap-2 grid-cols-6",children:[e(J,{name:r,control:v,rules:u,render:({field:l})=>o.exports.createElement("textarea",{disabled:d,id:l.id,...l,value:i||l.value,key:l.id,className:"inputAnimado col-span-5",autoComplete:"off",onInput:c=>{l.onChange(c),t&&t(c)},rows:2})}),f?e(P,{text:"Add",icon:"pi pi-plus",type:"primary",size:"icon",onClick:()=>a&&a("add")}):e(P,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>a&&a("remove")})]});case"select-add":return n("div",{className:"grid  gap-2 grid-cols-6",children:[e(J,{name:r,control:v,rules:u,render:({field:l})=>e(ke,{className:"col-span-5",value:i||l.value,virtualScrollerOptions:{itemSize:38},options:g,onChange:c=>(t&&t(c.value),l.onChange(c.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:d})}),f?e(P,{text:"Add",icon:"pi pi-plus",type:"primary",size:"icon",onClick:()=>a&&a("add"),typeButton:"button"}):e(P,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>a&&a("remove"),typeButton:"button"})]});default:return e(J,{name:r,control:v,rules:u,render:({field:l})=>o.exports.createElement("input",{disabled:d,id:l.id,...l,value:i||l.value,key:l.id,type:p,className:"inputAnimado "+m,autoComplete:"off",onInput:c=>{l.onChange(c),t&&t(c)}})})}};return n("div",{className:se("label-float",{"my-5":!w,hidden:x&&x},w),children:[E(),p!=="switch"&&p!=="checkbox"&&n("label",{children:[" ",s," "]}),b&&b[r]&&e("p",{className:"text-xs text-red-400 text-end",children:b[r].message})]})}function qe({size:t="md",color:a="gray-dark",children:i}){return e("span",{className:se("font-bold",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":a==="white","text-gray-300":a==="gray-light","text-gray-400":a==="gray","text-gray-800":a==="gray-dark","text-violet-800":a==="violet","text-yellow-400":a==="yellow","text-black":a==="black"}),children:i})}function Vt({size:t="md",color:a="gray-dark",text:i,display:s="grid",subtext:r,icon:p,className:m}){return n("div",{className:se("flex gap-4 font-normal tracking-wider text-start items-center text-ellipsis overflow-hidden whitespace-nowrap",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":a==="white","text-gray-300":a==="gray-light","text-gray-400":a==="gray","text-gray-800":a==="gray-dark","text-violet-800":a==="violet","text-yellow-400":a==="yellow","text-red-900":a==="red","text-black":a==="black"},m),children:[p&&e("div",{className:"flex items-center",children:e("i",{className:p})}),n("span",{className:s,children:[i,"\xA0",n("strong",{className:"font-inter",children:[" ",r]})]})]})}function q({children:t,legend:a,customCss:i,onClick:s,type:r="default"}){return e("fieldset",{className:se("px-2 items-center bg-white   shadow-sm mt-2",i,{"border-to":r.toUpperCase()==="TO","border-fono":r.toUpperCase()==="FONO","border-psico":r.toUpperCase()==="PSICO","border-black":r.toUpperCase()==="PSICOPEDAG","border-motricidade":r.toUpperCase()==="MOTRICIDADE","border-musicoterapia":r.toUpperCase()==="MUSICOTERAPIA","border-white":r.toUpperCase()==="DEFAULT"}),onClick:s,children:e("div",{className:"py-4 w-full ",children:t})})}function Ee({id:t,legend:a,fields:i,screen:s,loading:r,nameButton:p,dropdown:m,onSubmit:g,onInclude:w,onReset:u,defaultValues:b}){const{setValue:v,handleSubmit:d,control:x,reset:f}=re({defaultValues:b}),{hasPermition:E}=pe(),l=()=>{f(),u()},c=I=>{g(I)};return o.exports.useEffect(()=>{E(`${s}_FILTRO_SELECT_AGENDADOS`)||v("naFila",!0)}),e(ie,{children:e(le,{header:a,tabIndex:0,children:n("form",{id:t,action:"#",onSubmit:d(c),className:"flex-1",children:[e("div",{className:"grid grid-cols-6 gap-4",children:i.map(I=>E(I.permission)&&e(H,{labelText:I.labelText,id:I.id,type:I.type,customCol:I.customCol,control:x,options:I.type==="select"?m[I.name]:void 0},I.id))}),e("div",{className:"flex items-center mt-10 gap-2 justify-between",children:n(K,{children:[w&&E(`${s}_FILTRO_BOTAO_CADASTRAR`)&&e("div",{className:"sm:text-end",children:e(P,{text:p||"Cadastrar",icon:"pi pi-plus",type:"primary",size:"sm",onClick:w})}),e("div",{className:"hidden sm:w-2/4 ml-auto sm:grid grid-cols-2 gap-2",children:n(K,{children:[E(`${s}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(P,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"full",onClick:l})}),E(`${s}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(P,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"full",loading:r,onClick:()=>d(c)})})]})}),e("div",{className:"sm:w-2/4 ml-auto grid sm:hidden grid-cols-2 gap-2",children:n(K,{children:[E(`${s}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(P,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"icon",onClick:l})}),E(`${s}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(P,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"icon",loading:r,onClick:()=>d(c)})})]})})]})})]})})})}function me(){return n("div",{className:"uppercase flex items-center gap-4 m-auto mt-2 justify-center",children:[e("i",{className:"pi pi-folder-open"}),e(qe,{color:"gray",children:"N\xE3o h\xE1 itens"})]})}const Ge="Comp 1",Ye="",He=[{ty:4,nm:"circle outline",mn:"",sr:1,st:0,op:180,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[0,0,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[55.228,0],[0,-55.228],[-55.228,0]],o:[[0,-55.228],[-55.228,0],[0,55.228],[55.228,0]],v:[[0,0],[-100,-100],[-200,0],[-100,100]]},ix:2}},{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[-55.228,0],[0,-55.228],[55.228,0]],o:[[0,-55.228],[55.228,0],[0,55.228],[-55.228,0]],v:[[0,0],[100,-100],[200,0],[100,100]]},ix:2}},{ty:"tm",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:0,k:80,ix:2},o:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:3},s:{a:0,k:100,ix:1},m:2},{ty:"st",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:52,ix:5},d:[],c:{a:0,k:[.4,.1608,.4667],ix:3}}],ind:1,parent:2},{ty:4,nm:"circle",mn:"",sr:1,st:0,op:200,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[960,540,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[-100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 2",d:1,p:{a:0,k:[100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.4,.1608,.4667],ix:4},r:1,o:{a:0,k:100,ix:5}}],ind:2}],Ke=0,Qe=1080,We=1920,Xe={a:"",k:"",d:"",g:"@lottiefiles/toolkit-js 0.22.1",tc:"#000000"},Ze="5.7.4",et=30,tt=180,st=0,at=[],Jt={nm:Ge,mn:Ye,layers:He,ddd:Ke,h:Qe,w:We,meta:Xe,v:Ze,fr:et,op:tt,ip:st,assets:at},Ut=Object.freeze(Object.defineProperty({__proto__:null,nm:Ge,mn:Ye,layers:He,ddd:Ke,h:Qe,w:We,meta:Xe,v:Ze,fr:et,op:tt,ip:st,assets:at,default:Jt},Symbol.toStringTag,{value:"Module"}));function Se(){return e("div",{className:"flex items-center justify-center",children:e(At,{loop:!0,animationData:Ut,play:!0,style:{width:200,height:200}})})}function qt({heading:t}){return n("div",{className:"mb-10 text-center",children:[e("div",{className:"flex justify-center",children:e("img",{alt:"",className:"h-32 ",src:_t})}),e(qe,{size:"lg",children:t})]})}const Gt=[{labelText:"Login",labelFor:"username",id:"username",name:"username",type:"text",autoComplete:"text",isRequired:!0,placeholder:"Login",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o xxx.xxx"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Senha",labelFor:"password",id:"password",name:"password",type:"password",isRequired:!0,placeholder:"Senha",validate:{required:"Campo obrigat\xF3rio!"}}],nt=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Paciente",id:"pacienteId",name:"paciente",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"}],Yt=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Procedimento de Ensino",id:"procedimentoEnsinoId",name:"procedimentoEnsino",type:"select",singleSelect:!1,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Programa",id:"programaId",name:"programa",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Est\xEDmulo Discriminativo",id:"estimuloDiscriminativo",name:"estimuloDiscriminativo",type:"text",customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Resposta",id:"resposta",name:"resposta",type:"text",customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Est\xEDmulo Refor\xE7ador Positivo",id:"estimuloReforcadorPositivo",name:"estimuloReforcadorPositivo",type:"text",customCol:"col-span-6 sm:col-span-6"}],rt=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Paciente",id:"pacienteId",name:"paciente",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Protocolo",id:"protocoloId",name:"protocolo",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"}],ot=Gt,Ht={};ot.forEach(t=>Ht[t.id]="");function Kt(){const t={username:"cristiane.graff",password:"12345678"},[a,i]=o.exports.useState(!1),[s,r]=o.exports.useState(!1),{renderToast:p}=ee(),{handleSubmit:m,formState:{errors:g},setValue:w,watch:u,control:b}=re({defaultValues:t}),{Login:v}=ue(),d=async({username:f,password:E})=>{r(!0);try{await v({username:f,password:E}),r(!1)}catch{r(!1),p({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},x=async f=>{i(f),localStorage.setItem("rememberCheck",JSON.stringify(f)),f?(localStorage.setItem("rememberCheck","true"),localStorage.setItem("rememberLogin",JSON.stringify({username:u("username"),password:u("password")}))):(localStorage.removeItem("rememberLogin"),localStorage.setItem("rememberCheck","false"))};return o.exports.useEffect(()=>{const f=localStorage.getItem("rememberLogin");if(f){const{username:E,password:l}=JSON.parse(f);i(!0),w("username",E),w("password",l)}},[]),n("form",{className:"mt-8 space-y-6",onSubmit:m(d),children:[e("div",{children:ot.map(f=>e(H,{id:f.id,type:f.type,labelText:f.labelText,control:b,validate:f.validate,errors:g},f.id))}),e(H,{id:"checkbox-login",labelText:"Lembrar login",type:"checkbox",control:b,onChange:x,value:a}),e(P,{text:"Entrar",type:"primary",size:"full",onClick:m(d),loading:s})]})}const Qt="luck-web",Wt="0.5.0",Xt="module",Zt={dev:"vite --port=3002 --host",start:"node serve.js --host",preview:"vite preview --host",sb:"start-storybook -p 6006",format:'prettier --write "src/**/*.{ts,js,tsx}"',lint:'eslint "src/**/*.{ts,js}" --quiet',build:"export NODE_OPTIONS='--max-old-space-size=8192' && tsc && vite build"},es={"@fullcalendar/core":"5.11.3","@fullcalendar/daygrid":"5.11.3","@fullcalendar/interaction":"5.11.3","@fullcalendar/list":"5.11.3","@fullcalendar/moment":"5.11.3","@fullcalendar/moment-timezone":"5.11.3","@fullcalendar/react":"5.11.2","@fullcalendar/rrule":"5.11.3","@fullcalendar/timegrid":"5.11.3","@types/uuid":"^9.0.7","@vitejs/plugin-react-refresh":"^1.3.6",autoprefixer:"10.4.12",axios:"1.1.3","chart.js":"3.9.1",clsx:"1.2.1",cors:"2.8.5",express:"4.18.2","jodit-react":"^4.1.2","lottie-react":"2.3.1",moment:"2.29.4","postcss-import":"15.0.0",primeicons:"6.0.1",primereact:"8.7.0",quill:"1.3.7",react:"18.2.0","react-chartjs-2":"4.3.1","react-dom":"18.2.0","react-hook-form":"7.37.0","react-lottie-player":"1.5.4","react-router-dom":"6.4.2",rrule:"2.7.1",url:"0.11.0",uuid:"^9.0.1","vite-plugin-pwa":"^0.17.4","web-vitals":"2.1.4","workbox-background-sync":"6.5.4","workbox-broadcast-update":"6.5.4","workbox-cacheable-response":"6.5.4","workbox-core":"6.5.4","workbox-expiration":"6.5.4","workbox-google-analytics":"6.5.4","workbox-navigation-preload":"6.5.4","workbox-precaching":"6.5.4","workbox-range-requests":"6.5.4","workbox-routing":"6.5.4","workbox-strategies":"6.5.4","workbox-streams":"6.5.4",xlsx:"^0.18.5"},ts={"@babel/core":"7.19.3","@types/react":"18.0.17","@types/react-dom":"18.0.6","@vitejs/plugin-react":"2.1.0","babel-loader":"8.2.5",prettier:"latest","standard-version":"9.5.0",tailwindcss:"3.2.1",typescript:"4.8.4",vite:"3.1.0","workbox-build":"6.5.4"},ss={name:Qt,version:Wt,private:!0,type:Xt,scripts:Zt,dependencies:es,devDependencies:ts};function Fe(){const[t,a]=o.exports.useState(""),i=o.exports.useCallback(async()=>{const{data:s}=await ne("/");a(`vers\xE3o frontend: ${ss.version} - ${s}`)},[]);return o.exports.useEffect(()=>{i()},[i]),n(K,{children:[e(qt,{heading:"Prontu\xE1rio"}),e(Kt,{}),e("div",{className:"text-xs absolute bottom-0 text-gray-300 left-0  w-full flex justify-center",children:e("div",{className:"",children:t})})]})}const as=()=>e("div",{className:"min-h-full h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-md w-full space-y-8",children:e($e,{children:n(je,{children:[e(be,{path:"/",element:e(Fe,{})}),e(be,{path:"*",element:e(Fe,{})})]})})})}),ns=({children:t})=>e("div",{className:"h-screen overflow-y-auto",children:e("div",{className:"mx-2 mt-4 mb-16",children:t})}),it=o.exports.createContext({}),rs=({children:t})=>{const[a,i]=o.exports.useState(!1);return e(it.Provider,{value:{open:a,setOpen:i},children:t})},os=()=>{const t=oe(),{Logout:a}=ue(),{hasPermition:i,permissions:s}=pe(),{open:r,setOpen:p}=o.exports.useContext(it),[m,g]=o.exports.useState([]),{user:w,perfil:u}=o.exports.useContext(Ne),b=ce(),v=()=>{const f=ht.filter(E=>E.path!=="*"&&E.menu);g(f)},d=()=>n("aside",{onClick:()=>p(!1),className:"fixed border-box shadow-3xl w-full h-screen z-20  bg-primary duration-700 ease-in-out justify-center",children:[e("div",{className:"bg-logo-md-write bg-no-repeat bg-cover h-[13rem] w-[20rem] mx-auto"}),n("div",{className:"border-y border-primary-text duration-1000 p-4 mt-2",children:[n("h3",{className:"text-primary-text text-center font-light text-sm ",children:[" ",w.nome]}),n("h3",{className:"text-gray-200 text-center font-light text-xs ",children:[" ",De(u)," "]})]}),e("ul",{className:"list-none p-0 mt-8",children:m.map(f=>{const E=b.pathname.startsWith(f.path);return e("li",{className:`${E?"bg-primary-hover text-primary-text-hover":"text-primary-text"} hover:px-0 hover:bg-primary-hover  hover:text-primary-text-hover duration-700 grid  justify-center`,children:n(It,{to:f.path,className:"grid grid-cols-2 gap-8 items-center text-sm px-4 py-4  cursor-pointer",children:[e("i",{className:se("text-end",f.icon)}),e("span",{className:"duration-700",children:De(f.path)})]})},f.path)})}),e("i",{onClick:a,className:" pi pi-sign-out duration-700 text-primary-text hover:scale-125 cursor-pointer  w-4 col-span-1 fixed bottom-8 left-[50%]"})]}),x=()=>e("aside",{className:"fixed w-full right-2 shadow-3xl h-12 z-20  bg-primary duration-700 ease-in-out cursor-pointer",children:n("div",{className:"flex justify-between items-center",children:[e("div",{className:"sm:text-end ml-2",children:e(P,{text:"",icon:"pi pi-arrow-left",type:"primary",color:"white",size:"icon",onClick:()=>t(-1)})}),e("div",{className:"w-12 h-12  mt-[1vh] rounded-3xl bg-primary ",onClick:()=>p(!0),children:e("div",{className:"bg-logo-mini bg-no-repeat bg-cover h-12 w-12 duration-700"})})]})});return o.exports.useEffect(()=>{v()},[s]),r?d():e("nav",{className:"fixed h-12 w-full bg-primary mb-8",children:x()})};function Re(){const[t,a]=o.exports.useState(),[i,s]=o.exports.useState(!1),{renderToast:r}=ee(),{reset:p,handleSubmit:m,formState:{errors:g},control:w}=re(),u=()=>{const v=sessionStorage.getItem("auth"),d=JSON.parse(v);a(d)},b=async v=>{s(!0);try{v.id=t.login;const{data:d}=await ge("/usuarios/reset-senha",v);s(!1),p(),r({type:"success",title:"",message:d.message,open:!0})}catch({message:d}){r({type:"failure",title:"401",message:`${d}`,open:!0}),p();return}};return o.exports.useEffect(()=>{u()},[]),e(K,{children:e(q,{customCss:"rounded-lg border border-gray-200 p-4",children:n("div",{className:"grid sm:grid-cols-2",children:[e(Vt,{text:t==null?void 0:t.nome,subtext:t==null?void 0:t.login,color:"violet",size:"md",icon:"pi pi-id-card",display:"grid"}),n("div",{className:"flex gap-2  my-6 sm:my-0  items-center",children:[e(H,{labelText:"Alterar senha",id:"senha",type:"password",customCol:" w-full",errors:g,validate:{required:!0},control:w}),e("div",{className:" mt-4 ",children:e(P,{text:"Alterar senha",type:"second",icon:"pi pi-sync",size:"icon",onClick:m(b)})})]})]})})})}var we=(t=>(t.atendido="Atendido",t.atestado="Atestado",t.livre="Livre",t.confirmado="Confirmado",t))(we||{});const is=[{permission:"AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-3",type:"date"},{permission:"AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-3",type:"date"}],Ce=({start:t,end:a,statusEventos:i,title:s,localidade:r,isExterno:p,km:m,modalidade:g,dataInicio:w,dataFim:u,dataAtual:b})=>n("div",{className:"flex gap-2 w-full item-center",children:[n("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[n("span",{children:[" ",t]})," -",e("span",{children:a})]}),n("div",{className:"text-gray-800 text-sm text-center grid justify-center",children:[n("div",{className:"font-base font-semibold text-primary",children:["  ",s," "]}),n("p",{className:"flex gap-4 items-center justify-between",children:[(()=>{let d=g;if(d!=="Avalia\xE7\xE3o"||!w||u)return e("span",{children:d});const x=Te(w,b),f=Te(w,u);return e(K,{children:n("span",{children:[d,e("span",{className:"font-inter ml-2",children:`${x}/${f}`})," "]})})})()," ",e("span",{children:i})]}),n("p",{className:"flex gap-4 items-center",children:[r,p&&n("span",{className:"font-bold font-inter",children:[" ",`- ${m}km`," "]})]})]})]}),lt=is,ls={};lt.forEach(t=>ls[t.id]="");const cs=()=>{const{renderToast:t}=ee(),a=oe(),[i,s]=o.exports.useState({}),[r,p]=o.exports.useState([]),[m,g]=o.exports.useState(!1),{user:w}=ue(),u=new Date,b=Ft(u),v=Rt(u),d=(h,S)=>{h.stopPropagation(),a(`/${Q.METASDTT}`,{state:S})},x=async(h=b,S=v)=>{g(!0);try{const A=await ne(`/evento/filtro/${h}/${S}?terapeutaId=${w.id}`);let R=Object.keys(A).sort();s(A),p(R)}catch{s([]),t({type:"failure",title:"401",message:"Per\xEDodo n\xE3o encontrado!",open:!0})}g(!1)},f=h=>e(q,{customCss:"border-l-4 border-l-green-400 rounded-lg cursor-not-allowed",children:n("div",{className:"flex gap-2 w-full item-center",children:[n("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[n("span",{children:[" ",h.start]})," -",e("span",{children:h.end})]}),n("div",{className:"text-gray-800 text-center flex items-center justify-center text-md",children:["  ",h.title]})]})},h.id),E=h=>e(q,{type:h.especialidade.nome,customCss:"border-l-4 rounded-lg cursor-pointer hover:scale-[101%] duration-700 ease-in-out",onClick:()=>a(`/${Q.SESSION}`,{state:{item:h}}),children:n("div",{className:"flex",children:[e(Ce,{start:h==null?void 0:h.data.start,end:h==null?void 0:h.data.end,statusEventos:h==null?void 0:h.statusEventos.nome,title:h==null?void 0:h.title,localidade:h==null?void 0:h.localidade.nome,isExterno:h==null?void 0:h.isExterno,km:h==null?void 0:h.km,modalidade:h==null?void 0:h.modalidade.nome,dataInicio:h==null?void 0:h.dataInicio,dataFim:h==null?void 0:h.dataFim,dataAtual:h==null?void 0:h.dataAtual}),h.statusEventos.nome!=we.atendido&&e(P,{text:"Pesquisar",icon:"pi pi-file-edit",type:"primary",size:"icon",loading:m,onClick:S=>d(S,h)}),h.statusEventos.nome==we.atendido&&e(P,{text:"Atendido",type:"transparent",icon:"pi pi-check",size:"icon",color:"violet"})]})},h.id),l=h=>{switch(h.id){case 0:return f(h);default:return E(h)}},c=()=>m?e(Se,{}):r.length?r.map(h=>n("div",{children:[e("div",{className:"font-inter m-2 text-gray-400",children:Pe(h)}),i[h].map(S=>l(S))]},h)):n(q,{children:[" ",e(me,{})," "]}),I=o.exports.useMemo(()=>n("div",{className:"text-primary font-base grid justify-start m-2 leading-4",children:[e("span",{className:"font-bold",children:" Agenda "}),n("span",{className:"text-gray-400 font-light text-sm font-inter",children:[" ",Pe(new Date)," "]})]}),[]),$=o.exports.useMemo(()=>e(Ee,{id:"form-filter-patient",legend:"Filtro",nameButton:"Agendar",fields:lt,onSubmit:({dataInicio:h,datatFim:S})=>x(h,S),onReset:()=>x(),screen:"AGENDA_CALENDARIO",loading:m,dropdown:[]}),[]);return o.exports.useEffect(()=>{x()},[]),n(K,{children:[$,I,c()]})},ct=({onChange:t,value:a,disabled:i})=>{const[s,r]=o.exports.useState(a);return e(Be,{value:s,defaultValue:a,options:[{value:"C",icon:n("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#662C75"}),e("path",{transform:"translate(773,169)",d:"m0 0h61l30 2 32 5 30 8 27 9 21 9 16 8 19 10 23 14 14 10 15 11 11 9 12 11 10 9 7 8 10 11 10 13 13 18 11 17 10 18 11 24 10 26 8 28 5 26 2 20v26l-3 24-5 23-8 24-9 20-8 14-9 13-8 10-11 13-10 9-9 7-14 9-17 8-15 5-18 4-22 2-23-2-32-6-21-6-21-8-22-12-13-9-15-13-9-9-12-16-9-16-7-18-8-30-5-19-4-8-3-2h-6l-9 6-4 5-4 7-3 14-3 46-2 58-4 91-7 121-1 31v45l1 23 4 35 6 26 5 12 9 13 9 6 7 2 12-1 14-4 25-13 17-12 11-8 14-11 11-9 13-11 8-7 13-11 14-11 13-10 17-12 13-8 17-10 16-8 21-8 19-5 7-1h25l20 4 15 6 12 8 8 7 7 8 10 14 11 21 7 19 6 22 4 22 3 26 1 17v47l-2 27-6 37-7 31-8 25-8 20-8 17-14 24-8 12-14 19-9 10-7 8-17 17-10 8-13 10-14 10-15 9-23 12-21 9-36 12-36 9-21 4-32 4-29 3-16 1h-53l-20-2-32-5-27-6-26-8-22-8-25-11-19-10-22-13-13-9-16-13-14-12-37-37-9-11-8-9-12-16-18-27-12-20-18-35-12-26-11-27-12-35-10-36-9-38-7-36-5-35-3-34-3-53-1-26v-64l3-57 3-37 7-56 7-45 9-46 10-42 10-35 15-43 15-36 16-32 6-11 6-10 10-16 13-19 14-18 10-12 7-8 15-16 7-6 5-5 8-7 10-8 11-8 17-12 10-6 21-12 25-11 36-12 23-6 22-4z",fill:"#FDFDFD"})]})},{value:"DT",icon:n("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(374,334)",d:"m0 0h42l24 2 31 4 25 6 21 8 16 8 23 13 22 15 13 10 13 11 11 9 15 14 9 9 7 8 11 12 9 11 12 15 13 18 11 17 12 20 14 27 11 23 8 19 10 29 7 23 6 29 4 27 3 35 1 25v49l-2 33-3 28-6 35-9 40-11 36-12 32-11 24-12 23-8 14-11 17-10 15-12 16-11 13-9 11-22 22-8 7-9 8-14 11-18 13-15 10-20 12-16 8-16 7-16 5-16 3-40 4h-47l-37-4-24-4-22-6-21-8-16-9-9-7-10-10-8-14-5-12-5-21-13-73-13-75-18-109-15-95-15-101-10-71-10-77-6-50-4-45-3-42 1-17 5-10 10-13 9-9 17-13 22-12 14-6 24-8 31-8 32-6 43-5z",fill:"#FEFFFE"}),e("path",{transform:"translate(1039,294)",d:"m0 0h54l34 2 45 4 29 4 38 7 36 8 29 8 29 10 26 11 25 12 24 14 16 12 11 9 16 16 10 13 10 15 8 16 6 15 6 21 2 14v26l-4 26-5 19-8 21-8 14-12 17-13 10-14 8-19 7-17 4-27 3-15 1h-45l-39-3h-5l2 24 5 102 1 24 1 41v90l-1 31-4 48-6 45-7 40-8 32-10 30-9 20-10 19-13 18-11 12-12 11-13 8-17 7-20 5h-29l-19-3-31-7-20-6-19-8-19-10-13-10-10-9-9-10-9-13-8-16-6-15-7-27-4-26-1-11v-42l3-37 6-47 5-38 10-60 11-64 9-50 12-70 9-53 4-26-14-2-44-8-24-7-25-10-17-8-13-9-13-11-10-10-13-18-10-21-6-20-4-22v-29l4-23 8-20 7-12 11-13 13-13 18-13 18-10 17-8 25-8 31-8 30-5 39-4z",fill:"#FEFFFE"}),e("path",{transform:"translate(414,632)",d:"m0 0h24l15 4 12 6 10 9 9 11 10 17 6 15 5 16 4 19 2 18v31l-3 24-6 25-9 27-12 25-7 10-9 12-7 9-10 7h-3l-8-55-8-47-9-50-8-43-10-48-5-26v-9l4-4 6-2z",fill:"#682D75"})]})},{value:"DP",icon:n("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(1028,292)",d:"m0 0h65l48 3 37 4 31 6 25 7 24 8 22 9 19 10 18 10 21 14 16 12 14 12 16 16 9 11 12 15 16 24 12 22 10 21 9 23 12 36 7 26 6 32 2 18 1 19v17l-2 28-4 25-6 26-11 33-9 20-12 22-9 14-10 14-13 16-7 7-7 8-16 15-13 10-14 10-18 11-22 12-29 12-27 9-26 6-26 4-34 3-18 1h-50l1 13v101l-3 31-4 23-6 21-9 21-10 16-11 13-8 8-8 6-10 6-12 5-16 5-21 4-17 2h-24l-25-3-30-7-21-8-18-10-10-8-9-8-9-11-10-14-9-16-8-20-6-19-8-32-5-27-4-33-2-40-2 1-7 25-9 22-9 17-8 16-11 20-9 14-11 16-13 18-10 12-9 11-28 28-11 9-13 11-18 13-20 13-15 9-23 12-15 6-15 4-25 4-27 2-30 1-35-2-32-4-23-5-21-7-18-8-12-7-10-9-7-7-9-15-6-20-7-37-18-102-12-74-9-55-10-64-17-114-8-59-10-75-10-82-3-32-3-44v-27l6-12 9-12 11-11 12-9 20-12 15-7 30-10 36-9 30-5 32-4 26-2 20-1h35l31 2 29 4 24 6 25 10 26 14 24 16 19 14 13 11 14 12 25 25 7 8 13 15 11 14 12 16 14 21 15 25 19 38 13 28 11 28 8 28 5 23 3 18h3l1-25 7-73 9-74 6-37 10-47 7-26 7-21 10-24 7-14 10-17 10-13 11-12 10-8 16-9 15-6 24-5 27-3z",fill:"#FEFFFE"}),e("path",{transform:"translate(432,631)",d:"m0 0h19l14 3 12 5 11 8 10 12 8 13 8 17 7 22 4 21 2 27-1 24-4 24-5 19-8 24-11 24-12 18-12 16-9 8-4 1-3-13-4-31-7-43-8-45-9-50-13-66-4-21-1-10 3-4z",fill:"#682D75"}),e("path",{transform:"translate(1119,528)",d:"m0 0 16 3 17 6 16 8 9 7 11 11 8 15 3 10v23l-4 16-9 21-8 14-12 16-11 13-11 12-10 9-12 11-8 7-10 6-6 3-4-1 4-86 4-40 6-40 7-36 3-7z",fill:"#682D75"})]})},{value:"DG",icon:n("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(1142,292)",d:"m0 0h27l35 3 29 5 21 6 20 8 25 12 27 16 19 14 10 8 12 11 19 19 9 11 11 14 11 17 12 21 9 20 9 25 5 18 4 24 1 10v17l-3 27-6 26-6 18-9 19-9 15-9 12-11 12-17 13-21 10-16 5-17 3h-35l-20-3-15-4-14-6-15-10-11-9-10-11-10-15-5-10-5-16-1-5v-8l2-8v-8l-4-13-6-10-1-1h-7l-2 5-8 16-16 33-16 36-20 49-14 39-12 36-10 38-6 29-4 28-1 11v26l3 14 4 11 7 9 8 6 9 4 4 1h11l9-4 11-7 10-10 6-9 2-6v-10l-4-8-6-5-19-11-11-6-5-7-2-7-1-15 4-20 5-12 6-10 7-8 15-10 15-6 22-4 17-1h39l40 2 35 4 23 5 17 5 19 8 11 8 10 9 9 13 7 14 5 16 3 19v18l-3 29-5 29-7 32-12 36-11 26-10 20-14 23-12 17-10 13-10 11-7 8-11 11-11 9-12 10-15 10-16 10-23 12-19 8-22 7-27 6-26 4-10 1h-39l-25-3-30-5-26-7-27-10-27-13-19-12-16-13-8-7-18-18-9-11-10-13-9-14-10-18-8-16-10-22-12-34-9-30-7-30-3-17-4-34-2 7-3 18-6 20-12 32-11 26-16 32-9 16-15 24-13 18-11 14-11 13-11 12-1 2h-2l-2 4-6 5-12 12-11 9-12 10-20 14-17 11-21 12-25 12-21 7-20 4-26 2-19 1h-31l-36-3-24-4-26-7-22-8-16-8-11-8-10-10-9-13-7-22-9-47-15-90-9-58-14-92-10-68-13-93-10-77-9-74-7-61-4-48-2-38v-21l5-12 10-14 8-8 12-9 22-13 20-9 27-9 29-7 27-5 32-4 26-2 28-1h30l29 1 28 3 19 4 20 6 18 8 16 8 20 12 12 8 18 13 14 11 12 11 8 7 21 21 7 8 11 13 13 17 15 20 11 17 14 24 14 27 9 19 12 30 12 36 6 23 5 26 2 15 1 2h2l2-15 9-40 8-30 16-47 11-29 8-19 9-20 13-27 12-21 6-11 12-19 13-19 14-18 9-11 9-10 7-8 22-22 11-9 14-11 22-14 19-9 22-8 21-5 31-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(456,627)",d:"m0 0h11l15 3 10 4 10 8 10 11 9 14 8 17 7 22 4 21 2 22v16l-3 26-6 25-8 25-7 16-10 19-7 10-7 11-8 10-7 4-5-1-2-4-3-30-13-79-10-61-12-62-5-24-3-12v-6l3-2z",fill:"#682D75"})]})},{value:"DV",icon:n("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(937,305)",d:"m0 0h11l23 2 25 6 16 6 13 7 12 9 10 9 9 10 9 13 8 16 6 17 6 24 5 29 4 40 3 57 1 37v128l2 4 5 8 1 4 3-9 10-56 17-85 13-55 8-29 12-38 11-28 8-18 12-21 9-13 9-12 15-16 15-13 16-10 16-8 15-5 25-4h38l30 4 20 5 19 7 24 12 13 9 14 11 12 12 12 16 11 19 8 19 6 23 3 23v26l-3 30-7 39-9 37-10 36-13 40-16 44-16 40-13 31-16 36-11 24-13 28-20 41-27 54-12 22-12 24-12 22-16 30-12 22-16 29-13 22-10 15-7 11-11 13-9 11-8 7-12 11-14 10-16 10-21 10-21 7-23 5-18 2h-26l-27-3-25-5-20-6-20-8-17-8-18-11-16-12-17-16-13-13-11-14-16-24-12-21-14-30-11-29-12-37-11-40-12-52-8-44-9-58-5-46-4-52-2-35-1-32v-28l1-36 4-55 8-71 5-28 6-23 8-22 8-16 11-17 9-11 13-13 14-11 19-11 10-5 15-5 23-5z",fill:"#FEFEFE"}),e("path",{transform:"translate(359,338)",d:"m0 0h29l38 3 27 4 23 6 19 8 19 10 11 6 30 20 17 13 11 9 14 12 25 25 9 11 9 10 11 14 14 19 14 21 17 29 19 38 11 25 11 30 7 25 6 32 4 35 2 41v55l-1 21-5 40-6 32-8 36-9 31-7 20-10 25-10 22-10 19-11 19-14 21-11 16-18 22-10 11-7 8-8 8-8 7-11 10-11 9-16 12-15 10-14 9-18 10-21 10-19 6-26 5-22 3-16 1h-37l-23-2-26-4-24-5-20-6-15-6-15-8-10-8-7-7-9-14-4-10-6-25-14-71-12-66-10-56-20-116-8-49-10-62-13-85-19-135-6-48-3-42v-20l8-17 9-11 9-9 14-10 14-9 23-11 16-6 29-8 26-6 36-6 42-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(390,636)",d:"m0 0h22l16 4 13 7 12 11 8 10 7 12 7 16 7 21 5 25 1 10v32l-4 24-9 36-9 22-8 16-12 19-10 13-5 5-7 1-2-4-3-26-6-29-11-66-16-81-9-37-5-25 1-9 6-5z",fill:"#682D75"})]})}],onChange:g=>(t(g.value),r(g.value)),optionLabel:"value",optionValue:"value",iconTemplate:({option:g})=>g==null?void 0:g.icon,className:"w-8 h-8",disabled:i})},ds=({onChange:t,value:a,disabled:i})=>{const[s,r]=o.exports.useState(a);return e(Be,{value:s,defaultValue:a,options:[{value:"S",icon:n("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#672D74"}),e("path",{transform:"translate(825,261)",d:"m0 0h20l29 2 27 4 21 5 20 7 20 9 16 8 22 13 19 13 11 9 10 9 15 15 13 17 10 16 8 16 6 19 2 13v11l-2 16-5 16-7 16-12 20-10 13-17 17-15 10-15 8-15 5-16 3h-14l-17-3-10-4-12-9-8-10-8-16-7-20-9-27-6-8-8-4-13-2-12 3-11 6-8 7-8 13-5 14-2 18 1 15 5 15 9 16 11 14 11 12 8 8 11 9 14 11 19 14 33 22 15 11 34 24 17 13 14 12 12 11 16 16 9 11 10 12 13 19 8 13 12 23 10 22 9 28 6 25 4 28 1 19v16l-2 23-5 28-5 19-7 20-9 20-10 19-9 14-10 14-10 13-10 11-7 8-12 12-11 9-10 8-14 10-14 9-17 10-23 12-25 10-22 7-26 6-23 3-17 1h-21l-20-1-29-4-24-5-28-7-29-10-26-11-22-10-23-13-18-12-10-8-13-11-9-9-6-5-7-8-11-13-11-17-12-23-7-19-4-20v-20l3-15 5-16 7-14 9-14 9-11 10-10 10-7 12-5 9 1 18 6 37 17 27 13 25 10 22 6 13 2h21l14-3 10-5 6-5 9-12 4-12v-15l-4-15-10-19-10-13-14-14-14-11-17-13-14-10-34-23-15-11-18-14-12-11-8-7-13-14-11-14-8-10-10-15-11-19-9-17-11-26-8-24-7-26-5-28-1-11v-43l5-33 7-28 11-29 8-17 11-19 12-17 8-10 7-9 9-10 22-22 13-10 14-10 17-11 18-10 22-10 35-12 24-6 23-4 19-2z",fill:"#FDFDFD"})]})},{value:"N",icon:n("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#672C74"}),e("path",{transform:"translate(997,295)",d:"m0 0h20l24 3 19 5 16 7 12 7 14 10 10 10 9 12 11 17 11 24 5 15 6 25 6 37 6 59 5 61 4 71 2 43 2 79v72l-1 45-2 42-4 46-7 51-6 34-8 33-12 36-9 21-10 18-16 23-18 18-16 10-14 7-20 6-19 3h-20l-20-3-15-4-16-6-17-9-15-11-12-11-8-8-9-11-14-19-13-22-12-23-14-29-14-34-24-64-15-44-15-42-12-36-5-10-2-1 6 29 5 33 4 36 2 40v68l-2 28-4 28-6 27-7 22-7 17-10 18-10 14-14 15-11 8-14 7-15 5-16 2h-18l-21-2-21-5-21-9-15-9-10-8-9-8-7-8-10-13-8-13-10-19-9-25-7-25-8-38-5-31-5-49-3-51-1-36v-61l2-97 3-71 5-69 6-65 5-37 7-30 10-27 10-19 8-14 12-16 9-11 11-12 13-12 13-10 14-9 25-12 14-4 15-3 9-1h22l19 3 18 6 15 8 14 10 15 13 9 9 9 11 11 14 11 16 10 17 13 24 11 23 15 34 13 32 14 43 14 49 9 33 15 45 3 2-7-32-7-46-7-47-8-46-5-46-3-41v-30l3-26 6-22 8-16 10-17 9-11 14-14 12-9 18-10 14-5 19-4z",fill:"#FEFEFE"})]})}],onChange:g=>(t(g.value),r(g.value)),optionLabel:"value",optionValue:"value",iconTemplate:({option:g})=>g==null?void 0:g.icon,className:"w-8 h-8",disabled:i})},Oe="maintenance",fe="activity",ps=()=>{const{renderToast:t}=ee(),a=ce(),i=oe(),{state:s}=a,r=o.exports.useRef(null),[p,m]=o.exports.useState(10),[g,w]=o.exports.useState(1),[u,b]=o.exports.useState(""),[v,d]=o.exports.useState([]),[x,f]=o.exports.useState([]),[E,l]=o.exports.useState([]),[c,I]=o.exports.useState([]),[$,h]=o.exports.useState({}),[S,A]=o.exports.useState(!1),[R,D]=o.exports.useState(!1),_=async()=>{try{const N=await ne(`/sessao/${s.item.id}`);if(N){b(N.resumo),h(N),A(!0);const T=await C(N.sessao,fe);d(T);const L=await C(N.maintenance,Oe);f(L),l(N.sessao)}else await O()}catch{}},O=async()=>{try{const N=await ne(`/pei/activity/session/${s.item.id}`),T=await C(N.atividades,fe);d(T),l(N.sessao);const L=await C(N.maintenance,Oe);f(L)}catch{}},y=async()=>{try{const N={calendarioId:s.item.id,pacienteId:s.item.paciente.id,sessao:JSON.stringify(E),maintenance:JSON.stringify(x),selectedMaintenanceKeys:JSON.stringify(c),resumo:u,date:s.item.date,...$};S?await ge("/sessao",N):await de("/sessao",N),t({type:"success",title:"",message:"Sess\xE3o atualizada!",open:!0}),i(`/${Q.CALENDAR}`)}catch{t({type:"failure",title:"401",message:"Sess\xE3o n\xE3o atualizada!",open:!0})}},k=o.exports.useMemo(()=>{var N,T,L,M,z,B,W,X,ve,he,ye;return e(Ce,{start:(N=s.item)==null?void 0:N.data.start,end:(T=s.item)==null?void 0:T.data.end,statusEventos:(L=s.item)==null?void 0:L.statusEventos.nome,title:(M=s.item)==null?void 0:M.title,localidade:(z=s.item)==null?void 0:z.localidade.nome,isExterno:(B=s.item)==null?void 0:B.isExterno,km:(W=s.item)==null?void 0:W.km,modalidade:(X=s.item)==null?void 0:X.modalidade.nome,dataInicio:(ve=s.item)==null?void 0:ve.dataInicio,dataFim:(he=s.item)==null?void 0:he.dataFim,dataAtual:(ye=s.item)==null?void 0:ye.dataAtual})},[]),C=async(N,T=fe)=>await Promise.all(N.map(async(M,z)=>({key:M.key,label:M.label,children:await Promise.all(M.children.map(async(B,W)=>({key:B.key,label:B.label,children:await Promise.all(B.children.map(async(X,ve)=>{const he=X.children||Array.from({length:T===fe?p:g}).map(ye=>null);return{key:X.key,label:X.label,children:he}}))})))}))),F=(N,T,L,M,z)=>e(ct,{value:z,disabled:v[N].children[T].children[L].disabled||S,onChange:B=>{const W=[...v];v[N].children[T].children[L].children[M]!==B&&(W[N].children[T].children[L].children[M]=B,l(W))}},M),j=(N,T,L,M)=>e(ds,{value:M,disabled:x[N].children[T].children[L].disabled||S,onChange:z=>{const B=[...x];x[N].children[T].children[L].children[0]!==z&&(B[N].children[T].children[L].children[0]=z,I(B))}},0),V=()=>n("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" ABA "})}),!!v.length&&e("div",{className:"text-red-400 font-inter grid justify-start mx-2 leading-4 mt-2",children:e("span",{className:"text-md",children:"Interrompa o treino da atividade ao atingir 4 tentativas corretas consecutivas."})}),v.length?e(q,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(ie,{children:v.map((N,T)=>e(le,{tabIndex:T,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:N.label})}),children:N==null?void 0:N.children.map((L,M)=>n("div",{className:"my-8",children:[n("span",{className:"font-bold font-inter",children:["Meta ",M+1,": "]})," ",e("span",{className:"font-base font-inter",children:L.label}),e("ul",{className:"list-disc mt-2 font-inter ml-4",children:L==null?void 0:L.children.map((z,B)=>n("li",{className:"my-2",children:[e("span",{children:z.label}),e("div",{className:"flex gap-1 -ml-4",children:z==null?void 0:z.children.map((W,X)=>F(T,M,B,X,W))})]},B))})]},M))},T))})}):e(q,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:n("div",{className:"grid gap-4 justify-center ",children:[e(me,{}),e(P,{text:"Selecionar Metas-DTT",icon:"pi pi-book",type:"primary",color:"white",size:"sm",onClick:()=>i(`/${Q.METASDTT}`,{state:s.item})})]})})]}),te=()=>!!x.length&&n("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" Manuten\xE7\xE3o "})}),e(q,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(ie,{children:x.map((N,T)=>e(le,{tabIndex:T,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:N.label})}),children:N==null?void 0:N.children.map((L,M)=>n("div",{className:"my-8",children:[n("span",{className:"font-bold font-inter",children:["Meta ",M+1,": "]})," ",e("span",{className:"font-base font-inter",children:L.label}),e("ul",{className:"list-disc mt-2 font-inter ml-4",children:L==null?void 0:L.children.map((z,B)=>n("li",{className:"my-2 flex gap-2 -ml-4 items-center",children:[j(T,M,B,0),e("span",{children:z.label})]},B))})]},M))},T))})})]}),Y=()=>n(K,{children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" Resumo "})}),e(q,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(Dt,{ref:r,value:u,config:{readonly:S,language:"pt_br",buttons:"bold,italic,underline,strikethrough,font,fontsize,paragraph,copyformat,table,fullsize,preview",saveModeInStorage:!0},onBlur:N=>b(N),onChange:N=>{}})})]}),U=()=>e("div",{className:"mt-auto",children:e(P,{text:"Salvar",icon:"pi pi-check",type:"primary",size:"full",loading:R,onClick:()=>y(),disabled:S})});return o.exports.useEffect(()=>{_()},[]),n("div",{className:"h-[90vh] flex flex-col",children:[k,n("div",{className:"overflox-y-auto",children:[V(),te(),Y()]}),U()]})},dt=nt,us={};dt.forEach(t=>us[t.id]="");const ms=()=>{const{renderToast:t}=ee(),a=oe(),i=ce(),{state:s}=i,[r,p]=o.exports.useState(!1),[m,g]=o.exports.useState([]),[w,u]=o.exports.useState({}),b=c=>{a(`/${Q.PEICADASTRO}`,{state:c})},v=async c=>{p(!0);try{const I=c.paciente;await Ot(`pei/${c.id}`),f({pacienteId:I}),t({type:"success",title:"Sucesso!",message:"PEI removido!",open:!0})}catch{t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}p(!1)},d=(c,I)=>n(Ct,{className:"text-[8px]",children:[n("div",{className:"font-bold text-wrap",children:[" ",c," "]}),n("div",{className:"font-normal text-wrap",children:[" ",I]})]}),x=()=>r?e(Se,{}):w.length?e(q,{children:e(ie,{children:w.map((c,I)=>e(le,{header:n("div",{className:"flex items-center  w-full",children:[e("span",{children:c.programa.nome}),n("div",{className:"ml-auto",children:[e(P,{text:"editar",type:"transparent",size:"icon",icon:"pi pi-pencil",color:"violet",onClick:()=>b(c),loading:r}),e(P,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>v(c),loading:r})]})]}),tabIndex:I,children:n("div",{className:"w-full overflow-y-auto",children:[n("div",{className:"font-bold my-2",children:[" ",c.procedimentoEnsino.nome]}),n("div",{className:" grid grid-cols-3 gap-1",children:[d("SD (est\xEDmulo discriminativo)",c.estimuloDiscriminativo),d("Resposta",c.resposta),d("SR+ (est\xEDmulo refor\xE7ador positivo))",c.estimuloReforcadorPositivo)]}),e("div",{className:"my-2",children:c.metas.map(($,h)=>n("div",{children:[n("span",{className:"flex align-items-center gap-2 w-full font-inter",children:["Meta ",h+1,": ",$.value]}),e("ul",{className:"list-disc	ml-8 font-inter",children:$.subitems.length&&$.subitems.map((S,A)=>n("li",{children:[" ",S.value," "]},A))})]},h))})]})},I))})}):n(q,{children:[" ",e(me,{})," "]}),f=async({pacienteId:c})=>{p(!0);try{const{data:I}=await Ve("pei",{paciente:c});u(I)}catch{u([]),t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}p(!1)},E=()=>e(Ee,{id:"form-filter-pei",legend:"Filtro",nameButton:"Cadastrar",fields:dt,dropdown:m,onSubmit:c=>f(c),onReset:()=>u([]),screen:"PEI",loading:r,onInclude:()=>a(`/${Q.PEICADASTRO}`),defaultValues:s}),l=o.exports.useCallback(async()=>{const[c]=await Promise.all([G("paciente")]);g({paciente:c})},[]);return o.exports.useEffect(()=>{s&&f(s),l()},[]),n("div",{children:[E(),x()]})},pt=Yt,hs={};pt.forEach(t=>hs[t.id]="");function ut({paciente:t}){const a={pacienteId:"",procedimentoEnsinoId:"",programaId:"",estimuloDiscriminativo:"",resposta:"",estimuloReforcadorPositivo:""},i={labelText:"Meta",labelFor:"meta",id:"meta-0",name:"meta",type:"input-add",customCol:"col-span-5 sm:col-span-5",buttonAdd:!0,subitems:[]},s={labelText:"Item",labelFor:"item",id:"item-0",name:"item",type:"input-add",customCol:"col-span-5 sm:col-span-5",buttonAdd:!0},[r,p]=o.exports.useState(!1),[m,g]=o.exports.useState([]),[w,u]=o.exports.useState([]),b=ce(),v=oe(),{renderToast:d}=ee(),{hasPermition:x}=pe(),{state:f}=b,{handleSubmit:E,formState:{errors:l},setValue:c,control:I,reset:$,watch:h}=re({defaultValues:a}),S=o.exports.useCallback(async()=>{const[y,k]=await Promise.all([G("programa"),G("pei/procedimento-ensino")]);g({programa:y,procedimentoEnsino:k})},[]),A=async y=>{y.pacienteId=t,p(!0);try{const k={metas:[]};Object.keys(y).map((C,F)=>{if(C.includes("-meta-")&&!C.includes("-sub-item-")){const j=C.match(/\d+/),V=C.match(/(\d+)$/),te=Number(j[0]),Y=Number(V[0]),U=[];Object.keys(y).map((N,T)=>{N.includes(`${te}-meta-${Y}-sub-item-`)&&U.push({...s,id:N,value:y[N]})}),k.metas.push({...i,id:C,subitems:U,value:y[C]})}else C.includes("Id")?k[C]=y[C].id:!C.includes("-meta-")&&!C.includes("-sub-item-")&&!C.includes("Id")&&(k[C]=y[C])}),Boolean(f)&&(k.id=f.id),Boolean(f)?await ge("pei",k):await de("pei",k),v(`/${Q.PEI}`,{state:{pacienteId:y.pacienteId}}),$(),p(!1),u([]),d({type:"success",title:"Sucesso!",message:"PEI Cadastrado.",open:!0})}catch{p(!1),d({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},R=()=>{const y=[...w],k=h("programaId");i.id=`${k.id}-meta-${y.length}`,y.push(i),u(y)},D=y=>{const k=[...w];c(k[y].id,void 0),k.splice(y,1),u(k)},_=(y,k)=>{const C=[...w],F=C[y].subitems[k];C[y].subitems.splice(k,1),c(F.id,void 0),u(C)},O=y=>{var F;const k=[...w],C=(F=k[y])!=null&&F.subitems?[...k[y].subitems]:[];k[y].id,s.id=`${k[y].id}-sub-item-${C.length}`,C.push(s),k[y].subitems=C,u(k)};return o.exports.useEffect(()=>{if(Boolean(f)){const{paciente:y,programa:k,estimuloDiscriminativo:C,resposta:F,estimuloReforcadorPositivo:j,metas:V,procedimentoEnsino:te}=f;c("pacienteId",y),c("programaId",k),c("procedimentoEnsinoId",te),c("estimuloDiscriminativo",C),c("resposta",F),c("estimuloReforcadorPositivo",j),u(V),V.map(Y=>{c(Y.id,Y.value),Y.subitems&&Y.subitems.map(U=>c(U.id,U.value))})}},[]),o.exports.useEffect(()=>{S()},[]),e("form",{className:"mt-8 space-y-6 ",onSubmit:E(A),children:n("div",{className:"h-[90vh] flex flex-col overflow-y-auto",children:[pt.map(y=>e("div",{children:x(y.permission)?e(H,{labelText:y.labelText,id:y.id,type:y.type,customCol:y.customCol,control:I,options:y.type==="select"?m[y.name]:void 0,buttonAdd:y.buttonAdd},y.id):null})),n("div",{className:"mt-8",children:[n("div",{className:"text-gray-400 font-inter flex  justify-between m-2 leading-4",children:[e("span",{className:"font-bold",children:" METAS "}),e(P,{text:"Add Meta",icon:"pi pi-plus",type:"primary",size:"sm",onClick:()=>R(),typeButton:"button"})]}),w.map((y,k)=>n(ze,{legend:`${y.labelText} ${k+1}`,className:"mb-2",toggleable:!0,children:[e("div",{className:"text-gray-400 font-inter flex  justify-end ",children:e(P,{text:"Add subitem",icon:"pi pi-plus",type:"primary",size:"sm",onClick:()=>O(k),typeButton:"button"})}),e(H,{labelText:"Decri\xE7\xE3o",id:y.id,type:"input-add",customCol:"col-span-6 sm:col-span-6",control:I,options:void 0,onClick:()=>D(k)},y.id),(y==null?void 0:y.subitems)&&(y==null?void 0:y.subitems.map((C,F)=>e(H,{labelText:`Item ${F+1}`,id:C.id,type:"input-add",customCol:"col-span-6 sm:col-span-6",control:I,options:void 0,onClick:()=>_(k,F)},C.id)))]}))]}),e("div",{className:"mt-auto",children:e(P,{text:"Salvar",type:"primary",size:"full",onClick:E(A),loading:r})})]})})}function fs(){const{renderToast:t}=ee(),a=oe(),i=ce(),{state:s}=i,[r,p]=o.exports.useState(!1),[m,g]=o.exports.useState([]),[w,u]=o.exports.useState(!1),[b,v]=o.exports.useState([]),[d,x]=o.exports.useState({}),[f,E]=o.exports.useState([]),[l,c]=o.exports.useState({}),I=D=>{let _=[];return D.forEach(O=>{_.push(O.key),O.children&&(_=b.concat(I(O.children)))}),_};o.exports.useMemo(async()=>{p(!0);try{const D=s.paciente,[{data:_},O]=await Promise.all([Ve("pei",{paciente:D}),ne(`pei/activity-session/${s.id}`)]),y=[],k=Boolean(O)?JSON.parse(O.maintenance):{},C=Boolean(O)?I(k):[];if(_.map(F=>{const j=[];F.metas.map(V=>{const te=V.subitems.reduce((Y,U)=>(C.includes(U.id)||Y.push({key:U.id,label:U.value,data:U.id}),Y),[]);te.length&&j.push({key:V.id,label:V.value,data:V.id,children:te})}),j.length&&y.push({key:F.id,label:F.programa.nome,data:F.id,children:j})}),Boolean(O)){const F=JSON.parse(O.selectedKeys),j=Object.keys(F);u(Boolean(F)),x(F),v(j),O.maintenance&&E(JSON.parse(O.maintenance)),Object.values(O.selectedMaintenanceKeys).length&&c(JSON.parse(O.selectedMaintenanceKeys))}g(y)}catch{t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}p(!1)},[]);const $=async()=>{p(!0);try{const D=[];m.map((y,k)=>{const C=[];y.children.map(F=>{const j=F.children.filter(V=>b.includes(V.key));j.length&&C.push({...F,children:j})}),C.length&&D.push({...y,children:C})});const _=D.map(y=>y.key),O={calendarioId:s.id,peisIds:_,pacienteId:s.paciente.id,atividades:D,selectedKeys:d,maintenance:f,selectedMaintenanceKeys:l};w?(O.id=s.id,await ge("pei/activity-session",O)):await de("pei/activity-session",O),t({type:"success",title:"200",message:"Cadastrado com sucesso!",open:!0}),a(`/${Q.CALENDAR}`)}catch{t({type:"failure",title:"401",message:"Falha ao cadastrar!",open:!0})}p(!1)},h=o.exports.useMemo(()=>e(Ce,{start:s.data.start,end:s.data.end,statusEventos:s.statusEventos.nome,title:s.title,localidade:s.localidade.nome,isExterno:s.isExterno,km:s.km,modalidade:s.modalidade.nome,dataInicio:s.dataInicio,dataFim:s.dataFim,dataAtual:s.dataAtual}),[]),S=()=>e("div",{className:"grid gap-2 mt-8",children:m.length?n("div",{children:[e("div",{className:"text-gray-400",children:" Selecione os programas para sess\xE3o"}),e(Ie,{value:m,selectionMode:"checkbox",selectionKeys:d,onSelectionChange:async D=>{x(D.value);const _=await Object.keys(D.value);v(_)},className:"w-full md:w-30rem"})]}):n("div",{className:"grid gap-4 justify-center",children:[e(me,{}),e(P,{text:"Cadastrar PEI",icon:"pi pi-book",type:"primary",color:"white",size:"sm",onClick:()=>a(`/${Q.PEICADASTRO}`)})]})}),A=()=>!!f.length&&n("div",{className:"grid gap-2 my-8",children:[e("div",{className:"text-gray-400",children:" Manuten\xE7\xE3o"}),e(Ie,{value:f,selectionMode:"checkbox",selectionKeys:l,onSelectionChange:async D=>{c(D.value)},className:"w-full md:w-30rem"})]}),R=()=>e("div",{className:"mt-auto",children:e(P,{text:"Salvar",type:"primary",size:"full",onClick:()=>$(),loading:r,typeButton:"button"})});return o.exports.useEffect(()=>{},[]),n("div",{className:"h-[90vh] flex flex-col overflow-y-auto",children:[h,S(),A(),R()]})}const mt=nt,xs={};mt.forEach(t=>xs[t.id]="");function gs(){const[t,a]=o.exports.useState(!1),[i,s]=o.exports.useState([]),[r,p]=o.exports.useState({});o.exports.useState(0);const{renderToast:m}=ee();oe();const g=async({pacienteId:d})=>{a(!0);try{const x=await ne(`sessao/atividade/${d.id}`);p(x)}catch{p([]),m({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}a(!1)},w=()=>e(Ee,{id:"form-filter-pei",legend:"Filtro",nameButton:"Cadastrar",fields:mt,dropdown:i,onSubmit:d=>g(d),onReset:()=>p([]),screen:"PEI",loading:t}),u=(d,x)=>d.dias[x]?n("div",{className:"grid grid-rows-3 justify-center",children:[e("div",{className:"flex justify-center",children:d.dias[x].data}),n("div",{className:"flex gap-2 justify-center",children:[e("div",{className:se("flex justify-center items-center font-inter font-light rounded-full w-4 h-4",{"bg-green-400  text-white":d.dias[x].primeiraResposta}),children:"S"}),e("div",{className:se("flex justify-center items-center font-inter font-light rounded-full w-4 h-4",{"bg-red-400  text-white":!d.dias[x].primeiraResposta}),children:"N"})]}),n("div",{className:"flex justify-center",children:[d.dias[x].porcentagem,"%"]})]}):"-",b=()=>t?e(Se,{}):r.length?e(q,{children:e(ie,{children:r.map((d,x)=>e(le,{tabIndex:x,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:d.programa})}),children:n(kt,{value:d.children,scrollable:!0,children:[e(Ae,{field:"programa",header:"Programa",style:{width:"25%"}}),Array.from({length:d.qtdColumns}).map((f,E)=>e(Ae,{body:l=>u(l,E)}))]})},x))})}):n(q,{children:[" ",e(me,{})," "]}),v=o.exports.useCallback(async()=>{const[d]=await Promise.all([G("paciente")]);s({paciente:d})},[]);return o.exports.useEffect(()=>{v()},[]),n("div",{children:[w(),b()]})}var xe=(t=>(t[t.portage=1]="portage",t[t.vbMapp=2]="vbMapp",t[t.pei=3]="pei",t))(xe||{});function vs({paciente:t}){const[a,i]=o.exports.useState(!1),[s,r]=o.exports.useState({atividade:[],tipoPortage:[],faixaEtaria:[]}),[p,m]=o.exports.useState([]),{handleSubmit:g,watch:w,control:u,reset:b}=re({defaultValues:{atividadeId:"",pacienteId:t,tipoId:"",faixaEtariaId:""}}),v=w("faixaEtariaId"),d=w("tipoId"),x=w("atividadeId"),f=o.exports.useCallback(async()=>{try{const[S,A,R]=await Promise.all([G("protocolo/portage"),G("protocolo/tipo-portage"),G("protocolo/faixa-etaria")]);r({atividade:S,tipoPortage:A,faixaEtaria:R})}catch(S){console.error("Error fetching dropdown data",S)}},[]),E=()=>{m(S=>[...S,{tipoId:d,faixaEtariaId:v,atividades:[],pacienteId:t}])},l=S=>m(A=>A.filter((R,D)=>D!==S)),c=S=>{m(A=>{const R=[...A];return R[S].atividades.push(x),R})},I=(S,A)=>{m(R=>{const D=[...R];return D[S].atividades.splice(A,1),D})},$=async S=>{i(!0);try{await de("protocolo/portage",p),b()}catch(A){console.error("Error saving form data",A)}finally{i(!1)}},h=(S,A)=>{var R,D;return n("div",{className:"flex gap-2 items-center",children:[((R=S.tipoId)==null?void 0:R.nome)||""," ",((D=S.faixaEtariaId)==null?void 0:D.nome)||"",e(P,{text:"Remover",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>l(A),typeButton:"button"})]})};return o.exports.useEffect(()=>{f()},[f]),e("form",{className:"mt-8 space-y-6",onSubmit:g($),children:n("div",{className:"h-[90vh] flex flex-col overflow-y-auto",children:[n("div",{className:"mt-4",children:[n("div",{className:"grid grid-cols-12 gap-2 m-4 mb-8 items-center",children:[e("span",{className:"col-span-12 text-gray-400 font-inter leading-4",children:"Inclua os Grupos"}),e(H,{labelText:"Tipo Portage",id:"tipoId",type:"select",customCol:"col-span-6",control:u,options:s.tipoPortage},"portage-tipo"),e(H,{labelText:"Faixa Et\xE1ria",id:"faixaEtariaId",type:"select",customCol:"col-span-6",control:u,options:s.faixaEtaria},"portage-faixa-etaria"),e("div",{className:"col-span-12",children:e(P,{text:"Adicionar",icon:"pi pi-plus",type:"primary",size:"full",onClick:E,typeButton:"button"})})]}),p.map((S,A)=>n(ze,{legend:h(S,A),className:"mb-2",toggleable:!0,children:[e(H,{labelText:"Atividade",id:"atividadeId",type:"select-add",control:u,options:s.atividade,buttonAdd:!0,onClick:()=>c(A)},`atividade-${A}`),e("ul",{children:S.atividades.map((R,D)=>n("li",{className:"flex font-inter text-sm items-center",children:[e(P,{text:"Remover",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>I(A,D),typeButton:"button"}),e("span",{children:(R==null?void 0:R.nome)||"Atividade"})]},D))})]},A))]}),e("div",{className:"mt-auto",children:e(P,{text:"Salvar",type:"primary",size:"full",onClick:g($),loading:a,disabled:!p.length})})]})})}function ys({paciente:t}){const[a,i]=o.exports.useState(!1),[s,r]=o.exports.useState({atividade:[],tipoPortage:[],faixaEtaria:[]}),[p,m]=o.exports.useState([]),{handleSubmit:g,watch:w,control:u,reset:b}=re({defaultValues:{atividadeId:"",pacienteId:t,tipoId:"",faixaEtariaId:""}});w("faixaEtariaId"),w("tipoId"),w("atividadeId");const v=o.exports.useCallback(async()=>{try{const[x,f,E]=await Promise.all([G("protocolo/portage"),G("protocolo/tipo-portage"),G("protocolo/faixa-etaria")]);r({atividade:x,tipoPortage:f,faixaEtaria:E})}catch(x){console.error("Error fetching dropdown data",x)}},[]),d=async x=>{i(!0);try{await de("protocolo/portage",p),b()}catch(f){console.error("Error saving form data",f)}finally{i(!1)}};return o.exports.useEffect(()=>{v()},[v]),e("form",{className:"mt-8 space-y-6",onSubmit:g(d)})}const bs=rt,ws={};bs.forEach(t=>ws[t.id]="");const Me={id:"",nome:""};function Ns(){const{hasPermition:t}=pe();o.exports.useState(!1);const[a,i]=o.exports.useState([]),{handleSubmit:s,control:r,watch:p}=re({defaultValues:{protocoloId:Me,pacienteId:Me}}),m=p("protocoloId"),g=p("pacienteId"),w=o.exports.useCallback(async()=>{const[u,b]=await Promise.all([G("paciente"),G("protocolo")]);i({paciente:u,protocolo:b})},[]);return o.exports.useEffect(()=>{w()},[]),n("form",{className:"mt-8 space-y-6 ",onSubmit:()=>{},children:[rt.map(u=>e("div",{children:t(u.permission)?e(H,{labelText:u.labelText,id:u.id,type:u.type,customCol:u.customCol,control:r,options:u.type==="select"?a[u.name]:void 0,buttonAdd:u.buttonAdd},u.id):null})),m.id===xe.portage&&e(vs,{paciente:g}),m.id===xe.pei&&e(ut,{paciente:g}),m.id===xe.vbMapp&&e(ys,{paciente:g})]})}var Q=(t=>(t.HOME="home",t.CRUD="cadastro",t.CALENDAR="agenda",t.SESSION="session",t.DTT="dtt",t.PEI="pei",t.PEICADASTRO="pei-cadastro",t.METASDTT="metas-dtt",t.PRIMEIRARESPOSTA="primeira-resposta",t.PROTOCOLO="protocolo",t))(Q||{});const ht=[{path:"*",componentRoute:Re,icon:"",menu:!1},{path:"session",componentRoute:ps,icon:"",menu:!1},{path:"dtt",componentRoute:ct,icon:"",menu:!1},{path:"metas-dtt",componentRoute:fs,icon:"",menu:!1},{path:"home",componentRoute:Re,icon:"pi pi-home",menu:!0},{path:"pei",componentRoute:ms,icon:"pi pi-book",menu:!0},{path:"protocolo",componentRoute:Ns,icon:"pi pi-book",menu:!0},{path:"pei-cadastro",componentRoute:ut,icon:"",menu:!1},{path:"agenda",componentRoute:cs,icon:"pi pi-calendar",menu:!0},{path:"primeira-resposta",componentRoute:gs,icon:"pi pi-check-square",menu:!0}],Es=()=>n("div",{className:"min-h-full overflow-hidden bg-background h-screen w-full",children:[e(os,{}),e("main",{className:"mt-14",children:e(je,{children:ht.map((a,i)=>e(be,{path:a.path,element:e(ns,{children:e(a.componentRoute,{})})},i))})})]});function Ss(){const{signed:t}=ue();return t?e($e,{children:e(Bt,{children:e(rs,{children:e(Es,{})})})}):e(as,{})}function Cs(){return e("div",{className:"App",children:e($t,{children:e(jt,{children:e(Ss,{})})})})}xt.createRoot(document.getElementById("root")).render(e(ft.StrictMode,{children:e(Cs,{})}));
