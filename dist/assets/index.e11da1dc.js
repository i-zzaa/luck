import{r as p,R as Ut}from"./react.705ad3af.js";import{c as Wt}from"./react-dom.10879ce7.js";import{a as Kt}from"./axios.d349c3b3.js";import{h as Ee}from"./moment.9709ab41.js";import{j as e,a as d,F as pe,T as Qt,D as gt,M as Zt,C as Xt,I as es,b as ts,c as ss,L as ns,A as be,d as ye,e as Ke,f as vt,g as os,h as st,O as bt,N as yt,i as St,m as wt,K as as,k as _e,z as rs,l as Re}from"./primereact.95ddfdfc.js";import{B as Et,N as is}from"./react-router-dom.096696d9.js";import{C as ae,u as ke}from"./react-hook-form.ad20ad1d.js";import{c as fe}from"./clsx.09c75e33.js";import{L as ls}from"./react-lottie-player.6cdec72a.js";import{e as Nt,f as Je,d as we,c as ge}from"./react-router.19ad69de.js";import{J as cs}from"./jodit-react.328ed469.js";import{E as It}from"./jspdf.71127e49.js";import{a as Te}from"./jspdf-autotable.bae232af.js";/* empty css                   */import"./core-js.fef2c0d7.js";import"./scheduler.2450001e.js";import"./form-data.d1f94bc2.js";import"./react-transition-group.66df557c.js";import"./@babel.4f1e7424.js";import"./dom-helpers.2a8a4335.js";import"./@remix-run.7ba39c5a.js";import"./lottie-web.df2e13c6.js";import"./fast-deep-equal.55bfef35.js";import"./rfdc.0929fce7.js";import"./fflate.0418c72f.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function a(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=a(o);fetch(o.href,l)}})();Ee.locale("pt-br");const ds={TO:"#ef6c00",FONO:"#f6bf26",PSICO:"#8e24aa",PSICOPEDAG:"#000000"},ps={TO:"#ffffff",FONO:"#ffffff",PSICO:"#ffffff",PSICOPEDAG:"#ffffff"},us=()=>{setTimeout(()=>{(document.querySelectorAll(".p-multiselect-token")||[]).forEach(n=>{const a=ds[n.textContent.toUpperCase()],s=ps[n.textContent.toUpperCase()];n.style.background=a,n.style.color=s})},0)},nt=t=>Ee(t).format("DD/MM/YYYY"),ms=t=>(Ee.locale("pt-br"),Ee(t).format("YYYY-MM-DD")),hs=t=>Ee(t).add(1,"days").format("YYYY-MM-DD"),ot=(t,n)=>{const a=Ee(t);return Ee(n).diff(a,"weeks")+1};var Ct=(t=>(t.mobile="DEVICE_MOBILE",t.web="DEVICE_WEB",t))(Ct||{});const Pe={id:"",name:"meta",type:"input-add",value:"",labelFor:"meta",subitems:[],buttonAdd:!0,customCol:"col-span-5 sm:col-span-5",labelText:"Meta"},Fe={id:"",name:"item",type:"input-add",value:"",labelFor:"item",buttonAdd:!0,customCol:"col-span-5 sm:col-span-5",labelText:"Item"},xe=Kt.create({baseURL:"https://hdvjel.hospedagemelastica.com.br",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",device:Ct.mobile}}),at=(t,n,a)=>{xe.interceptors.request.use(async s=>(s.url.endsWith("login")||(s.headers.Authorization=`Bearer ${t}`,s.headers.login=n,s.headers.idUser=a),s),s=>Promise.reject(s))},me=async(t,n)=>{var o;const a=n?`?${n}`:"",s=await xe(`${t}/dropdown${a}`);return s.status===200?((o=s.data)==null?void 0:o.data)||s.data:[]},De=async(t,n)=>await xe.post(t,n),Be=async(t,n)=>await xe.put(t,n),fs=async t=>await xe.delete(`${t}`),Ne=async t=>{const n=await xe(t);return n.status===200?n.data:[]},Se=async(t,n,a)=>{const s=a?`?${a}`:"";return await xe.post(`${t}/filtro${s}`,n)},xs="developer",At=p.exports.createContext({}),gs=({children:t})=>{const{perfil:n}=je(),[a,s]=p.exports.useState([]),o=r=>{s(r)};p.exports.useMemo(async()=>{const r=sessionStorage.getItem("auth"),m=(r?JSON.parse(r):[]).permissoes||await Ne("permissao");s(m)},[]),p.exports.useEffect(()=>{a.length},[]);const l=(r="")=>{switch(!0){case!n:throw new Error("Voce n\xE3o tem permissao");case r==="*":return!0;default:return!!(a.length&&a.includes(r.toUpperCase())||n===xs)}};return e(At.Provider,{value:{hasPermition:l,perfil:n,permissions:a,setPermissionsLogin:o},children:t})},$e=()=>p.exports.useContext(At),vs="absolute animate-bounce min-w-[24rem] top-2 right-0 block flex p-4 mb-4 text-sm rounded-lg items-center gap-2 z-[70] ",Pt=p.exports.createContext({}),bs=({children:t})=>{const[n,a]=p.exports.useState("hidden"),[s,o]=p.exports.useState(),[l,r]=p.exports.useState(""),[i,m]=p.exports.useState({type:"info",title:"",message:"",open:!1}),b=g=>{switch(g){case"success":o(e("i",{className:"pi pi-check-circle"}));break;case"failure":o(e("i",{className:"pi pi-times-circle"}));break;case"warning":o(e("i",{className:"pi pi-exclamation-circle"}));break;case"info":o(e("i",{className:"pi pi-info-circle"}));break;default:o(e("i",{className:"pi pi-undo"}));break}},h=g=>{switch(g){case"success":r("z-[10000] text-white bg-green-400 rounded-lg  w-24 ");break;case"failure":r("z-[10000] text-white bg-red-400 rounded-lg  w-24");break;case"warning":r("z-[10000] text-white bg-yellow-400 rounded-lg  w-24");break;case"info":r("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break;default:r("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break}},w=({type:g,message:v,title:y,open:S})=>{b(g),h(g),m({type:g,message:v,title:y,open:S}),a(S?"block":"hidden"),setTimeout(()=>{a("hidden")},3e3)};return e(Pt.Provider,{value:{renderToast:w},children:d(pe,{children:[t,d("div",{className:`${vs} ${n} ${l}`,role:"alert",children:[s,d("span",{children:[e("span",{className:"font-medium",children:"   "+i.title})," "+i.message]})]})]})})};function de(){return p.exports.useContext(Pt)}const ys=async()=>{"caches"in window&&(await caches.keys()).forEach(async n=>{await caches.delete(n)}),localStorage.clear(),sessionStorage.clear()};window.addEventListener("unload",()=>{localStorage.clear(),sessionStorage.clear(),"caches"in window&&caches.keys().then(t=>{t.forEach(n=>caches.delete(n))})});const Me=p.exports.createContext({}),Ss=({children:t})=>{const[n,a]=p.exports.useState(),[s,o]=p.exports.useState(""),{setPermissionsLogin:l}=$e(),{renderToast:r}=de();p.exports.useEffect(()=>{const h=sessionStorage.getItem("token"),w=sessionStorage.getItem("auth"),g=sessionStorage.getItem("perfil")||"";if(h&&w){const v=JSON.parse(w);a(v),o(g),at(h,v.login,v.id)}},[]);const i=async h=>{var w;try{const v=(await xe.post("/login",{...h,password:parseInt(h.password)})).data;setTimeout(()=>{b()},8e6);const y=(v==null?void 0:v.user)||v.data,S=(v==null?void 0:v.accessToken)||v.data.accessToken,C=(w=y.perfil)!=null&&w.nome?y.perfil.nome.toLowerCase():y.perfil.toLowerCase();sessionStorage.setItem("token",S),sessionStorage.setItem("auth",JSON.stringify(y)),sessionStorage.setItem("perfil",C),y.permissoes.length&&l&&l(y.permissoes),o(C),a(y),await at(S,y.login,y.id),r({type:"success",title:" ",message:"Bem vindo!",open:!0})}catch(g){m(g)}},m=h=>{const w=h!=null&&h.data?h==null?void 0:h.data.message:"Usu\xE1rio n\xE3o encontrado!";r({type:"failure",title:h.status||"Erro no Login!",message:w,open:!0})},b=async()=>{ys(),a(void 0);try{await xe.get("/logout")}catch(h){console.log(h)}};return e(Me.Provider,{value:{signed:Boolean(n),user:n,Login:i,Logout:b,perfil:s},children:t})},je=()=>p.exports.useContext(Me);function ws(t="primary",n="white",a="full"){const s={primary:"bg-violet-800 hover:bg-violet-600",second:"bg-yellow-400 hover:bg-violet-800",transparent:"bg-transparent hover:bg-transparent"},o={white:"text-white",red:"text-red-400 hover:text-violet-800 focus:text-violet-600",green:"text-green-400 hover:text-violet-800 focus:text-violet-600",yellow:"text-yellow-400 hover:text-violet-800 focus:text-violet-600",violet:"text-violet-800 hover:text-violet-600 focus:text-violet-600"},l={full:"w-full",sm:"",icon:"",link:"",md:"sm:w-2/5 w-full"};return fe("text-sm rounded-md border-none",s[t],o[n],l[a])}function W({icon:t,size:n="full",type:a="primary",color:s="white",text:o,loading:l,disabled:r=!1,onClick:i,typeButton:m="submit"}){const b=n==="icon",h=ws(a,s,n);return e(Qt,{icon:t,type:m,label:b?"":o,loading:l,disabled:r,onClick:i,className:h})}function Es({id:t,labelText:n,type:a,errors:s,customCol:o,hidden:l,children:r}){return d("div",{className:fe("label-float",{"my-5":!o,hidden:l&&l},o),children:[r,a!=="switch"&&a!=="checkbox"&&e("label",{children:n}),(s==null?void 0:s[t])&&e("p",{className:"text-xs text-red-400 text-end",children:s[t].message})]})}function Ns({id:t,value:n,className:a,disabled:s,validate:o,control:l,onChange:r}){return e(ae,{name:t,control:l,rules:o,render:({field:i})=>e("textarea",{...i,id:i.id,value:n||i.value,className:a,disabled:s,rows:8,onChange:m=>{i.onChange(m.target.value),r==null||r(m.target.value)}})})}function Is({id:t,value:n,options:a,disabled:s,validate:o,control:l,onChange:r}){return e(ae,{name:t,control:l,rules:o,render:({field:i})=>e(gt,{value:n||i.value,virtualScrollerOptions:{itemSize:38},options:a,onChange:m=>{r==null||r(m.value),i.onChange(m.value)},optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:s})})}function Cs({id:t,value:n,options:a,disabled:s,validate:o,control:l,onChange:r}){return e(ae,{name:t,control:l,rules:o,render:({field:i})=>e(Zt,{disabled:s,id:i.id,display:"chip",optionLabel:"nome",filter:!0,value:n||i.value,onChange:m=>{us(),r==null||r(m.value),i.onChange(m.value)},options:a})})}function As({id:t,value:n,disabled:a,validate:s,control:o,onChange:l,onClick:r,buttonAdd:i}){return d("div",{className:"grid gap-2 grid-cols-6",children:[e(ae,{name:t,control:o,rules:s,render:({field:m})=>e("textarea",{...m,id:m.id,value:n||m.value,className:"inputAnimado col-span-5",autoComplete:"off",disabled:a,rows:2,onInput:b=>{m.onChange(b),l==null||l(b)}})}),i?e(W,{text:"Add",icon:"pi pi-plus",type:"primary",size:"icon",onClick:()=>r==null?void 0:r("add")}):!a&&e(W,{text:"Remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>r==null?void 0:r("remove")})]})}function Ps({id:t,value:n,className:a,disabled:s,validate:o,control:l,onChange:r,labelText:i}){return e(ae,{name:t,control:l,rules:o,render:({field:m})=>d("div",{className:"flex items-center gap-2",children:[e(Xt,{checked:n||m.value,onChange:b=>{m.onChange(b.target.checked),r==null||r(b.target.checked)},disabled:s,className:a}),e("span",{className:"text-violet-800",children:i})]})})}function Fs({id:t,value:n,disabled:a,validate:s,control:o,onChange:l,labelText:r}){return e(ae,{name:t,control:o,rules:s,render:({field:i})=>d("div",{className:"grid grid-cols-6 justify-start items-center h-8",children:[e("span",{className:"col-span-4 text-violet-800",children:r}),e("div",{className:"col-span-2",children:e(es,{checked:n||i.value,onChange:m=>{i.onChange(m.value),l==null||l(m.value)},disabled:a})})]})})}function ks({id:t,value:n,className:a,disabled:s,validate:o,control:l,onChange:r}){return e(ae,{name:t,control:l,rules:o,render:({field:i})=>e(ts,{value:n||i.value,type:"tel",className:`inputAnimado font-inter font-light ${a}`,mask:"(99) 9999-9999",disabled:s,onChange:m=>{i.onChange(m.value),r==null||r(m.value)}},i.id)})}function Ds({id:t,value:n,disabled:a,validate:s,control:o,onChange:l}){return e(ae,{name:t,control:o,rules:s,render:({field:r})=>e("div",{className:"inputAnimado font-inter",id:r.id,children:d("div",{className:"p-inputgroup",children:[e(ss,{value:n||r.value,disabled:a,onInput:i=>{r.onChange(i),l==null||l(i)}}),e("span",{className:"p-inputgroup-addon",children:"R$"})]})})})}function Os({id:t,value:n,disabled:a,validate:s,control:o,onChange:l}){return e(ae,{name:t,control:o,rules:s,render:({field:r})=>e("input",{...r,id:r.id,value:n||r.value,type:"date",className:"inputAnimado",autoComplete:"off",min:s==null?void 0:s.min,disabled:a,onInput:i=>{r.onChange(i),l==null||l(i)}})})}function Ls({id:t,value:n,disabled:a,validate:s,control:o,onChange:l,className:r}){return e(ae,{name:t,control:o,rules:s,render:({field:i})=>e("input",{...i,id:i.id,value:n||i.value,type:"time",className:`inputAnimado font-inter ${r}`,disabled:a,onInput:m=>{i.onChange(m),l==null||l(m)}})})}function rt({id:t,value:n,disabled:a,validate:s,control:o,onChange:l,className:r}){return e(ae,{name:t,control:o,rules:s,render:({field:i})=>e("input",{...i,id:i.id,value:n||i.value,type:"text",className:`inputAnimado ${r}`,autoComplete:"off",disabled:a,onInput:m=>{i.onChange(m),l==null||l(m)}})})}function Rs({id:t,value:n,options:a,disabled:s,validate:o,control:l,onChange:r,onClick:i,buttonAdd:m}){return d("div",{className:"grid gap-2 grid-cols-6",children:[e(ae,{name:t,control:l,rules:o,render:({field:b})=>e(gt,{className:"col-span-5",value:n||b.value,virtualScrollerOptions:{itemSize:38},options:a,onChange:h=>{r==null||r(h.value),b.onChange(h.value)},optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:s})}),m?e(W,{text:"Add",icon:"pi pi-plus",type:"primary",size:"icon",onClick:()=>i==null?void 0:i("add"),typeButton:"button",disabled:s}):!s&&e(W,{text:"Remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>i==null?void 0:i("remove"),typeButton:"button"})]})}function Ts({id:t,value:n,disabled:a,validate:s,control:o,onChange:l,className:r}){return e(ae,{name:t,control:o,rules:s,render:({field:i})=>e("input",{...i,id:i.id,value:n||i.value,type:"password",className:`inputAnimado ${r}`,autoComplete:"off",disabled:a,onInput:m=>{i.onChange(m),l==null||l(m)}})})}function zs({id:t,options:n,validate:a,control:s}){return e(ae,{name:t,control:s,rules:a,render:({field:o})=>e(ns,{value:o.value,options:n,onChange:l=>o.onChange(l.value),multiple:!0,filter:!0,optionLabel:"nome",listStyle:{maxHeight:"300px"}})})}function he(t){const{type:n}=t;return e(Es,{...t,children:(()=>{switch(n){case"list":return e(zs,{...t});case"textarea":return e(Ns,{...t});case"select":return e(Is,{...t});case"multiselect":return e(Cs,{...t});case"input-add":return e(As,{...t});case"checkbox":return e(Ps,{...t});case"switch":return e(Fs,{...t});case"tel":return e(ks,{...t});case"price":return e(Ds,{...t});case"date":return e(Os,{...t});case"time":return e(Ls,{...t});case"text":return e(rt,{...t});case"select-add":return e(Rs,{...t});case"password":return e(Ts,{...t});default:return e(rt,{...t})}})()})}const it={xs:"text-xs",sm:"text-sm",md:"text-md",lg:"text-lg"},lt={white:"text-white","gray-light":"text-gray-300",gray:"text-gray-400","gray-dark":"text-gray-800",violet:"text-violet-800",yellow:"text-yellow-400",black:"text-black"};function Ft({size:t="md",color:n="gray-dark",children:a}){const s=it[t]||it.md,o=lt[n]||lt["gray-dark"];return e("span",{className:fe("font-bold",s,o),children:a})}const ct={xs:"text-xs",sm:"text-sm",md:"text-md",lg:"text-lg"},dt={white:"text-white","gray-light":"text-gray-300",gray:"text-gray-400","gray-dark":"text-gray-800",violet:"text-violet-800",yellow:"text-yellow-400",red:"text-red-900",black:"text-black"};function Ms({size:t="md",color:n="gray-dark",text:a,display:s="grid",subtext:o,icon:l,className:r}){const i=ct[t]||ct.md,m=dt[n]||dt["gray-dark"];return d("div",{className:fe("flex gap-4 font-normal tracking-wider text-start items-center text-ellipsis overflow-hidden whitespace-nowrap",i,m,r),children:[l&&e("div",{className:"flex items-center",children:e("i",{className:l})}),d("span",{className:s,children:[a,"\xA0",e("strong",{className:"font-inter",children:o})]})]})}function Bs(t="DEFAULT"){const n={TO:"rounded-lg cursor-pointer hover:scale-[101%] duration-700 ease-in-out border-l-4 border-to",FONO:"rounded-lg cursor-pointer hover:scale-[101%] duration-700 ease-in-out border-l-4 border-fono",PSICO:"rounded-lg cursor-pointer hover:scale-[101%] duration-700 ease-in-out border-l-4 border-psico",PSICOPEDAG:"rounded-lg cursor-pointer hover:scale-[101%] duration-700 ease-in-out border-l-4 border-psicopedag",MOTRICIDADE:"rounded-lg cursor-pointer hover:scale-[101%] duration-700 ease-in-out border-l-4 border-motricidade",MUSICOTERAPIA:"rounded-lg cursor-pointer hover:scale-[101%] duration-700 ease-in-out border-l-4 border-musicoterapia",DEFAULT:"rounded-lg",FREE:"border-l-4 border-l-green-400 rounded-lg cursor-not-allowed"};return n[t.toUpperCase()]||n.DEFAULT}function re({children:t,type:n="DEFAULT",className:a,onClick:s}){const o=Bs(n.toLocaleUpperCase()),l=fe("px-2 bg-white shadow-sm mt-2",o,a);return e("fieldset",{className:l,onClick:s,children:e("div",{className:"py-4 w-full",children:t})})}function Qe({id:t,legend:n,fields:a,screen:s,loading:o,nameButton:l,dropdown:r,onSubmit:i,onInclude:m,onReset:b,defaultValues:h}){const{setValue:w,handleSubmit:g,control:v,reset:y}=ke({defaultValues:h}),{hasPermition:S}=$e(),C=()=>{y(),b()},L=z=>{i(z)};return p.exports.useEffect(()=>{S(`${s}_FILTRO_SELECT_AGENDADOS`)||w("naFila",!0)}),e(be,{children:e(ye,{header:n,tabIndex:0,children:d("form",{id:t,action:"#",onSubmit:g(L),className:"flex-1",children:[e("div",{className:"grid grid-cols-6 gap-4",children:a.map(z=>S(z.permission)&&e(he,{labelText:z.labelText,id:z.id,type:z.type,customCol:z.customCol,control:v,options:z.type==="select"?r[z.name]:void 0},z.id))}),e("div",{className:"flex items-center mt-10 gap-2 justify-between",children:d(pe,{children:[m&&S(`${s}_FILTRO_BOTAO_CADASTRAR`)&&e("div",{className:"sm:text-end",children:e(W,{text:l||"Cadastrar",icon:"pi pi-plus",type:"primary",size:"sm",onClick:m})}),e("div",{className:"hidden sm:w-2/4 ml-auto sm:grid grid-cols-2 gap-2",children:d(pe,{children:[S(`${s}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(W,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"full",onClick:C})}),S(`${s}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(W,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"full",loading:o,onClick:()=>g(L)})})]})}),e("div",{className:"sm:w-2/4 ml-auto grid sm:hidden grid-cols-2 gap-2",children:d(pe,{children:[S(`${s}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(W,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"icon",onClick:C})}),S(`${s}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(W,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"icon",loading:o,onClick:()=>g(L)})})]})})]})})]})})})}function Oe(){return d("div",{className:"uppercase flex items-center gap-4 m-auto mt-2 justify-center",children:[e("i",{className:"pi pi-folder-open"}),e(Ft,{color:"gray",children:"N\xE3o h\xE1 itens"})]})}const kt="Comp 1",Dt="",Ot=[{ty:4,nm:"circle outline",mn:"",sr:1,st:0,op:180,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[0,0,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[55.228,0],[0,-55.228],[-55.228,0]],o:[[0,-55.228],[-55.228,0],[0,55.228],[55.228,0]],v:[[0,0],[-100,-100],[-200,0],[-100,100]]},ix:2}},{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[-55.228,0],[0,-55.228],[55.228,0]],o:[[0,-55.228],[55.228,0],[0,55.228],[-55.228,0]],v:[[0,0],[100,-100],[200,0],[100,100]]},ix:2}},{ty:"tm",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:0,k:80,ix:2},o:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:3},s:{a:0,k:100,ix:1},m:2},{ty:"st",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:52,ix:5},d:[],c:{a:0,k:[.4,.1608,.4667],ix:3}}],ind:1,parent:2},{ty:4,nm:"circle",mn:"",sr:1,st:0,op:200,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[960,540,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[-100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 2",d:1,p:{a:0,k:[100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.4,.1608,.4667],ix:4},r:1,o:{a:0,k:100,ix:5}}],ind:2}],Lt=0,Rt=1080,Tt=1920,zt={a:"",k:"",d:"",g:"@lottiefiles/toolkit-js 0.22.1",tc:"#000000"},Mt="5.7.4",Bt=30,$t=180,jt=0,_t=[],$s={nm:kt,mn:Dt,layers:Ot,ddd:Lt,h:Rt,w:Tt,meta:zt,v:Mt,fr:Bt,op:$t,ip:jt,assets:_t},js=Object.freeze(Object.defineProperty({__proto__:null,nm:kt,mn:Dt,layers:Ot,ddd:Lt,h:Rt,w:Tt,meta:zt,v:Mt,fr:Bt,op:$t,ip:jt,assets:_t,default:$s},Symbol.toStringTag,{value:"Module"}));function Ze(){return e("div",{className:"flex items-center justify-center",children:e(ls,{loop:!0,animationData:js,play:!0,style:{width:200,height:200}})})}const _s=[{labelText:"Login",labelFor:"username",id:"username",name:"username",type:"text",autoComplete:"text",isRequired:!0,placeholder:"Login",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o xxx.xxx"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Senha",labelFor:"password",id:"password",name:"password",type:"password",isRequired:!0,placeholder:"Senha",validate:{required:"Campo obrigat\xF3rio!"}}],Vs=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Paciente",id:"pacienteId",name:"paciente",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"}],Hs=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Paciente",id:"pacienteId",name:"paciente",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_SELECT_PROTOCOLO",labelText:"Protocolo",id:"protocoloId",name:"protocolo",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"}],Js=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Procedimento de Ensino",id:"procedimentoEnsinoId",name:"procedimentoEnsino",type:"select",singleSelect:!1,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Programa",id:"programaId",name:"programa",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Est\xEDmulo Discriminativo",id:"estimuloDiscriminativo",name:"estimuloDiscriminativo",type:"text",customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Resposta",id:"resposta",name:"resposta",type:"text",customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Est\xEDmulo Refor\xE7ador Positivo",id:"estimuloReforcadorPositivo",name:"estimuloReforcadorPositivo",type:"text",customCol:"col-span-6 sm:col-span-6"}],Ys=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Paciente",id:"pacienteId",name:"paciente",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Protocolo",id:"protocoloId",name:"protocolo",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"}];function Gs(){const t={username:"cristiane.graff",password:"12345678"},[n,a]=p.exports.useState(!1),[s,o]=p.exports.useState(!1),{renderToast:l}=de(),{Login:r}=je(),{handleSubmit:i,formState:{errors:m},setValue:b,watch:h,control:w}=ke({defaultValues:t}),g=async({username:y,password:S})=>{o(!0);try{await r({username:y,password:S})}catch{l({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}finally{o(!1)}},v=y=>{a(y),localStorage.setItem("rememberCheck",JSON.stringify(y)),y?localStorage.setItem("rememberLogin",JSON.stringify({username:h("username"),password:h("password")})):localStorage.removeItem("rememberLogin")};return p.exports.useEffect(()=>{const y=localStorage.getItem("rememberLogin");if(y){const{username:S,password:C}=JSON.parse(y);a(!0),b("username",S),b("password",C)}},[]),d("form",{className:"mt-8 space-y-6",onSubmit:i(g),children:[e("div",{children:_s.map(y=>e(he,{id:y.id,type:y.type,labelText:y.labelText,control:w,validate:y.validate,errors:m},y.id))}),e(he,{id:"checkbox-login",labelText:"Lembrar login",type:"checkbox",control:w,onChange:v,value:n}),e(W,{text:"Entrar",type:"primary",size:"full",onClick:i(g),loading:s})]})}const qs="luck-web",Us="0.8.5",Ws="module",Ks={dev:"vite --port=3002 --host",start:"node serve.js --host",preview:"vite preview --host",sb:"start-storybook -p 6006",format:'prettier --write "src/**/*.{ts,js,tsx}"',lint:'eslint "src/**/*.{ts,js}" --quiet',build:"export NODE_OPTIONS='--max-old-space-size=8192' && tsc && vite build"},Qs={"@fullcalendar/core":"5.11.3","@fullcalendar/daygrid":"5.11.3","@fullcalendar/interaction":"5.11.3","@fullcalendar/list":"5.11.3","@fullcalendar/moment":"5.11.3","@fullcalendar/moment-timezone":"5.11.3","@fullcalendar/react":"5.11.2","@fullcalendar/rrule":"5.11.3","@fullcalendar/timegrid":"5.11.3","@types/uuid":"^9.0.7","@vitejs/plugin-react-refresh":"^1.3.6",autoprefixer:"10.4.12",axios:"1.1.3","chart.js":"3.9.1",clsx:"1.2.1",cors:"2.8.5",express:"4.18.2","jodit-react":"^4.1.2",jspdf:"^2.5.2","jspdf-autotable":"^3.8.4","lottie-react":"2.3.1",moment:"2.29.4","postcss-import":"15.0.0",primeicons:"6.0.1",primereact:"8.7.0",quill:"1.3.7",react:"18.2.0","react-chartjs-2":"4.3.1","react-dom":"18.2.0","react-hook-form":"7.37.0","react-lottie-player":"1.5.4","react-router-dom":"6.4.2",rrule:"2.7.1",url:"0.11.0",uuid:"^9.0.1","vite-plugin-pwa":"^0.17.4","web-vitals":"2.1.4","workbox-background-sync":"6.5.4","workbox-broadcast-update":"6.5.4","workbox-cacheable-response":"6.5.4","workbox-core":"6.5.4","workbox-expiration":"6.5.4","workbox-google-analytics":"6.5.4","workbox-navigation-preload":"6.5.4","workbox-precaching":"6.5.4","workbox-range-requests":"6.5.4","workbox-routing":"6.5.4","workbox-strategies":"6.5.4","workbox-streams":"6.5.4",xlsx:"^0.18.5"},Zs={"@babel/core":"7.19.3","@types/react":"18.0.17","@types/react-dom":"18.0.6","@vitejs/plugin-react":"2.1.0","babel-loader":"8.2.5",prettier:"latest","standard-version":"9.5.0",tailwindcss:"3.2.1",typescript:"4.8.4",vite:"3.1.0","workbox-build":"6.5.4"},Xs={name:qs,version:Us,private:!0,type:Ws,scripts:Ks,dependencies:Qs,devDependencies:Zs},Xe="/assets/logo-lg.ee70d40f.jpg";function en({heading:t}){return d("div",{className:"mb-10 text-center",children:[e("div",{className:"flex justify-center",children:e("img",{alt:"",className:"h-32 ",src:Xe})}),e(Ft,{size:"lg",children:t})]})}function pt(){const[t,n]=p.exports.useState(""),a=p.exports.useCallback(async()=>{const{data:s}=await Ne("/");n(`vers\xE3o frontend: ${Xs.version} - ${s}`)},[]);return p.exports.useEffect(()=>{a()},[a]),d(pe,{children:[e(en,{heading:"Prontu\xE1rio"}),e(Gs,{}),e("div",{className:"text-xs absolute bottom-0 text-gray-300 left-0  w-full flex justify-center",children:e("div",{className:"",children:t})})]})}const tn=()=>e("div",{className:"min-h-full h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-md w-full space-y-8",children:e(Et,{children:d(Nt,{children:[e(Je,{path:"/",element:e(pt,{})}),e(Je,{path:"*",element:e(pt,{})})]})})})}),sn=({children:t})=>e("div",{className:"h-screen overflow-y-auto",children:e("div",{className:"mx-2 mt-4 mb-16",children:t})}),Vt=p.exports.createContext({}),nn=({children:t})=>{const[n,a]=p.exports.useState(!1);return e(Vt.Provider,{value:{open:n,setOpen:a},children:t})},on=t=>t.split("-").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ");function an({route:t}){const a=we().pathname.startsWith(t.path);return e("li",{className:fe("hover:px-0 hover:bg-primary-hover hover:text-primary-text-hover duration-700 grid justify-center",a?"bg-primary-hover text-primary-text-hover":"text-primary-text"),children:d(is,{to:t.path,className:"grid grid-cols-2 gap-8 items-center text-sm px-4 py-4 cursor-pointer",children:[e("i",{className:fe("text-end",t.icon)}),e("span",{className:"duration-700",children:on(t.path)})]})},t.path)}function rn(){const[t,n]=p.exports.useState([]);return p.exports.useEffect(()=>{const a=qt.filter(s=>s.path!=="*"&&s.menu);n(a)},[]),t}const ln=()=>{const t=ge(),{Logout:n}=p.exports.useContext(Me),{user:a,perfil:s}=p.exports.useContext(Me),{open:o,setOpen:l}=p.exports.useContext(Vt),r=rn();return o?(()=>d("aside",{onClick:()=>l(!1),className:"fixed border-box shadow-3xl w-full h-screen z-20 bg-primary duration-700 ease-in-out justify-center",children:[e("div",{className:"bg-logo-md-write bg-no-repeat bg-cover h-[13rem] w-[20rem] mx-auto"}),d("div",{className:"border-y border-primary-text duration-1000 p-4 mt-2",children:[e("h3",{className:"text-primary-text text-center font-light text-sm",children:a.nome}),e("h3",{className:"text-gray-200 text-center font-light text-xs",children:s})]}),e("ul",{className:"list-none p-0 mt-8",children:r.map(b=>e(an,{route:b},b.path))}),e("i",{onClick:n,className:"pi pi-sign-out duration-700 text-primary-text hover:scale-125 cursor-pointer w-4 col-span-1 fixed bottom-8 left-[50%]"})]}))():e("nav",{className:"fixed h-12 w-full bg-primary mb-8",children:(()=>e("aside",{className:"fixed w-full right-2 shadow-3xl h-12 z-20 bg-primary duration-700 ease-in-out cursor-pointer",children:d("div",{className:"flex justify-between items-center",children:[e("div",{className:"sm:text-end ml-2",children:e(W,{text:"",icon:"pi pi-arrow-left",type:"primary",color:"white",size:"icon",onClick:()=>t(-1)})}),e("div",{className:"w-12 h-12 mt-[1vh] rounded-3xl bg-primary",onClick:()=>l(!0),children:e("div",{className:"bg-logo-mini bg-no-repeat bg-cover h-12 w-12 duration-700"})})]})}))()})};function ut(){const[t,n]=p.exports.useState(),[a,s]=p.exports.useState(!1),{renderToast:o}=de(),{reset:l,handleSubmit:r,formState:{errors:i},control:m}=ke(),b=()=>{const w=sessionStorage.getItem("auth"),g=JSON.parse(w);n(g)},h=async w=>{s(!0);try{w.id=t.login;const{data:g}=await Be("/usuarios/reset-senha",w);s(!1),l(),o({type:"success",title:"",message:g.message,open:!0})}catch({message:g}){o({type:"failure",title:"401",message:`${g}`,open:!0}),l();return}};return p.exports.useEffect(()=>{b()},[]),e(pe,{children:e(re,{className:"rounded-lg border border-gray-200 p-4",children:d("div",{className:"grid sm:grid-cols-2",children:[e(Ms,{text:t==null?void 0:t.nome,subtext:t==null?void 0:t.login,color:"violet",size:"md",icon:"pi pi-id-card",display:"grid"}),d("div",{className:"flex gap-2  my-6 sm:my-0  items-center",children:[e(he,{labelText:"Alterar senha",id:"senha",type:"password",customCol:" w-full",errors:i,validate:{required:!0},control:m}),e("div",{className:" mt-4 ",children:e(W,{text:"Alterar senha",type:"second",icon:"pi pi-sync",size:"icon",onClick:r(h)})})]})]})})})}var Ye=(t=>(t.atendido="Atendido",t.atestado="Atestado",t.livre="Livre",t.confirmado="Confirmado",t))(Ye||{});const cn=[{permission:"AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-3",type:"date"},{permission:"AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-3",type:"date"}];function dn(t,n,a,s){if(!(t==="Avalia\xE7\xE3o")||!(n&&a&&s))return t;const r=ot(n,s),i=ot(n,a);return`${t} ${r}/${i}`}const pn=({title:t,status:n,localidade:a,isExterno:s,km:o,modalidadeInfo:l})=>d("div",{className:"text-gray-800 text-sm text-center grid justify-center",children:[e("div",{className:"font-base font-semibold text-primary",children:t}),d("p",{className:"flex gap-4 items-center justify-between",children:[e("span",{children:l}),e("span",{children:n})]}),d("p",{className:"flex gap-4 items-center",children:[a,s&&e("span",{className:"font-bold font-inter",children:`- ${o}km`})]})]}),et=({start:t,end:n,title:a,statusEventos:s,localidade:o,isExterno:l,km:r,modalidade:i,dataInicio:m,dataFim:b,dataAtual:h})=>{const w=dn(i,m,b,h);return d("div",{className:"flex gap-2 w-full items-center",children:[d("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[e("span",{children:t})," - ",e("span",{children:n})]}),e(pn,{title:a,status:s,localidade:o,isExterno:l,km:r,modalidadeInfo:w})]})},Ht=cn,un={};Ht.forEach(t=>un[t.id]="");const mn=()=>{const{renderToast:t}=de(),n=ge(),[a,s]=p.exports.useState({}),[o,l]=p.exports.useState([]),[r,i]=p.exports.useState(!1),{user:m}=je(),b=new Date,h=ms(b),w=hs(b),g=(f,N)=>{f.stopPropagation(),n(`/${ie.METAS}`,{state:N})},v=async(f=h,N=w)=>{i(!0);try{const M=await Ne(`/evento/filtro/${f}/${N}?terapeutaId=${m.id}`);let Q=Object.keys(M).sort();s(M),l(Q)}catch{s([]),t({type:"failure",title:"401",message:"Per\xEDodo n\xE3o encontrado!",open:!0})}i(!1)},y=f=>e(re,{type:"free",children:d("div",{className:"flex gap-2 w-full item-center",children:[d("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[d("span",{children:[" ",f.start]})," -",e("span",{children:f.end})]}),d("div",{className:"text-gray-800 text-center flex items-center justify-center text-md",children:["  ",f.title]})]})},f.id),S=f=>e(re,{type:f.especialidade.nome,onClick:()=>n(`/${ie.SESSION}`,{state:{item:f}}),children:d("div",{className:"flex",children:[e(et,{start:f==null?void 0:f.data.start,end:f==null?void 0:f.data.end,statusEventos:f==null?void 0:f.statusEventos.nome,title:f==null?void 0:f.title,localidade:f==null?void 0:f.localidade.nome,isExterno:f==null?void 0:f.isExterno,km:f==null?void 0:f.km,modalidade:f==null?void 0:f.modalidade.nome,dataInicio:f==null?void 0:f.dataInicio,dataFim:f==null?void 0:f.dataFim,dataAtual:f==null?void 0:f.dataAtual}),f.statusEventos.nome!==Ye.atendido&&e(W,{text:"Pesquisar",icon:"pi pi-file-edit",type:"primary",size:"icon",loading:r,onClick:N=>g(N,f)}),f.statusEventos.nome==Ye.atendido&&e(W,{text:"Atendido",type:"transparent",icon:"pi pi-check",size:"icon",color:"violet"})]})},f.id),C=f=>{switch(f.id){case 0:return y(f);default:return S(f)}},L=()=>r?e(Ze,{}):o.length?o.map(f=>d("div",{children:[e("div",{className:"font-inter m-2 text-gray-400",children:nt(f)}),a[f].map(N=>C(N))]},f)):d(re,{children:[" ",e(Oe,{})," "]}),z=p.exports.useMemo(()=>d("div",{className:"text-primary font-base grid justify-start m-2 leading-4",children:[e("span",{className:"font-bold",children:" Agenda "}),d("span",{className:"text-gray-400 font-light text-sm font-inter",children:[" ",nt(new Date)," "]})]}),[]),K=p.exports.useMemo(()=>e(Qe,{id:"form-filter-patient",legend:"Filtro",nameButton:"Agendar",fields:Ht,onSubmit:({dataInicio:f,datatFim:N})=>v(f,N),onReset:()=>v(),screen:"AGENDA_CALENDARIO",loading:r,dropdown:[]}),[]);return p.exports.useEffect(()=>{v()},[]),d(pe,{children:[K,z,L()]})};var Ae=(t=>(t.c="C",t.dt="DT",t.dp="DP",t.dg="DG",t.dv="DV",t))(Ae||{});const hn=d("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#662C75"}),e("path",{transform:"translate(773,169)",d:"m0 0h61l30 2 32 5 30 8 27 9 21 9 16 8 19 10 23 14 14 10 15 11 11 9 12 11 10 9 7 8 10 11 10 13 13 18 11 17 10 18 11 24 10 26 8 28 5 26 2 20v26l-3 24-5 23-8 24-9 20-8 14-9 13-8 10-11 13-10 9-9 7-14 9-17 8-15 5-18 4-22 2-23-2-32-6-21-6-21-8-22-12-13-9-15-13-9-9-12-16-9-16-7-18-8-30-5-19-4-8-3-2h-6l-9 6-4 5-4 7-3 14-3 46-2 58-4 91-7 121-1 31v45l1 23 4 35 6 26 5 12 9 13 9 6 7 2 12-1 14-4 25-13 17-12 11-8 14-11 11-9 13-11 8-7 13-11 14-11 13-10 17-12 13-8 17-10 16-8 21-8 19-5 7-1h25l20 4 15 6 12 8 8 7 7 8 10 14 11 21 7 19 6 22 4 22 3 26 1 17v47l-2 27-6 37-7 31-8 25-8 20-8 17-14 24-8 12-14 19-9 10-7 8-17 17-10 8-13 10-14 10-15 9-23 12-21 9-36 12-36 9-21 4-32 4-29 3-16 1h-53l-20-2-32-5-27-6-26-8-22-8-25-11-19-10-22-13-13-9-16-13-14-12-37-37-9-11-8-9-12-16-18-27-12-20-18-35-12-26-11-27-12-35-10-36-9-38-7-36-5-35-3-34-3-53-1-26v-64l3-57 3-37 7-56 7-45 9-46 10-42 10-35 15-43 15-36 16-32 6-11 6-10 10-16 13-19 14-18 10-12 7-8 15-16 7-6 5-5 8-7 10-8 11-8 17-12 10-6 21-12 25-11 36-12 23-6 22-4z",fill:"#FDFDFD"})]}),fn=d("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(374,334)",d:"m0 0h42l24 2 31 4 25 6 21 8 16 8 23 13 22 15 13 10 13 11 11 9 15 14 9 9 7 8 11 12 9 11 12 15 13 18 11 17 12 20 14 27 11 23 8 19 10 29 7 23 6 29 4 27 3 35 1 25v49l-2 33-3 28-6 35-9 40-11 36-12 32-11 24-12 23-8 14-11 17-10 15-12 16-11 13-9 11-22 22-8 7-9 8-14 11-18 13-15 10-20 12-16 8-16 7-16 5-16 3-40 4h-47l-37-4-24-4-22-6-21-8-16-9-9-7-10-10-8-14-5-12-5-21-13-73-13-75-18-109-15-95-15-101-10-71-10-77-6-50-4-45-3-42 1-17 5-10 10-13 9-9 17-13 22-12 14-6 24-8 31-8 32-6 43-5z",fill:"#FEFFFE"}),e("path",{transform:"translate(1039,294)",d:"m0 0h54l34 2 45 4 29 4 38 7 36 8 29 8 29 10 26 11 25 12 24 14 16 12 11 9 16 16 10 13 10 15 8 16 6 15 6 21 2 14v26l-4 26-5 19-8 21-8 14-12 17-13 10-14 8-19 7-17 4-27 3-15 1h-45l-39-3h-5l2 24 5 102 1 24 1 41v90l-1 31-4 48-6 45-7 40-8 32-10 30-9 20-10 19-13 18-11 12-12 11-13 8-17 7-20 5h-29l-19-3-31-7-20-6-19-8-19-10-13-10-10-9-9-10-9-13-8-16-6-15-7-27-4-26-1-11v-42l3-37 6-47 5-38 10-60 11-64 9-50 12-70 9-53 4-26-14-2-44-8-24-7-25-10-17-8-13-9-13-11-10-10-13-18-10-21-6-20-4-22v-29l4-23 8-20 7-12 11-13 13-13 18-13 18-10 17-8 25-8 31-8 30-5 39-4z",fill:"#FEFFFE"}),e("path",{transform:"translate(414,632)",d:"m0 0h24l15 4 12 6 10 9 9 11 10 17 6 15 5 16 4 19 2 18v31l-3 24-6 25-9 27-12 25-7 10-9 12-7 9-10 7h-3l-8-55-8-47-9-50-8-43-10-48-5-26v-9l4-4 6-2z",fill:"#682D75"})]}),xn=d("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(1028,292)",d:"m0 0h65l48 3 37 4 31 6 25 7 24 8 22 9 19 10 18 10 21 14 16 12 14 12 16 16 9 11 12 15 16 24 12 22 10 21 9 23 12 36 7 26 6 32 2 18 1 19v17l-2 28-4 25-6 26-11 33-9 20-12 22-9 14-10 14-13 16-7 7-7 8-16 15-13 10-14 10-18 11-22 12-29 12-27 9-26 6-26 4-34 3-18 1h-50l1 13v101l-3 31-4 23-6 21-9 21-10 16-11 13-8 8-8 6-10 6-12 5-16 5-21 4-17 2h-24l-25-3-30-7-21-8-18-10-10-8-9-8-9-11-10-14-9-16-8-20-6-19-8-32-5-27-4-33-2-40-2 1-7 25-9 22-9 17-8 16-11 20-9 14-11 16-13 18-10 12-9 11-28 28-11 9-13 11-18 13-20 13-15 9-23 12-15 6-15 4-25 4-27 2-30 1-35-2-32-4-23-5-21-7-18-8-12-7-10-9-7-7-9-15-6-20-7-37-18-102-12-74-9-55-10-64-17-114-8-59-10-75-10-82-3-32-3-44v-27l6-12 9-12 11-11 12-9 20-12 15-7 30-10 36-9 30-5 32-4 26-2 20-1h35l31 2 29 4 24 6 25 10 26 14 24 16 19 14 13 11 14 12 25 25 7 8 13 15 11 14 12 16 14 21 15 25 19 38 13 28 11 28 8 28 5 23 3 18h3l1-25 7-73 9-74 6-37 10-47 7-26 7-21 10-24 7-14 10-17 10-13 11-12 10-8 16-9 15-6 24-5 27-3z",fill:"#FEFFFE"}),e("path",{transform:"translate(432,631)",d:"m0 0h19l14 3 12 5 11 8 10 12 8 13 8 17 7 22 4 21 2 27-1 24-4 24-5 19-8 24-11 24-12 18-12 16-9 8-4 1-3-13-4-31-7-43-8-45-9-50-13-66-4-21-1-10 3-4z",fill:"#682D75"}),e("path",{transform:"translate(1119,528)",d:"m0 0 16 3 17 6 16 8 9 7 11 11 8 15 3 10v23l-4 16-9 21-8 14-12 16-11 13-11 12-10 9-12 11-8 7-10 6-6 3-4-1 4-86 4-40 6-40 7-36 3-7z",fill:"#682D75"})]}),gn=d("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(1142,292)",d:"m0 0h27l35 3 29 5 21 6 20 8 25 12 27 16 19 14 10 8 12 11 19 19 9 11 11 14 11 17 12 21 9 20 9 25 5 18 4 24 1 10v17l-3 27-6 26-6 18-9 19-9 15-9 12-11 12-17 13-21 10-16 5-17 3h-35l-20-3-15-4-14-6-15-10-11-9-10-11-10-15-5-10-5-16-1-5v-8l2-8v-8l-4-13-6-10-1-1h-7l-2 5-8 16-16 33-16 36-20 49-14 39-12 36-10 38-6 29-4 28-1 11v26l3 14 4 11 7 9 8 6 9 4 4 1h11l9-4 11-7 10-10 6-9 2-6v-10l-4-8-6-5-19-11-11-6-5-7-2-7-1-15 4-20 5-12 6-10 7-8 15-10 15-6 22-4 17-1h39l40 2 35 4 23 5 17 5 19 8 11 8 10 9 9 13 7 14 5 16 3 19v18l-3 29-5 29-7 32-12 36-11 26-10 20-14 23-12 17-10 13-10 11-7 8-11 11-11 9-12 10-15 10-16 10-23 12-19 8-22 7-27 6-26 4-10 1h-39l-25-3-30-5-26-7-27-10-27-13-19-12-16-13-8-7-18-18-9-11-10-13-9-14-10-18-8-16-10-22-12-34-9-30-7-30-3-17-4-34-2 7-3 18-6 20-12 32-11 26-16 32-9 16-15 24-13 18-11 14-11 13-11 12-1 2h-2l-2 4-6 5-12 12-11 9-12 10-20 14-17 11-21 12-25 12-21 7-20 4-26 2-19 1h-31l-36-3-24-4-26-7-22-8-16-8-11-8-10-10-9-13-7-22-9-47-15-90-9-58-14-92-10-68-13-93-10-77-9-74-7-61-4-48-2-38v-21l5-12 10-14 8-8 12-9 22-13 20-9 27-9 29-7 27-5 32-4 26-2 28-1h30l29 1 28 3 19 4 20 6 18 8 16 8 20 12 12 8 18 13 14 11 12 11 8 7 21 21 7 8 11 13 13 17 15 20 11 17 14 24 14 27 9 19 12 30 12 36 6 23 5 26 2 15 1 2h2l2-15 9-40 8-30 16-47 11-29 8-19 9-20 13-27 12-21 6-11 12-19 13-19 14-18 9-11 9-10 7-8 22-22 11-9 14-11 22-14 19-9 22-8 21-5 31-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(456,627)",d:"m0 0h11l15 3 10 4 10 8 10 11 9 14 8 17 7 22 4 21 2 22v16l-3 26-6 25-8 25-7 16-10 19-7 10-7 11-8 10-7 4-5-1-2-4-3-30-13-79-10-61-12-62-5-24-3-12v-6l3-2z",fill:"#682D75"})]}),vn=d("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(937,305)",d:"m0 0h11l23 2 25 6 16 6 13 7 12 9 10 9 9 10 9 13 8 16 6 17 6 24 5 29 4 40 3 57 1 37v128l2 4 5 8 1 4 3-9 10-56 17-85 13-55 8-29 12-38 11-28 8-18 12-21 9-13 9-12 15-16 15-13 16-10 16-8 15-5 25-4h38l30 4 20 5 19 7 24 12 13 9 14 11 12 12 12 16 11 19 8 19 6 23 3 23v26l-3 30-7 39-9 37-10 36-13 40-16 44-16 40-13 31-16 36-11 24-13 28-20 41-27 54-12 22-12 24-12 22-16 30-12 22-16 29-13 22-10 15-7 11-11 13-9 11-8 7-12 11-14 10-16 10-21 10-21 7-23 5-18 2h-26l-27-3-25-5-20-6-20-8-17-8-18-11-16-12-17-16-13-13-11-14-16-24-12-21-14-30-11-29-12-37-11-40-12-52-8-44-9-58-5-46-4-52-2-35-1-32v-28l1-36 4-55 8-71 5-28 6-23 8-22 8-16 11-17 9-11 13-13 14-11 19-11 10-5 15-5 23-5z",fill:"#FEFEFE"}),e("path",{transform:"translate(359,338)",d:"m0 0h29l38 3 27 4 23 6 19 8 19 10 11 6 30 20 17 13 11 9 14 12 25 25 9 11 9 10 11 14 14 19 14 21 17 29 19 38 11 25 11 30 7 25 6 32 4 35 2 41v55l-1 21-5 40-6 32-8 36-9 31-7 20-10 25-10 22-10 19-11 19-14 21-11 16-18 22-10 11-7 8-8 8-8 7-11 10-11 9-16 12-15 10-14 9-18 10-21 10-19 6-26 5-22 3-16 1h-37l-23-2-26-4-24-5-20-6-15-6-15-8-10-8-7-7-9-14-4-10-6-25-14-71-12-66-10-56-20-116-8-49-10-62-13-85-19-135-6-48-3-42v-20l8-17 9-11 9-9 14-10 14-9 23-11 16-6 29-8 26-6 36-6 42-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(390,636)",d:"m0 0h22l16 4 13 7 12 11 8 10 7 12 7 16 7 21 5 25 1 10v32l-4 24-9 36-9 22-8 16-12 19-10 13-5 5-7 1-2-4-3-26-6-29-11-66-16-81-9-37-5-25 1-9 6-5z",fill:"#682D75"})]});function Ge({value:t,onChange:n,disabled:a}){const[s,o]=p.exports.useState(t),l=[{value:Ae.c,icon:hn},{value:Ae.dt,icon:fn},{value:Ae.dp,icon:xn},{value:Ae.dg,icon:gn},{value:Ae.dv,icon:vn}];return e(Ke,{value:s,options:l,onChange:i=>{const m=i.value;n(m),o(m)},optionLabel:"value",optionValue:"value",iconTemplate:({option:i})=>i==null?void 0:i.icon,className:"w-8 h-8",disabled:a})}const bn=d("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"m0 0h1600v1600h-1600z",fill:"#672D74"}),e("path",{d:"m825 261h20l29 2...",fill:"#FDFDFD"})]}),yn=d("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"m0 0h1600v1600h-1600z",fill:"#672C74"}),e("path",{d:"m997 295h20l24 3...",fill:"#FEFEFE"})]});function Sn({value:t,onChange:n,disabled:a}){const[s,o]=p.exports.useState(t);return e(Ke,{value:s,options:[{value:"S",icon:bn},{value:"N",icon:yn}],onChange:i=>{const m=i.value;n(m),o(m)},optionLabel:"value",optionValue:"value",iconTemplate:({option:i})=>i==null?void 0:i.icon,className:"w-8 h-8",disabled:a})}var G=(t=>(t[t.portage=1]="portage",t[t.vbMapp=2]="vbMapp",t[t.pei=3]="pei",t))(G||{}),ce=(t=>(t.sim="1",t.asVezes="0.5",t.nao="0",t))(ce||{}),qe=(t=>(t.socializacao="Socializa\xE7\xE3o",t.cognicao="Cogni\xE7\xE3o",t))(qe||{}),Ue=(t=>(t[t.um=1]="um",t[t.dois=2]="dois",t[t.tres=3]="tres",t))(Ue||{});const mt="maintenance",ze="activity",ht="portage",ft="vbmapp",wn=()=>{const{renderToast:t}=de(),n=we(),a=ge(),{state:s}=n,o=p.exports.useRef(null),[l,r]=p.exports.useState(10),[i,m]=p.exports.useState(1),[b,h]=p.exports.useState(""),[w,g]=p.exports.useState([]),[v,y]=p.exports.useState([]),[S,C]=p.exports.useState([]),[L,z]=p.exports.useState([]),[K,f]=p.exports.useState([]),[N,M]=p.exports.useState([]),[Q,x]=p.exports.useState({}),[_,D]=p.exports.useState([]),[H,U]=p.exports.useState([]),[V,u]=p.exports.useState(!1),[E,F]=p.exports.useState(!1),I=async()=>{try{const c=await Ne(`/sessao/${s.item.id}`);if(c){h(c.resumo),x(c),u(!0);const[k,P]=await Promise.all([R(c.sessao,ze),R(c.maintenance,mt)]);g(k),C(c.portage),z(c.vbmapp),y(P),f(c.sessao)}else await J()}catch{}},J=async()=>{try{const c=await Ne(`/pei/activity/session/${s.item.paciente.id}`),[k,P,T,Y]=await Promise.all([R(c.atividades,ze,G.portage),R(c.maintenance,mt,G.portage),R(c.portage,ht,G.portage),R(c.vbmapp,ft,G.vbMapp)]);g(k),f(c.sessao),y(P),C(T),z(Y)}catch{}},A=async()=>{try{const c={calendarioId:s.item.id,pacienteId:s.item.paciente.id,sessao:K,maintenance:v,selectedMaintenanceKeys:N,resumo:b,date:s.item.date,portage:_,vbmapp:H,...Q};V?await Be("/sessao",c):await De("/sessao",c),t({type:"success",title:"",message:"Sess\xE3o atualizada!",open:!0}),a(`/${ie.CALENDAR}`)}catch{t({type:"failure",title:"401",message:"Sess\xE3o n\xE3o atualizada!",open:!0})}},O=p.exports.useMemo(()=>{var c,k,P,T,Y,Z,te,ee,Ie,Ce,tt;return e(et,{start:(c=s.item)==null?void 0:c.data.start,end:(k=s.item)==null?void 0:k.data.end,statusEventos:(P=s.item)==null?void 0:P.statusEventos.nome,title:(T=s.item)==null?void 0:T.title,localidade:(Y=s.item)==null?void 0:Y.localidade.nome,isExterno:(Z=s.item)==null?void 0:Z.isExterno,km:(te=s.item)==null?void 0:te.km,modalidade:(ee=s.item)==null?void 0:ee.modalidade.nome,dataInicio:(Ie=s.item)==null?void 0:Ie.dataInicio,dataFim:(Ce=s.item)==null?void 0:Ce.dataFim,dataAtual:(tt=s.item)==null?void 0:tt.dataAtual})},[]),$=async(c,k,P=G.portage)=>{const T={key:c.key,label:c.label};return c.permiteSubitens&&c.children&&c.children.length>0?(T.estimuloDiscriminativo=(c==null?void 0:c.estimuloDiscriminativo)||"",T.estimuloReforcadorPositivo=(c==null?void 0:c.estimuloReforcadorPositivo)||"",T.resposta=(c==null?void 0:c.resposta)||"",T.children=await Promise.all(c.children.map(async Y=>({key:Y.key,label:Y.label,children:Array.from({length:10}).map(()=>null)})))):P===G.vbMapp&&c.permiteSubitens?(T.children=Array.from({length:10}).map(()=>null),T.permiteSubitens=c.permiteSubitens):c.children&&c.children.length>0?T.children=await Promise.all(c.children.map(async Y=>$(Y,k,P))):T.children=Array.from({length:k===ze||k===ht||k===ft?l:i}).map(()=>null),T},R=async(c,k=ze,P=G.portage)=>await Promise.all(c.map(async T=>$(T,k,P))),j=(c,k,P,T,Y)=>e(Ge,{value:Y,disabled:w[c].children[k].children[P].disabled||V,onChange:Z=>{const te=[...w];w[c].children[k].children[P].children[T]!==Z&&(te[c].children[k].children[P].children[T]=Z,f(te))}},T),B=(c,k,P,T)=>e(Sn,{value:T,disabled:v[c].children[k].children[P].disabled||V,onChange:Y=>{const Z=[...v];v[c].children[k].children[P].children[0]!==Y&&(Z[c].children[k].children[P].children[0]=Y,M(Z))}},0),q=(c,k)=>d(vt,{className:"text-[8px]",children:[d("div",{className:"font-bold text-wrap",children:[" ",c," "]}),d("div",{className:"font-normal text-wrap",children:[" ",k]})]}),ne=(c,k,P,T)=>e(Ge,{value:T!=null&&T.children?T==null?void 0:T.children[P]:T,disabled:V,onChange:Y=>{const Z=[...S],ee=Z[c].children[k];ee.children[P]&&ee.children[P].children?ee.children[P].children=ee.children[P].children.map((Ie,Ce)=>Ce===P?Y:Ie):ee.children=ee.children.map((Ie,Ce)=>Ce===P?Y:Ie),D(Z)}},P),oe=()=>!!L.length&&d("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2 mt-8 leading-4",children:e("span",{className:"font-bold",children:"VB Mapp"})}),e(re,{className:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(be,{children:L.map((c,k)=>e(ye,{tabIndex:k,header:e("div",{className:"flex items-center w-full",children:e("span",{children:c.label})}),children:e(be,{children:c==null?void 0:c.children.map((P,T)=>e(ye,{tabIndex:T,className:"w-[90%]",header:e("div",{className:"flex items-center w-full",children:e("span",{children:P.label})}),children:P.children.map((Y,Z)=>d("li",{children:[e("span",{children:Y.label}),e("div",{className:"flex flex-col gap-1 m-4",children:X(Y,k,T)})]}))},P.key))})},c.key))})})]}),X=(c,k,P)=>{var Y,Z;if(c!=null&&c.children?(Y=c==null?void 0:c.children[0])==null?void 0:Y.label:!1)return d("div",{children:[d("div",{className:" grid grid-cols-3 gap-1 mb-2",children:[q("SD (est\xEDmulo discriminativo)",(c==null?void 0:c.estimuloDiscriminativo)||""),q("Resposta",(c==null?void 0:c.resposta)||""),q("SR+ (est\xEDmulo refor\xE7ador positivo))",(c==null?void 0:c.estimuloReforcadorPositivo)||"")]}),c==null?void 0:c.children.map((te,ee)=>d("div",{className:"flex flex-col ml-2",children:[d("span",{children:["- ",te.label]}),e("div",{className:"flex flex-col gap-1",children:X(te.children,k,P)})]},ee))]});if((c==null?void 0:c.label)&&(c==null?void 0:c.children.length)===10)return X(c.children,k,P);if(c.length===10)return e("div",{className:"flex gap-1",children:c.map((te,ee)=>ne(k,P,ee,te))});(Z=c[0])!=null&&Z.children&&c.map((te,ee)=>d("div",{className:"flex flex-col ml-2",children:[d("span",{children:["- ",te.label]}),e("div",{className:"flex flex-col gap-1",children:X(te.children,k,P)})]},ee))},le=()=>!!S.length&&d("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2 mt-8 leading-4",children:e("span",{className:"font-bold",children:"Portage"})}),e(re,{className:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(be,{children:S.map((c,k)=>e(ye,{tabIndex:k,header:e("div",{className:"flex items-center w-full",children:e("span",{children:c.label})}),children:c==null?void 0:c.children.map((P,T)=>d("li",{className:"my-2 grid gap-2 items-center",children:[e("span",{children:P.label}),e("div",{className:"flex flex-col gap-1",children:X(P,k,T)})]},P.key))},c.key))})})]}),se=()=>!!w.length&&d("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" Manual "})}),!!w.length&&e("div",{className:"text-red-400 font-inter grid justify-start mx-2 leading-4 mt-2",children:e("span",{className:"text-md",children:"Interrompa o treino da atividade ao atingir 4 tentativas corretas consecutivas."})}),w.length?e(re,{className:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(be,{children:w.map((c,k)=>e(ye,{tabIndex:k,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:c.label})}),children:c==null?void 0:c.children.map((P,T)=>d("div",{className:"my-8",children:[d("span",{className:"font-bold font-inter",children:["Meta ",T+1,": "]})," ",e("span",{className:"font-base font-inter",children:P.label}),e("ul",{className:"list-disc mt-2 font-inter ml-4",children:P==null?void 0:P.children.map((Y,Z)=>d("li",{className:"my-2",children:[e("span",{children:Y.label}),e("div",{className:"flex gap-1 -ml-4",children:Y==null?void 0:Y.children.map((te,ee)=>j(k,T,Z,ee,te))})]},Z))})]},T))},k))})}):e(pe,{})]}),ve=()=>!!v.length&&d("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" Manuten\xE7\xE3o "})}),e(re,{className:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(be,{children:v.map((c,k)=>e(ye,{tabIndex:k,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:c.label})}),children:c==null?void 0:c.children.map((P,T)=>d("div",{className:"my-8",children:[d("span",{className:"font-bold font-inter",children:["Meta ",T+1,": "]})," ",e("span",{className:"font-base font-inter",children:P.label}),e("ul",{className:"list-disc mt-2 font-inter ml-4",children:P==null?void 0:P.children.map((Y,Z)=>d("li",{className:"my-2 flex gap-2 -ml-4 items-center",children:[B(k,T,Z,0),e("span",{children:Y.label})]},Z))})]},T))},k))})})]}),ue=()=>d(pe,{children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" Resumo "})}),e(re,{className:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(cs,{ref:o,value:b,config:{readonly:V,language:"pt_br",buttons:"bold,italic,underline,strikethrough,font,fontsize,paragraph,copyformat,table,fullsize,preview",saveModeInStorage:!0},onBlur:c=>h(c),onChange:c=>{}})})]}),Le=()=>!V&&e("div",{className:"mt-auto",children:e(W,{text:"Salvar",icon:"pi pi-check",type:"primary",size:"full",loading:E,onClick:()=>A(),disabled:V})});return p.exports.useEffect(()=>{I()},[]),d("div",{className:"grid overflox-y-auto",children:[O,d("div",{className:"",children:[se(),le(),oe(),ve(),ue()]}),Le()]})},Jt=Hs,En={};Jt.forEach(t=>En[t.id]="");const Nn=()=>{const{renderToast:t}=de(),n=ge(),a=we(),{state:s}=a,[o,l]=p.exports.useState(!1),[r,i]=p.exports.useState([]),[m,b]=p.exports.useState({}),[h,w]=p.exports.useState(),[g,v]=p.exports.useState(),y=N=>{n(`/${ie.PROTOCOLO}`,{state:{item:N,tipoProtocolo:h}})},S=async N=>{l(!0);try{const M=N.paciente;await fs(`pei/${N.id}`),z({pacienteId:M,protocoloId:h}),t({type:"success",title:"Sucesso!",message:"PEI removido!",open:!0})}catch{t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}l(!1)},C=(N,M)=>d(vt,{className:"text-[8px]",children:[d("div",{className:"font-bold text-wrap",children:[" ",N," "]}),d("div",{className:"font-normal text-wrap",children:[" ",M]})]}),L=()=>o?e(Ze,{}):m.length?e(re,{children:e(be,{children:m.map((N,M)=>{var Q;return e(ye,{header:d("div",{className:"flex items-center  w-full",children:[e("span",{children:N.programa.nome}),h===G.pei&&d("div",{className:"ml-auto",children:[e(W,{text:"editar",type:"transparent",size:"icon",icon:"pi pi-pencil",color:"violet",onClick:()=>y(N),loading:o}),e(W,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>S(N),loading:o})]})]}),tabIndex:M,children:d("div",{className:"w-full overflow-y-auto",children:[d("div",{className:"font-bold my-2",children:[" ",((Q=N.procedimentoEnsino)==null?void 0:Q.nome)||""]}),d("div",{className:" grid grid-cols-3 gap-1",children:[N.estimuloDiscriminativo&&C("SD (est\xEDmulo discriminativo)",N.estimuloDiscriminativo),N.resposta&&C("Resposta",N.resposta),N.estimuloReforcadorPositivo&&C("SR+ (est\xEDmulo refor\xE7ador positivo)",N.estimuloReforcadorPositivo)]}),e("div",{className:"my-2",children:N.metas.map((x,_)=>d("div",{children:[d("span",{className:"flex align-items-center gap-2 w-full font-inter",children:["Meta ",_+1,": ",x.value]}),e("ul",{className:"list-disc	ml-8 font-inter",children:x.subitems&&x.subitems.map((D,H)=>d("li",{children:[" ",D.value," "]},H))})]},_))})]})},M)})})}):d(re,{children:[" ",e(Oe,{})," "]}),z=async({pacienteId:N,protocoloId:M})=>{if(!!M){l(!0),M&&w(M.id),N&&v(N);try{const{data:Q}=await Se("pei",{paciente:N,protocoloId:M});b(Q)}catch{b([]),t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}l(!1)}},K=()=>e(Qe,{id:"form-filter-pei",legend:"Filtro",nameButton:"Cadastrar",fields:Jt,dropdown:r,onSubmit:N=>z(N),onReset:()=>b([]),screen:"PEI",loading:o,onInclude:()=>{n(`/${ie.PROTOCOLO}`,{state:{tipoProtocolo:h,pacienteId:(s==null?void 0:s.pacienteId)||g}})},defaultValues:s}),f=p.exports.useCallback(async()=>{const[N,M]=await Promise.all([me("paciente"),me("protocolo")]);i({paciente:N,protocolo:M}),s&&z(s)},[]);return p.exports.useEffect(()=>{f()},[]),d("div",{children:[K(),L()]})},Yt=Vs,In={};Yt.forEach(t=>In[t.id]="");function Cn(){const[t,n]=p.exports.useState(!1),[a,s]=p.exports.useState([]),[o,l]=p.exports.useState({});p.exports.useState(0);const{renderToast:r}=de();ge();const i=async({pacienteId:g})=>{n(!0);try{const v=await Ne(`sessao/atividade/${g.id}`);l(v)}catch{l([]),r({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}n(!1)},m=()=>e(Qe,{id:"form-filter-pei",legend:"Filtro",nameButton:"Cadastrar",fields:Yt,dropdown:a,onSubmit:g=>i(g),onReset:()=>l([]),screen:"PEI",loading:t}),b=(g,v)=>g.dias[v]?d("div",{className:"grid grid-rows-3 justify-center",children:[e("div",{className:"flex justify-center",children:g.dias[v].data}),d("div",{className:"flex gap-2 justify-center",children:[e("div",{className:fe("flex justify-center items-center font-inter font-light rounded-full w-4 h-4",{"bg-green-400  text-white":g.dias[v].primeiraResposta}),children:"S"}),e("div",{className:fe("flex justify-center items-center font-inter font-light rounded-full w-4 h-4",{"bg-red-400  text-white":!g.dias[v].primeiraResposta}),children:"N"})]}),d("div",{className:"flex justify-center",children:[g.dias[v].porcentagem,"%"]})]}):"-",h=()=>t?e(Ze,{}):o.length?e(re,{children:e(be,{children:o.map((g,v)=>e(ye,{tabIndex:v,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:g.programa})}),children:d(os,{value:g.children,scrollable:!0,children:[e(st,{field:"programa",header:"Programa",style:{width:"25%"}}),Array.from({length:g.qtdColumns}).map((y,S)=>e(st,{body:C=>b(C,S)}))]})},v))})}):d(re,{children:[" ",e(Oe,{})," "]}),w=p.exports.useCallback(async()=>{const[g]=await Promise.all([me("paciente")]);s({paciente:g})},[]);return p.exports.useEffect(()=>{w()},[]),d("div",{children:[m(),h()]})}const An=d("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#672D74"}),e("path",{transform:"translate(825,261)",d:"m0 0h20l29 2 27 4 21 5 20 7 20 9 16 8 22 13 19 13 11 9 10 9 15 15 13 17 10 16 8 16 6 19 2 13v11l-2 16-5 16-7 16-12 20-10 13-17 17-15 10-15 8-15 5-16 3h-14l-17-3-10-4-12-9-8-10-8-16-7-20-9-27-6-8-8-4-13-2-12 3-11 6-8 7-8 13-5 14-2 18 1 15 5 15 9 16 11 14 11 12 8 8 11 9 14 11 19 14 33 22 15 11 34 24 17 13 14 12 12 11 16 16 9 11 10 12 13 19 8 13 12 23 10 22 9 28 6 25 4 28 1 19v16l-2 23-5 28-5 19-7 20-9 20-10 19-9 14-10 14-10 13-10 11-7 8-12 12-11 9-10 8-14 10-14 9-17 10-23 12-25 10-22 7-26 6-23 3-17 1h-21l-20-1-29-4-24-5-28-7-29-10-26-11-22-10-23-13-18-12-10-8-13-11-9-9-6-5-7-8-11-13-11-17-12-23-7-19-4-20v-20l3-15 5-16 7-14 9-14 9-11 10-10 10-7 12-5 9 1 18 6 37 17 27 13 25 10 22 6 13 2h21l14-3 10-5 6-5 9-12 4-12v-15l-4-15-10-19-10-13-14-14-14-11-17-13-14-10-34-23-15-11-18-14-12-11-8-7-13-14-11-14-8-10-10-15-11-19-9-17-11-26-8-24-7-26-5-28-1-11v-43l5-33 7-28 11-29 8-17 11-19 12-17 8-10 7-9 9-10 22-22 13-10 14-10 17-11 18-10 22-10 35-12 24-6 23-4 19-2z",fill:"#FDFDFD"})]}),Pn=d("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D76"}),e("path",{transform:"translate(409,197)",d:"m0 0h43l30 3 24 4 21 6 21 9 18 10 20 13 10 8 14 12 11 11 9 11 11 14 11 16 12 19 9 16 12 23 16 35 11 27 10 26 12 34 13 38 14 43 12 38 16 55 10 38 10 44 7 37 8 49 5 40 2 24v49l-3 30-5 30-5 19-9 24-8 15-14 20-10 10-14 11-18 10-20 7-25 5-21 2h-19l-22-3-21-6-16-8-12-8-12-11-11-15-9-16-10-25-6-21-5-20-2-3-41 6-31 6-31 7-3 1 1 9 6 19 3 17 1 12v12l-1 16-5 23-8 20-8 15-12 16-10 11-17 12-16 8-19 6-25 5-8 1h-21l-20-3-25-7-21-9-15-9-14-11-12-12-9-11-11-15-14-24-12-26-11-30-8-27-7-29-6-31-6-43-3-32-2-39v-56l2-43 5-57 6-58 6-42 9-53 8-40 16-64 12-36 10-25 13-29 12-22 9-14 8-12 12-16 11-13 11-12 13-13 14-11 10-7 18-11 16-8 21-8 23-6 21-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(985,196)",d:"m0 0h23l23 3 19 5 15 6 13 7 12 9 12 11 11 13 8 13 7 14 6 18 4 17 4 29 3 35 1 19 1 48v111l-2 49v27l1 1-1 10v5h3l3-12 6-23 10-50 17-77 16-63 16-50 8-22 11-26 10-19 11-18 8-11 8-10 11-12 14-13 20-13 17-8 23-6 18-3h29l30 4 23 5 18 6 21 10 18 11 14 11 11 10 9 11 10 14 11 21 7 19 4 17 2 14v45l-5 32-7 31-10 38-12 38-15 42-12 30-15 36-16 36-16 34-9 20-21 42-10 19-19 37-12 22-13 24-12 22-15 27-14 25-10 17-11 19-14 24-11 18-12 18-11 15-12 14-14 14-10 8-15 11-21 12-25 10-21 6-19 4-9 1h-28l-27-4-30-7-30-10-17-8-19-11-14-10-11-9-12-11-7-8-12-14-14-20-9-15-10-18-10-22-8-20-12-36-13-44-7-33-10-59-6-45-8-68-3-35-2-31v-75l3-56 6-69 4-37 4-24 9-36 8-24 8-16 9-15 11-14 10-11 11-9 13-10 16-9 14-6 17-5 17-3z",fill:"#FEFEFE"}),e("path",{transform:"translate(408,451)",d:"m0 0h6l6 4 4 6 8 28 10 43 7 35 10 56 6 36 11 80 1 8v9l-4 2-54 7h-14l-2-11-4-74-1-27-1-58v-36l1-60 1-26 2-13 3-6z",fill:"#682D76"})]}),Fn=d("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#672C74"}),e("path",{transform:"translate(997,295)",d:"m0 0h20l24 3 19 5 16 7 12 7 14 10 10 10 9 12 11 17 11 24 5 15 6 25 6 37 6 59 5 61 4 71 2 43 2 79v72l-1 45-2 42-4 46-7 51-6 34-8 33-12 36-9 21-10 18-16 23-18 18-16 10-14 7-20 6-19 3h-20l-20-3-15-4-16-6-17-9-15-11-12-11-8-8-9-11-14-19-13-22-12-23-14-29-14-34-24-64-15-44-15-42-12-36-5-10-2-1 6 29 5 33 4 36 2 40v68l-2 28-4 28-6 27-7 22-7 17-10 18-10 14-14 15-11 8-14 7-15 5-16 2h-18l-21-2-21-5-21-9-15-9-10-8-9-8-7-8-10-13-8-13-10-19-9-25-7-25-8-38-5-31-5-49-3-51-1-36v-61l2-97 3-71 5-69 6-65 5-37 7-30 10-27 10-19 8-14 12-16 9-11 11-12 13-12 13-10 14-9 25-12 14-4 15-3 9-1h22l19 3 18 6 15 8 14 10 15 13 9 9 9 11 11 14 11 16 10 17 13 24 11 23 15 34 13 32 14 43 14 49 9 33 15 45 3 2-7-32-7-46-7-47-8-46-5-46-3-41v-30l3-26 6-22 8-16 10-17 9-11 14-14 12-9 18-10 14-5 19-4z",fill:"#FEFEFE"})]});function Gt({value:t,onChange:n,disabled:a}){const[s,o]=p.exports.useState(t),l=[{value:ce.sim,icon:An},{value:ce.asVezes,icon:Pn},{value:ce.nao,icon:Fn}];return e(Ke,{value:s,options:l,onChange:i=>{const m=i.value;n(m),o(m)},optionLabel:"value",optionValue:"value",iconTemplate:({option:i})=>i==null?void 0:i.icon,className:"w-8 h-8",disabled:a})}const kn=t=>{const n=new It,a=Xe;n.addImage(a,"PNG",15,10,50,20),n.setFontSize(9),n.text("Cel: (11) 97271-6993 \u2022 E-mail: alcance.nt@yahoo.com",15,35),n.text("CNPJ: 37.999.009/0001-68",15,40),n.setFontSize(12),n.setFont("Helvetica","bold"),n.text("RELAT\xD3RIO DE INTERVEN\xC7\xC3O ABA INDIVIDUALIZADO \u2013 EVOLU\xC7\xC3O 1",15,55),n.setFontSize(9),n.setFont("Helvetica","normal"),n.text("* Confidencial conforme \xE9tica profissional, n\xE3o possui fins jur\xEDdicos e todos os dados obtidos devem ser considerados relativos ao atual momento desta avalia\xE7\xE3o e consequentemente do desenvolvimento da crian\xE7a.",15,60,{maxWidth:180}),n.setFontSize(10),n.setFont("Helvetica","bold"),n.text("Interessados:",15,75),n.setFont("Helvetica","normal"),n.text("- Aos Pais , aplicadores e m\xE9dica neuropediatra",45,75),n.setFont("Helvetica","bold"),n.text("DADOS DE IDENTIFICA\xC7\xC3O:",15,85),n.setFont("Helvetica","normal"),n.text(`Nome: ${t.paciente.nome}`,15,90),n.text(`Data de Nascimento: ${t.paciente.dataNascimento}`,110,90),n.setFont("Helvetica","bold"),n.text("Resultados das \xE1reas reavaliadas:",15,100),n.setFont("Helvetica","italic"),n.text("- Desenvolvimento Infantil: Reaplicada a Escala de Desenvolvimento Infantil Portage:",15,105),Te(n,{head:[["Socializa\xE7\xE3o"]],theme:"plain",styles:{fontSize:12,fontStyle:"bold",halign:"center"},startY:115}),Te(n,{head:[t.headers],body:t.Socializacao,startY:n.lastAutoTable.finalY+5,styles:{fontSize:10,halign:"center"},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{0:{halign:"center"},1:{halign:"center"},2:{halign:"center"}}}),Te(n,{head:[["Cogni\xE7\xE3o"]],theme:"plain",styles:{fontSize:12,fontStyle:"bold",halign:"center"},startY:n.lastAutoTable.finalY+10}),Te(n,{head:[t.headers],body:t.Cognicao,startY:n.lastAutoTable.finalY+5,styles:{fontSize:10},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{0:{halign:"center"},1:{halign:"center"},2:{halign:"center"}}});const s=n.internal.pageSize.height;n.text("Av. Henrique Andr\xE9s, 700 \u2013 Centro \u2013 Jundia\xED-SP",10,s-10),window.open(n.output("bloburl"))};function Dn({paciente:t}){const[n,a]=p.exports.useState(!1),[s,o]=p.exports.useState({}),[l,r]=p.exports.useState([]),{renderToast:i}=de(),m=ge(),b=we(),{state:h}=b,[w,g]=p.exports.useState(!1),v=async()=>{const{data:x}=await Se("protocolo",{pacienteId:t.id,protocoloId:G.portage,type:"pdf"});x?await kn(x):(a(!1),i({type:"failure",title:"Erro!",message:"N\xE3o existe Portage cadastrado no momento!",open:!0}))},y=p.exports.useCallback(async()=>{try{const x=await me("protocolo/portage");o(x),Q(x)}catch(x){console.error("Error fetching dropdown data",x)}},[]),S=x=>x===ce.sim?ce.asVezes:x===ce.asVezes?ce.nao:x===ce.nao?null:ce.sim,C=(x,_,D,H=void 0)=>{o(U=>{var F;const V=JSON.parse(JSON.stringify(U)),u=(F=V==null?void 0:V[x])==null?void 0:F[_];if(!u)return U;if(D.toString().includes("-sub-item-")){const[I]=D.split("-sub-item-"),[,J]=I.split("0-meta-"),A=u.findIndex(O=>O.id===parseInt(J)||O.id===I);if(A!==-1){const O=u[A].subitems.findIndex($=>$.id===D);O!==-1&&(u[A].subitems[O].selected=H!==void 0?H:S(u[A].subitems[O].selected))}}else{const I=u.findIndex(J=>J.id===D);I!==-1&&(u[I].selected=H!==void 0?H:S(u[I].selected))}return V})},L=async()=>{a(!0);const x={pacienteId:t,portage:s};try{await De("protocolo/portage",x),sessionStorage.removeItem("draftSubitems"),m(b.pathname,{replace:!0}),g(!0),i({type:"success",title:"Sucesso!",message:"Portage Cadastrado.",open:!0})}catch(_){console.error("Error saving form data",_),i({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}finally{a(!1)}},z=x=>{var E;const _=x.id.toString().startsWith("0-meta-")?x.id:`0-meta-${x.id}`,D=x!=null&&x.selected?{selected:x.selected}:{},H={...Pe,id:_,value:x.nome,faixaEtaria:x.faixaEtaria,estimuloDiscriminativo:x==null?void 0:x.estimuloDiscriminativo,estimuloReforcadorPositivo:x==null?void 0:x.estimuloReforcadorPositivo,procedimentoEnsino:x==null?void 0:x.procedimentoEnsinoId,programa:(x==null?void 0:x.programaId)||(x==null?void 0:x.programa),resposta:x==null?void 0:x.resposta,...D,subitems:((E=x==null?void 0:x.subitems)==null?void 0:E.map(F=>({...Fe,id:F.id,value:F.nome,...F.selected&&{selected:F.selected}})))||[]},U=JSON.parse(sessionStorage.getItem("draftSubitems")||"[]"),V=parseInt(H.id.replace(/^0-meta-/,""),10),u=U.filter(F=>parseInt(F.id.replace(/^0-meta-/,""))!==V);u.push(H),sessionStorage.setItem("draftSubitems",JSON.stringify(u)),m(`/${ie.PROTOCOLO}`,{state:{edit:!0,item:{metas:[H],paciente:t},tipoProtocolo:G.portage}})},K=(x,_,D)=>{var U;const H=D.selected||null;return d("div",{children:[d("div",{className:"flex items-center gap-2",children:[e(Gt,{value:H,onChange:V=>C(x,_,D.id,V)},D.id),D.nome,(D==null?void 0:D.permiteSubitens)&&e("i",{className:"pi pi-pencil",onClick:()=>z(D)})]}),e("div",{className:"grid ml-8 mt-2",children:(U=D==null?void 0:D.subitems)==null?void 0:U.map(V=>K(x,_,V))})]})},f=x=>e("div",{className:"mt-8",children:(s==null?void 0:s[x])&&d(pe,{children:[d("div",{className:"text-gray-400 my-4 text-start",children:[" ",x," "]}),e(bt,{children:Object.keys(s[x]).map(_=>e(yt,{tabIndex:_,header:e("div",{children:_}),children:e(St,{value:s[x][_],selection:l,responsiveLayout:"scroll",dataKey:"id",children:e(wt,{body:D=>K(x,_,D),bodyStyle:{padding:".1rem"}})})},_))})]})}),N=()=>w&&e("div",{className:"mt-auto",children:e(W,{text:"Gerar Relat\xF3rio",type:"primary",size:"full",icon:"pi pi-file-pdf",onClick:v,loading:n,typeButton:"button"})}),M=()=>e("div",{className:"mt-auto",children:e(W,{text:"Salvar",type:"primary",size:"full",onClick:L,loading:n})}),Q=x=>{if(h!=null&&h.metaEdit){const _=parseInt(h==null?void 0:h.metaEdit.id.replace(/^0-meta-/,""),10),D={...x};D[h.metaEdit.programa][h.metaEdit.faixaEtaria]=D[h.metaEdit.programa][h.metaEdit.faixaEtaria].map(H=>H.id===_?{...h.metaEdit}:H),o(D)}};return p.exports.useEffect(()=>{if(h!=null&&h.metaEdit){const _=JSON.parse(sessionStorage.getItem("draftSubitems")||"[]"),D=h.metaEdit.id,H=_.findIndex(U=>U.id===D);H!==-1?_[H]={...h.metaEdit}:_.push(h.metaEdit),sessionStorage.setItem("draftSubitems",JSON.stringify(_))}(async()=>{const{data:_}=await Se("protocolo",{pacienteId:t.id,protocoloId:G.portage,type:"local"});if(_){g(!0);let D=JSON.parse(JSON.stringify(_.portage));const H=JSON.parse(sessionStorage.getItem("draftSubitems")||"[]");if(H.length>0)for(const U of H){const V=U.programa,u=U.faixaEtaria,E=parseInt(U.id.replace(/^0-meta-/,""),10);D[V]||(D[V]={}),D[V][u]||(D[V][u]=[]);const F=D[V][u],I=F.findIndex(J=>J.id===E||J.id===U.id);if(I!==-1){const J=F[I].subitems||[],O=(U.subitems||[]).map($=>{var j;const R=$.selected!==void 0?$.selected:(j=J.find(B=>B.id===$.id))==null?void 0:j.selected;return{...$,selected:R}});F[I]={...F[I],...U,subitems:O}}else F.push(U)}o(D)}else g(!1),y()})()},[t]),d("div",{className:"mt-8 space-y-6",children:[N(),f(qe.socializacao),f(qe.cognicao),M()]})}const On="#03ae4e",Ln="#0071bd",Rn="#e36b05",Tn="#d9d9d9",Ve="#ffffff",He="#000000",zn=({data:t,paciente:n})=>{const a=t,s=new It,o=Xe;s.addImage(o,"PNG",15,10,50,20),s.setFontSize(9),s.text("Cel: (11) 97271-6993 \u2022 E-mail: alcance.nt@yahoo.com",15,35),s.text("CNPJ: 37.999.009/0001-68",15,40),s.setFontSize(12),s.setFont("Helvetica","bold"),s.text("RELAT\xD3RIO DE INTERVEN\xC7\xC3O ABA INDIVIDUALIZADO",15,50),s.setFont("Helvetica","bold"),s.text("DADOS DE IDENTIFICA\xC7\xC3O:",15,60),s.setFont("Helvetica","normal"),s.text(`Nome: ${n.nome}`,15,65),s.text(`Data de Nascimento: ${n.dataNascimento}`,110,65);const l=s.internal.pageSize.getWidth(),r=6,i=2,m=2,b=1,h=10;let w=70;const g=S=>S===1?Rn:S===2?On:S===3?Ln:Ve;Object.keys(a).map(Number).sort((S,C)=>C-S).forEach(S=>{const C=Object.keys(a[S]);w+=15,s.setFontSize(10),s.text(`N\xEDvel ${S}`,l/2,w,{align:"center"}),w+=5;const L=C.reduce((K,f)=>{const N=Object.keys(a[S][f]).length;return K+N*r+5},-5);let z=(l-L)/2;C.forEach(K=>{const f=Object.keys(a[S][K]);s.setFontSize(8),s.text(K,z+f.length*r/2,w,{align:"center"});const N=w+2;f.forEach((M,Q)=>{const x=z+Q*r;s.setFillColor(Tn),s.rect(x,N,r,i,"F"),s.setTextColor(He),s.setFontSize(3),s.setDrawColor(He),s.setLineWidth(.2),s.rect(x,N,r,i),s.text(M.toUpperCase(),x+r/2,N+i/2+.5,{align:"center"})});for(let M=0;M<h;M++)f.forEach((Q,x)=>{const D=Object.keys(a[S][K][Q])[M],H=D?a[S][K][Q][D].percentual:0,U=g(S),V=z+x*r,u=N+i+M*m;H===100?(s.setFillColor(U),s.rect(V,u,r,m,"F")):H===50?(s.setFillColor(U),s.rect(V,u+m/2,r,m/2,"F"),s.setFillColor(Ve),s.rect(V,u,r,m/2,"F")):(s.setFillColor(Ve),s.rect(V,u,r,m,"F")),s.setDrawColor(He),s.setLineWidth(.2),s.rect(V,u,r,m)});z+=f.length*r+5}),w+=i+h*b+1});const y=s.internal.pageSize.height;s.setFontSize(8),s.text("Av. Henrique Andr\xE9s, 700 \u2013 Centro \u2013 Jundia\xED-SP",10,y-10),window.open(s.output("bloburl"))};function Mn({paciente:t}){const[n,a]=p.exports.useState(!1),[s,o]=p.exports.useState({}),[l,r]=p.exports.useState([]),{renderToast:i}=de(),[m,b]=p.exports.useState(Ue.um),[h,w]=p.exports.useState(Ue.um-1),[g,v]=p.exports.useState(!1),y=we(),{state:S}=y,C=ge(),L=p.exports.useCallback(async()=>{try{const{data:u}=await Se("protocolo",{pacienteId:t.id,protocoloId:G.vbMapp,type:"pdf"});u?await zn(u):(a(!1),i({type:"failure",title:"Erro!",message:"N\xE3o existe Portage cadastrado no momento!",open:!0}))}catch(u){console.error("Erro ao gerar PDF",u)}},[t.id,i]),z=p.exports.useCallback(async(u=m)=>{const{data:E}=await Se("protocolo",{pacienteId:t.id,protocoloId:G.vbMapp,nivel:u});f(E.data),v(E.existeResposta)},[m,t.id]),K=u=>{const E=u.match(/-meta-(\d+)$/);return E?parseInt(E[1],10):null},f=u=>{if(!(S!=null&&S.metaEdit)||S.pacienteId.id!==t.id){o(u);return}const E=JSON.parse(JSON.stringify(u)),F=S.metaEdit.programa;if(!E[F]){console.error("Programa n\xE3o encontrado em copyList:",F);return}E[F]=E[F].map(I=>{var A;const J=S.metaEdit.metas.find(O=>K(O.id)===I.id);if(J){const O=(J.subitems||[]).map($=>{var j;const R=(I.subitems||[]).find(B=>B.id===$.id);return{...Fe,...R,...$,selected:$.selected!==void 0?$.selected:(j=R==null?void 0:R.selected)!=null?j:!1}});return{...I,...J,subitems:O,selected:(A=J.selected)!=null?A:I.selected,id:I.id}}return I}),o(E)},N=p.exports.useCallback(async()=>{a(!0);const u={pacienteId:t.id,vbmapp:s};try{await De("protocolo/vbmapp",u),v(!0),i({type:"success",title:"Sucesso!",message:"VB Mapp Cadastrado.",open:!0})}catch(E){console.error("Error saving form data",E),i({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}finally{a(!1)}},[s,t.id,i]),M=p.exports.useCallback(u=>{b(u.index+1),w(u.index),z(u.index+1)},[z]),Q=(u,E,F)=>{o(I=>{const J={...I};return J[u]=J[u].map(A=>{if(A.id===E)return{...A,selected:F};if(A.subitems){const O=A.subitems.map($=>$.id===E?{...$,selected:F}:$);return{...A,subitems:O}}return A}),J})},x=u=>!!u.filter(F=>F.permiteSubitens).length,_=async(u,E,F)=>{const I=u.filter(j=>j.permiteSubitens),{estimuloDiscriminativo:J,estimuloReforcadorPositivo:A,procedimentoEnsinoId:O,resposta:$}=I[0],R=I.map((j,B)=>{const q=`${E}-meta-${j.id}`,ne={...Pe,value:j.nome,...j,respostaSessao:j==null?void 0:j.respostaSessao,id:q};if(j!=null&&j.subitems){const oe=j==null?void 0:j.subitems.map(X=>{const le=X!=null&&X.selected?{selected:X.selected}:{};return{...Fe,id:X.id,value:X.nome,...le}});ne.subitems=oe}return ne});C(`/${ie.PROTOCOLO}`,{state:{edit:!0,item:{metas:R,paciente:t,estimuloDiscriminativo:J,estimuloReforcadorPositivo:A,procedimentoEnsinoId:O,programa:F,resposta:$},tipoProtocolo:G.vbMapp}})},D=p.exports.useCallback((u,E)=>{const F=u.selected||null;return d("div",{children:[d("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-8 h-8",children:e(Gt,{value:F,onChange:I=>Q(E,u.id,I)},u.id)}),u.nome]}),e("div",{className:"grid ml-8 mt-2",children:(u==null?void 0:u.subitems)&&u.subitems.map(I=>D(I,E))})]})},[]),H=p.exports.useCallback(()=>e("div",{className:"mt-8",children:Object.keys(s).length>0?e(bt,{children:Object.keys(s).map((u,E)=>e(yt,{className:"mb-2",tabIndex:E,header:d("div",{className:"flex items-center w-full gap-2",children:[e("span",{children:u.toLocaleUpperCase()}),x(s[u])&&e("i",{className:"pi pi-pencil",onClick:()=>_(s[u],E,u)})]}),children:e(St,{id:"vbmapp-page",value:s[u],selection:l,responsiveLayout:"scroll",dataKey:"id",tableStyle:{minWidth:"none"},children:e(wt,{body:F=>D(F,u),bodyStyle:{padding:".1rem"}})})},E))}):e(Oe,{})}),[s,D]),U=p.exports.useCallback(()=>g&&e("div",{className:"mt-auto",children:e(W,{text:"Gerar Relat\xF3rio",type:"primary",size:"full",icon:"pi pi-file-pdf",onClick:L,loading:n,typeButton:"button"})}),[g,L,n]),V=p.exports.useCallback(()=>e("div",{className:"mt-auto",children:e(W,{text:"Salvar",type:"primary",size:"full",onClick:N,loading:n})}),[N,n]);return p.exports.useEffect(()=>{z()},[t,z]),d("div",{className:"mt-8 space-y-6",children:[U(),d(as,{activeIndex:h,onTabChange:M,children:[e(_e,{header:"N\xEDvel 1",children:H()}),e(_e,{header:"N\xEDvel 2",children:H()}),e(_e,{header:"N\xEDvel 3",children:H()})]}),V()]})}function Bn(t,n){var o;const a={...t.metas[0]};delete t.metas;const s=(o=n[0])!=null&&o.selected?{selected:n[0].selected}:{};return{...t,nome:a.value,id:a.id,programa:t.programa.nome,faixaEtaria:n[0].faixaEtaria,permiteSubitens:!0,...s,subitems:a.subitems.map((l,r)=>{var m,b;const i=(m=n[0].subitems[r])!=null&&m.selected?{selected:(b=n[0].subitems[r])==null?void 0:b.selected}:{};return{nome:l.value,id:l.id,...i}})}}function $n(t,n){var w;const{procedimentoEnsinoId:a="",estimuloDiscriminativo:s="",estimuloReforcadorPositivo:o="",resposta:l="",pacienteId:r="",programaId:i="",metas:m=[]}=t!=null?t:{},b=(w=n==null?void 0:n.programa)==null?void 0:w.find(g=>g.id===i),h=m.map(g=>({id:g.id,nome:g.value,procedimentoEnsinoId:a,estimuloDiscriminativo:s,estimuloReforcadorPositivo:o,resposta:l,pacienteId:r,permiteSubitens:!0,subitems:g.subitems.map((v,y)=>{var C,L;const S=(C=g.subitems[y])!=null&&C.selected?{selected:(L=g.subitems[y])==null?void 0:L.selected}:{};return{nome:v.value,id:v.id,...S}})}));return{programa:b.nome.toLowerCase(),metas:h}}const jn=({paciente:t,param:n})=>{const a={pacienteId:"",procedimentoEnsinoId:"",programaId:"",estimuloDiscriminativo:"",resposta:"",estimuloReforcadorPositivo:""},[s,o]=p.exports.useState(!1),[l,r]=p.exports.useState([]),[i,m]=p.exports.useState([]),b=we(),h=ge(),{renderToast:w}=de(),{hasPermition:g}=$e(),{state:v}=b,y=(v==null?void 0:v.tipoProtocolo)||G.pei,{handleSubmit:S,formState:{errors:C},setValue:L,control:z,reset:K,watch:f,unregister:N,resetField:M}=ke({defaultValues:a}),Q=p.exports.useCallback(async()=>{const[u,E,F]=await Promise.all([me(`programa/${y}`),me("pei/procedimento-ensino"),me("protocolo")]),I={programa:u,procedimentoEnsino:E,protocolo:F};r(I),x(I)},[r]),x=u=>{var E,F,I,J,A,O;if(Boolean((E=v==null?void 0:v.item)==null?void 0:E.programa)||y===G.vbMapp){const{paciente:$,programa:R,estimuloDiscriminativo:j,resposta:B,estimuloReforcadorPositivo:q,metas:ne,procedimentoEnsinoId:oe}=v.item,X=typeof R!="object"?(F=u==null?void 0:u.programa)==null?void 0:F.find(se=>se.nome.toLowerCase()===R):R,le=typeof oe!="object"?(I=u==null?void 0:u.procedimentoEnsino)==null?void 0:I.find(se=>se.id===oe):oe;L("pacienteId",$),L("programaId",X),L("procedimentoEnsinoId",le),L("estimuloDiscriminativo",j),L("resposta",B),L("estimuloReforcadorPositivo",q),m(ne),ne.forEach(se=>{var ve;L(se.id,se.value),(ve=se.subitems)==null||ve.forEach(ue=>L(ue.id,ue.value))})}else if(y===G.portage){const{paciente:$,metas:R}=n.item,j=(J=u.procedimentoEnsino)==null?void 0:J.find(q=>q.id===R[0].procedimentoEnsino),B=(A=u==null?void 0:u.programa)==null?void 0:A.find(q=>q.id===R[0].programa||q.nome===R[0].programa);m(R),L(R[0].id,R[0].value),L("pacienteId",$),L("programaId",B),L("procedimentoEnsinoId",j),L("estimuloDiscriminativo",R[0].estimuloDiscriminativo),L("resposta",R[0].resposta),L("estimuloReforcadorPositivo",R[0].estimuloReforcadorPositivo),(O=R[0].subitems)==null||O.forEach(q=>L(q.id,q.value))}};return{control:z,errors:C,handleSubmit:S,loading:s,metas:i,dropDownList:l,tipoProtocolo:y,addMeta:()=>{const u=[...i],E=f("programaId");Pe.id=`${E.id}-meta-${u.length}`,u.push({...Pe}),m(u)},addSubitem:u=>{var O;const E=[...i],F=(O=E[u])!=null&&O.subitems?[...E[u].subitems]:[],I=F.reduce(($,R)=>{const j=R.id.match(/sub-item-(\d+)$/),B=j?parseInt(j[1],10):0;return Math.max($,B)},-1),J=`${E[u].id}-sub-item-${I+1}`,A={...Fe,id:J};F.push(A),E[u].subitems=F,m(E)},removeMeta:u=>{const E=[...i];L(E[u].id,void 0),E.splice(u,1),m(E)},renderDropdown:Q,onSubmit:async u=>{var E,F;u.pacienteId=t,o(!0);try{const I={metas:[],programa:u.programaId},[J]=l.protocolo.filter(A=>A.id==y);if(Object.values(u).some(A=>A===""||A===void 0)){o(!1),w({type:"failure",title:"Valores Vazios!",message:"Preencha todos os campos. Informe a descri\xE7\xE3o da meta e/ou do item ou exclua-o",open:!0});return}if(Object.keys(u).forEach(A=>{if(A.includes("-meta-")&&!A.includes("-sub-item-")){const O=A.match(/\d+/),$=A.match(/(\d+)$/),R=Number(O[0]),j=Number($[0]),B=[];Object.keys(u).forEach(q=>{q.includes(`${R}-meta-${j}-sub-item-`)&&B.push({...Fe,id:q,value:u[q]})}),I.metas.push({...Pe,id:A,subitems:B,value:u[A]})}else A.includes("Id")?I[A]=u[A].id:!A.includes("-meta-")&&!A.includes("-sub-item-")&&!A.includes("Id")&&(I[A]=u[A])}),Boolean((E=v==null?void 0:v.item)==null?void 0:E.id)&&(I.id=v.item.id),y===G.pei)Boolean((F=v==null?void 0:v.item)==null?void 0:F.id)?await Be("pei",I):await De("pei",I),h(`/${ie.PEI}`,{state:{pacienteId:u.pacienteId,protocoloId:J}});else if(y===G.portage){const A=Bn(I,i);h(`/${ie.PROTOCOLO}`,{state:{pacienteId:u.pacienteId,protocoloId:y,metaEdit:A}})}else if(y===G.vbMapp){const A=$n(I,l);h(`/${ie.PROTOCOLO}`,{state:{pacienteId:u.pacienteId,protocoloId:y,metaEdit:A}})}K(),o(!1),m([]),w({type:"success",title:"Sucesso!",message:"PEI Cadastrado.",open:!0})}catch{o(!1),w({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},hasPermition:g,removeSubitemFromMeta:(u,E)=>{var J,A;const F=[...i],I=(A=(J=F[u])==null?void 0:J.subitems)==null?void 0:A[E];I!=null&&I.id&&(N(I.id,{keepValue:!1}),M(I.id)),F[u].subitems.splice(E,1),m(F)}}};function We({paciente:t,param:n}){const{control:a,errors:s,handleSubmit:o,loading:l,metas:r,dropDownList:i,tipoProtocolo:m,addMeta:b,addSubitem:h,removeMeta:w,renderDropdown:g,onSubmit:v,hasPermition:y,removeSubitemFromMeta:S}=jn({paciente:t,param:n});return p.exports.useEffect(()=>{g()},[g]),e("div",{className:"mt-8 space-y-6",children:d("div",{className:"h-[90vh] flex flex-col overflow-y-auto",children:[Js.map(C=>e("div",{children:e(he,{labelText:C.labelText,id:C.id,type:C.type,customCol:C.customCol,control:a,options:C.type==="select"?i[C.name]:void 0,buttonAdd:C.buttonAdd})},C.id)),d("div",{className:"mt-8",children:[d("div",{className:"text-gray-400 font-inter flex justify-between m-2 leading-4",children:[e("span",{className:"font-bold",children:"METAS"}),m===G.pei?e(W,{text:"Add Meta",icon:"pi pi-plus",type:"primary",size:"sm",onClick:b,typeButton:"button"}):null]}),r.map((C,L)=>{var z;return d(rs,{legend:`${C.labelText} ${L+1}`,className:"mb-2",toggleable:!0,children:[e("div",{className:"text-gray-400 font-inter flex justify-end",children:e(W,{text:"Add subitem",icon:"pi pi-plus",type:"primary",size:"sm",onClick:()=>h(L),typeButton:"button"})}),e(he,{labelText:"Descri\xE7\xE3o",id:C.id,type:"input-add",customCol:"col-span-6 sm:col-span-6",control:a,onClick:()=>w(L),disabled:m!==G.pei}),(z=C==null?void 0:C.subitems)==null?void 0:z.map((K,f)=>e(he,{labelText:`Item ${f+1}`,id:K.id,type:"input-add",customCol:"col-span-6 sm:col-span-6",control:a,onClick:()=>S(L,f)},K.id))]},C.id)})]}),e("div",{className:"mt-auto",children:e(W,{text:"Salvar",type:"primary",size:"full",typeButton:"button",onClick:o(v),loading:l})})]})})}const _n=Ys,Vn={};_n.forEach(t=>Vn[t.id]="");const xt={id:"",nome:""};function Hn(){const{hasPermition:t}=$e();p.exports.useState(!1);const[n,a]=p.exports.useState([]),s=we(),{state:o}=s,{handleSubmit:l,control:r,watch:i,setValue:m}=ke({defaultValues:{protocoloId:xt,pacienteId:xt}}),b=i("protocoloId"),h=i("pacienteId"),w=p.exports.useCallback(async()=>{const[g,v]=await Promise.all([me("paciente"),me("protocolo")]);if(a({paciente:g,protocolo:v}),o!=null&&o.tipoProtocolo){const y=v.filter(S=>S.id===o.tipoProtocolo)[0];m("protocoloId",y)}if(o!=null&&o.pacienteId&&m("pacienteId",o.pacienteId),o!=null&&o.item){const y=g.filter(S=>o.item.paciente.id===S.id)[0];m("pacienteId",y)}},[]);return p.exports.useEffect(()=>{w()},[]),d("form",{className:"mt-8",onSubmit:()=>{},children:[t("PEI_FILTRO_BOTAO_CADASTRAR")?e(he,{labelText:"Paciente",id:"pacienteId",type:"select",customCol:"col-span-6 sm:col-span-6",control:r,options:n.paciente},"pacienteId"):null,t("PEI_FILTRO_BOTAO_CADASTRAR")?e(he,{labelText:"Protocolo",id:"protocoloId",type:"select",customCol:"col-span-6 sm:col-span-6",control:r,options:n.protocolo,disabled:!(h!=null&&h.nome.length)||(o==null?void 0:o.tipoProtocolo)},"protocoloId"):null,!(o!=null&&o.edit)&&(b==null?void 0:b.id)&&b.id===G.portage&&(h==null?void 0:h.id)&&e(Dn,{paciente:h}),!(o!=null&&o.edit)&&(b==null?void 0:b.id)&&b.id===G.vbMapp&&(h==null?void 0:h.id)&&e(Mn,{paciente:h}),!(o!=null&&o.edit)&&(b==null?void 0:b.id)&&b.id===G.pei&&(h==null?void 0:h.id)&&e(We,{paciente:h}),(o==null?void 0:o.edit)&&e(We,{paciente:h,param:o})]})}function Jn(){const{renderToast:t}=de(),n=ge(),a=we(),{state:s}=a,[o,l]=p.exports.useState(!1),[r,i]=p.exports.useState([]),[m,b]=p.exports.useState(!1),[h,w]=p.exports.useState([]),[g,v]=p.exports.useState({}),[y,S]=p.exports.useState([]),[C,L]=p.exports.useState({}),[z,K]=p.exports.useState([]),[f,N]=p.exports.useState({}),[M,Q]=p.exports.useState([]),[x,_]=p.exports.useState({}),D=O=>{let $=[];return O.forEach(R=>{$.push(R.key),R.children&&($=h.concat(D(R.children)))}),$},H=p.exports.useCallback(async()=>{l(!0);try{const O=s.paciente,[$,R,j,B]=await Promise.all([Se("pei",{paciente:O,protocoloId:G.pei}),Se("protocolo/meta",{pacienteId:O.id,protocoloId:G.vbMapp}),Se("protocolo/meta",{pacienteId:O.id,protocoloId:G.portage,notSelected:[ce.sim]}),Ne(`pei/activity-session/${s.id}`)]),q=$.data,ne=j.data,oe=R.data;b(!!q.length||!!ne.length||!!oe.length);const X=Boolean(B==null?void 0:B.maintenance)&&typeof(B==null?void 0:B.maintenance)=="object"?D(B.maintenance):[];if(q&&q.length>0){const le=[];q.map(se=>{const ve=[];se.metas.map(ue=>{const Le=ue.subitems.reduce((c,k)=>(X.includes(k.id)||c.push({key:k.id,label:k.value,data:k.id}),c),[]);Le.length&&ve.push({key:ue.id,label:ue.value,data:ue.id,children:Le})}),ve.length&&le.push({key:se.id,label:se.programa.nome,data:se.id,children:ve})}),i(le)}if(ne&&ne.length>0&&(K(ne),N(B==null?void 0:B.selectedPortageKeys)),oe&&oe.length>0&&(Q(oe),_(B==null?void 0:B.selectedVbMappKeys)),B.selectedKeys&&Object.values(B.selectedKeys).length>0){const le=B.selectedKeys,se=Object.keys(le);v(le),w(se),B.maintenance&&S(B.maintenance),Object.values(B.selectedMaintenanceKeys).length&&L(B==null?void 0:B.selectedMaintenanceKeys)}}catch{}finally{l(!1)}},[t]),U=async()=>{l(!0);try{const O=[];r.map((j,B)=>{const q=[];j.children.map(ne=>{const oe=ne.children.filter(X=>h.includes(X.key));oe.length&&q.push({...ne,children:oe})}),q.length&&O.push({...j,children:q})});const $=O.map(j=>j.key),R={calendarioId:s.id,peisIds:$,pacienteId:s.paciente.id,atividades:O,selectedKeys:g,maintenance:y,selectedMaintenanceKeys:C,selectedPortageKeys:f,portage:z,selectedVbMappKeys:x,vbmapp:M};m?(R.id=s.id,await Be("pei/activity-session",R)):await De("pei/activity-session",R),t({type:"success",title:"200",message:"Cadastrado com sucesso!",open:!0}),n(`/${ie.CALENDAR}`)}catch{t({type:"failure",title:"401",message:"Falha ao cadastrar!",open:!0})}l(!1)},V=p.exports.useMemo(()=>e(et,{start:s.data.start,end:s.data.end,statusEventos:s.statusEventos.nome,title:s.title,localidade:s.localidade.nome,isExterno:s.isExterno,km:s.km,modalidade:s.modalidade.nome,dataInicio:s.dataInicio,dataFim:s.dataFim,dataAtual:s.dataAtual}),[]),u=()=>!!r.length&&e("div",{className:"grid gap-2 mt-4",children:d("div",{children:[e("div",{className:"text-gray-400",children:" Manual"}),e(Re,{value:r,selectionMode:"checkbox",selectionKeys:g,onSelectionChange:async O=>{v(O.value);const $=await Object.keys(O.value);w($)},className:"w-full md:w-30rem"})]})}),E=()=>!!y.length&&d("div",{className:"grid gap-2 my-8",children:[e("div",{className:"text-gray-400",children:" Manuten\xE7\xE3o "}),e(Re,{value:y,selectionMode:"checkbox",selectionKeys:C,onSelectionChange:async O=>{L(O.value)},className:"w-full md:w-30rem"})]}),F=()=>!!z.length&&d("div",{className:"grid gap-2 mt-8",children:[e("div",{className:"text-gray-400",children:" Portage "}),e(Re,{value:z,selectionMode:"checkbox",selectionKeys:f,onSelectionChange:async O=>{N(O.value)},className:"w-full md:w-30rem"})]}),I=()=>!!M.length&&d("div",{className:"grid gap-2 mt-8",children:[e("div",{className:"text-gray-400",children:" Vb Mapp "}),e(Re,{value:M,selectionMode:"checkbox",selectionKeys:x,onSelectionChange:async O=>{_(O.value)},className:"w-full md:w-30rem"})]}),J=()=>!M.length&&!z.length&&!y.length&&!r.length&&d("div",{className:"grid gap-4 justify-center",children:[e(Oe,{}),e(W,{text:"Cadastrar Protocolo",icon:"pi pi-book",type:"primary",color:"white",size:"sm",onClick:()=>n(`/${ie.PROTOCOLO}`,{state:{item:{paciente:s.paciente}}})})]}),A=()=>(!!M.length||!!z.length||!!y.length||!!r.length)&&e("div",{className:" mt-8",children:e(W,{text:"Salvar",type:"primary",size:"full",onClick:()=>U(),loading:o,typeButton:"button"})});return p.exports.useEffect(()=>{H()},[]),d("div",{className:"h-[90vh] flex flex-col overflow-y-auto",children:[V,e("div",{className:"text-gray-400 mt-8 text-center",children:" Selecione os programas para sess\xE3o"}),u(),F(),I(),E(),J(),A()]})}var ie=(t=>(t.HOME="home",t.CRUD="cadastro",t.CALENDAR="agenda",t.SESSION="session",t.DTT="dtt",t.PEI="pei",t.PEICADASTRO="pei-cadastro",t.METAS="metas",t.PRIMEIRARESPOSTA="primeira-resposta",t.PROTOCOLO="protocolo-av",t))(ie||{});const qt=[{path:"*",componentRoute:ut,icon:"",menu:!1},{path:"session",componentRoute:wn,icon:"",menu:!1},{path:"dtt",componentRoute:Ge,icon:"",menu:!1},{path:"metas",componentRoute:Jn,icon:"",menu:!1},{path:"home",componentRoute:ut,icon:"pi pi-home",menu:!0},{path:"pei",componentRoute:Nn,icon:"pi pi-book",menu:!0},{path:"protocolo-av",componentRoute:Hn,icon:"pi pi-book",menu:!0},{path:"pei-cadastro",componentRoute:We,icon:"",menu:!1},{path:"agenda",componentRoute:mn,icon:"pi pi-calendar",menu:!0},{path:"primeira-resposta",componentRoute:Cn,icon:"pi pi-check-square",menu:!0}],Yn=()=>d("div",{className:"min-h-full overflow-hidden bg-background h-screen w-full",children:[e(ln,{}),e("main",{className:"mt-14",children:e(Nt,{children:qt.map((n,a)=>e(Je,{path:n.path,element:e(sn,{children:e(n.componentRoute,{})})},a))})})]});function Gn(){const{signed:t}=je();return t?e(Et,{children:e(gs,{children:e(nn,{children:e(Yn,{})})})}):e(tn,{})}function qn(){return e("div",{className:"App",children:e(bs,{children:e(Ss,{children:e(Gn,{})})})})}Wt.createRoot(document.getElementById("root")).render(e(Ut.StrictMode,{children:e(qn,{})}));
