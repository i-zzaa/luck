import{r as a,R as _t}from"./react.705ad3af.js";import{c as Vt}from"./react-dom.10879ce7.js";import{a as Yt}from"./axios.d349c3b3.js";import{h as fe}from"./moment.9709ab41.js";import{j as e,a as r,F as ee,T as Ut,D as Je,I as Kt,C as Ht,b as Gt,c as qt,L as Wt,M as Jt,A as le,d as ie,e as Ke,f as Qt,z as Xt,g as Zt,h as Qe,O as lt,N as it,i as ct,m as Pe,K as es,k as ze,l as Oe}from"./primereact.305951bc.js";import{B as dt,N as ts}from"./react-router-dom.8e76a9d4.js";import{c as de}from"./clsx.09c75e33.js";import{L as ss}from"./react-lottie-player.9831b59f.js";import{C as H,u as Ee}from"./react-hook-form.ad20ad1d.js";import{e as pt,f as je,c as ve,d as Se}from"./react-router.fa7e0b24.js";import{J as ns}from"./jodit-react.328ed469.js";import{E as ut}from"./jspdf.71127e49.js";import{a as Fe}from"./jspdf-autotable.bae232af.js";/* empty css                   */import"./core-js.fef2c0d7.js";import"./scheduler.2450001e.js";import"./form-data.d1f94bc2.js";import"./react-transition-group.c6ae46a5.js";import"./@babel.4f1e7424.js";import"./dom-helpers.2a8a4335.js";import"./@remix-run.7ba39c5a.js";import"./lottie-web.df2e13c6.js";import"./fast-deep-equal.55bfef35.js";import"./rfdc.0929fce7.js";import"./fflate.0418c72f.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const p of o)if(p.type==="childList")for(const h of p.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const p={};return o.integrity&&(p.integrity=o.integrity),o.referrerpolicy&&(p.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?p.credentials="include":o.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function n(o){if(o.ep)return;o.ep=!0;const p=i(o);fetch(o.href,p)}})();fe.locale("pt-br");const as={TO:"#ef6c00",FONO:"#f6bf26",PSICO:"#8e24aa",PSICOPEDAG:"#000000"},rs={TO:"#ffffff",FONO:"#ffffff",PSICO:"#ffffff",PSICOPEDAG:"#ffffff"},Xe=t=>t.charAt(0).toUpperCase()+t.slice(1),os=()=>{setTimeout(()=>{(document.querySelectorAll(".p-multiselect-token")||[]).forEach(s=>{const i=as[s.textContent.toUpperCase()],n=rs[s.textContent.toUpperCase()];s.style.background=i,s.style.color=n})},0)},Ze=t=>fe(t).format("DD/MM/YYYY"),ls=t=>(fe.locale("pt-br"),fe(t).format("YYYY-MM-DD")),is=t=>fe(t).add(1,"days").format("YYYY-MM-DD"),et=(t,s)=>{const i=fe(t);return fe(s).diff(i,"weeks")+1};var mt=(t=>(t.mobile="DEVICE_MOBILE",t.web="DEVICE_WEB",t))(mt||{});const re=Yt.create({baseURL:"http://192.168.15.9:3000",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",device:mt.mobile}}),tt=(t,s,i)=>{re.interceptors.request.use(async n=>(n.url.endsWith("login")||(n.headers.Authorization=`Bearer ${t}`,n.headers.login=s,n.headers.idUser=i),n),n=>Promise.reject(n))},xe=async(t,s)=>{var o;const i=s?`?${s}`:"",n=await re(`${t}/dropdown${i}`);return n.status===200?((o=n.data)==null?void 0:o.data)||n.data:[]},Ie=async(t,s)=>await re.post(t,s),Le=async(t,s)=>await re.put(t,s),cs=async t=>await re.delete(`${t}`),ge=async t=>{const s=await re(t);return s.status===200?s.data:[]},ce=async(t,s,i)=>{const n=i?`?${i}`:"";return await re.post(`${t}/filtro${n}`,s)},ds="developer",ht=a.exports.createContext({}),ps=({children:t})=>{const{perfil:s}=Ae(),[i,n]=a.exports.useState([]),o=h=>{n(h)};a.exports.useMemo(async()=>{const h=sessionStorage.getItem("auth"),w=(h?JSON.parse(h):[]).permissoes||await ge("permissao");n(w)},[]),a.exports.useEffect(()=>{i.length},[]);const p=(h="")=>{switch(!0){case!s:throw new Error("Voce n\xE3o tem permissao");case h==="*":return!0;default:return!!(i.length&&i.includes(h.toUpperCase())||s===ds)}};return e(ht.Provider,{value:{hasPermition:p,perfil:s,permissions:i,setPermissionsLogin:o},children:t})},ke=()=>a.exports.useContext(ht),us="absolute animate-bounce min-w-[24rem] top-2 right-0 block flex p-4 mb-4 text-sm rounded-lg items-center gap-2 z-[70] ",ft=a.exports.createContext({}),ms=({children:t})=>{const[s,i]=a.exports.useState("hidden"),[n,o]=a.exports.useState(),[p,h]=a.exports.useState(""),[u,w]=a.exports.useState({type:"info",title:"",message:"",open:!1}),g=m=>{switch(m){case"success":o(e("i",{className:"pi pi-check-circle"}));break;case"failure":o(e("i",{className:"pi pi-times-circle"}));break;case"warning":o(e("i",{className:"pi pi-exclamation-circle"}));break;case"info":o(e("i",{className:"pi pi-info-circle"}));break;default:o(e("i",{className:"pi pi-undo"}));break}},N=m=>{switch(m){case"success":h("z-[10000] text-white bg-green-400 rounded-lg  w-24 ");break;case"failure":h("z-[10000] text-white bg-red-400 rounded-lg  w-24");break;case"warning":h("z-[10000] text-white bg-yellow-400 rounded-lg  w-24");break;case"info":h("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break;default:h("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break}},f=({type:m,message:v,title:x,open:C})=>{g(m),N(m),w({type:m,message:v,title:x,open:C}),i(C?"block":"hidden"),setTimeout(()=>{i("hidden")},3e3)};return e(ft.Provider,{value:{renderToast:f},children:r(ee,{children:[t,r("div",{className:`${us} ${s} ${p}`,role:"alert",children:[n,r("span",{children:[e("span",{className:"font-medium",children:"   "+u.title})," "+u.message]})]})]})})};function J(){return a.exports.useContext(ft)}const He=a.exports.createContext({}),hs=({children:t})=>{const[s,i]=a.exports.useState(),[n,o]=a.exports.useState(""),{setPermissionsLogin:p}=ke(),{renderToast:h}=J();a.exports.useEffect(()=>{const N=sessionStorage.getItem("token"),f=sessionStorage.getItem("auth"),m=sessionStorage.getItem("perfil")||"";if(N&&f){const v=JSON.parse(f);i(v),o(m),tt(N,v.login,v.id)}},[]);const u=async N=>{var f;try{const v=(await re.post("/login",{...N,password:parseInt(N.password)})).data;setTimeout(()=>{g()},8e6);const x=(v==null?void 0:v.user)||v.data,C=(v==null?void 0:v.accessToken)||v.data.accessToken,d=(f=x.perfil)!=null&&f.nome?x.perfil.nome.toLowerCase():x.perfil.toLowerCase();sessionStorage.setItem("token",C),sessionStorage.setItem("auth",JSON.stringify(x)),sessionStorage.setItem("perfil",d),x.permissoes.length&&p&&p(x.permissoes),o(d),i(x),await tt(C,x.login,x.id),h({type:"success",title:" ",message:"Bem vindo!",open:!0})}catch(m){w(m)}},w=N=>{const f=N!=null&&N.data?N==null?void 0:N.data.message:"Usu\xE1rio n\xE3o encontrado!";h({type:"failure",title:N.status||"Erro no Login!",message:f,open:!0})},g=async()=>{i(void 0),sessionStorage.clear();try{await re.get("/logout")}catch(N){console.log(N)}};return e(He.Provider,{value:{signed:Boolean(s),user:s,Login:u,Logout:g,perfil:n},children:t})},Ae=()=>a.exports.useContext(He),xt="/assets/logo-lg.ee70d40f.jpg";function R({icon:t,size:s="full",type:i="primary",color:n="white",text:o,loading:p,disabled:h=!1,onClick:u,typeButton:w="submit"}){return e(Ut,{disabled:h,icon:t,type:w,loading:p,label:s==="icon"?"":o,onClick:u,className:de(" text-white text-sm rounded-md border-none ",{"bg-violet-800 hover:bg-violet-600":i==="primary","bg-yellow-400 hover:bg-violet-800":i==="second","bg-transparent hover:bg-transparent":i==="transparent","text-white":n==="white","text-red-400 hover:text-violet-800 focus:text-violet-600":n==="red","text-green-400 hover:text-violet-800 focus:text-violet-600":n==="green","text-yellow-400 hover:text-violet-800 focus:text-violet-600":n==="yellow","text-violet-800 hover:text-violet-600 focus:text-violet-600":n==="violet","w-full":s==="full","sm:w-2/5 w-full":s==="md"})})}function ae({onChange:t,onClick:s,value:i,labelText:n,id:o,type:p,customClass:h,options:u,customCol:w,validate:g,errors:N,control:f,disabled:m,hidden:v,buttonAdd:x}){const C=()=>{switch(p){case"select":return e(H,{name:o,control:f,rules:g,render:({field:d})=>e(Je,{value:i||d.value,virtualScrollerOptions:{itemSize:38},options:u,onChange:c=>(t&&t(c.value),d.onChange(c.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:m})});case"multiselect":return e(H,{name:o,control:f,rules:g,render:({field:d})=>e(Jt,{disabled:m,id:d.id,display:"chip",optionLabel:"nome",filter:!0,value:i||d.value,onChange:c=>{os(),t&&t(c.value),d.onChange(c.value)},options:u})});case"list":return e(H,{name:o,control:f,rules:g,render:({field:d})=>e(Wt,{value:d.value,options:u,onChange:c=>d.onChange(c.value),multiple:!0,filter:!0,optionLabel:"nome",listStyle:{maxHeight:"300px"}})});case"textarea":return e(H,{name:o,control:f,rules:g,render:({field:d})=>e("textarea",{id:d.id,...d,value:i||(d==null?void 0:d.value),className:h,disabled:m,rows:"8"})});case"switch":return e(H,{name:o,control:f,rules:g,render:({field:d})=>r("div",{className:"grid grid-cols-6 justify-start items-center h-8",children:[r("span",{className:"col-span-4 text-violet-800",children:[" ",n," "]}),e("div",{className:"col-span-2",children:e(qt,{checked:i||d.value,color:"#685ec5",value:i,disabled:m,onChange:c=>{d.onChange(c.target.value),t&&t(c.target.value)}})})]})});case"tel":return e(H,{name:o,control:f,rules:g,render:({field:d})=>e(Gt,{disabled:m,value:i||d.value,type:p,className:"inputAnimado font-inter font-light"+h,mask:"(99) 9999-9999",onChange:c=>d.onChange(c.value)},d.id)});case"checkbox":return e(H,{name:o,control:f,rules:g,render:({field:d})=>r(ee,{children:[e(Ht,{checked:i,type:p,className:"inputAnimado "+h,onChange:c=>{d.onChange(c.target.checked),t&&t(c.target.checked)}}),r("span",{className:"col-span-4 text-violet-800",children:[" ",n," "]})]})});case"time":return e(H,{name:o,control:f,rules:g,render:({field:d})=>a.exports.createElement("input",{id:d.id,...d,value:i||d.value,key:d.id,type:p,className:"inputAnimado font-inter "+h,disabled:m,onInput:c=>{d.onChange(c),t&&t(c)}})});case"price":return e(H,{name:o,control:f,rules:g,render:({field:d})=>e("div",{className:"inputAnimado font-inter "+h,id:d.id,children:r("div",{className:"p-inputgroup",children:[e(Kt,{value:i||d.value,disabled:m,onInput:c=>{d.onChange(c),t&&t(c)}}),e("span",{className:"p-inputgroup-addon",children:"R$"})]})})});case"date":return e(H,{name:o,control:f,rules:g,render:({field:d})=>a.exports.createElement("input",{disabled:m,id:d.id,...d,value:i||d.value,key:d.id,type:p,className:"inputAnimado "+h,autoComplete:"off",min:(g==null?void 0:g.min)&&g.min,onInput:c=>{d.onChange(c),t&&t(c)}})});case"input-add":return r("div",{className:"grid  gap-2 grid-cols-6",children:[e(H,{name:o,control:f,rules:g,render:({field:d})=>a.exports.createElement("textarea",{disabled:m,id:d.id,...d,value:i||d.value,key:d.id,className:"inputAnimado col-span-5",autoComplete:"off",onInput:c=>{d.onChange(c),t&&t(c)},rows:2})}),x?e(R,{text:"Add",icon:"pi pi-plus",type:"primary",size:"icon",onClick:()=>s&&s("add")}):e(R,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>s&&s("remove")})]});case"select-add":return r("div",{className:"grid  gap-2 grid-cols-6",children:[e(H,{name:o,control:f,rules:g,render:({field:d})=>e(Je,{className:"col-span-5",value:i||d.value,virtualScrollerOptions:{itemSize:38},options:u,onChange:c=>(t&&t(c.value),d.onChange(c.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:m})}),x?e(R,{text:"Add",icon:"pi pi-plus",type:"primary",size:"icon",onClick:()=>s&&s("add"),typeButton:"button"}):e(R,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>s&&s("remove"),typeButton:"button"})]});default:return e(H,{name:o,control:f,rules:g,render:({field:d})=>a.exports.createElement("input",{disabled:m,id:d.id,...d,value:i||d.value,key:d.id,type:p,className:"inputAnimado "+h,autoComplete:"off",onInput:c=>{d.onChange(c),t&&t(c)}})})}};return r("div",{className:de("label-float",{"my-5":!w,hidden:v&&v},w),children:[C(),p!=="switch"&&p!=="checkbox"&&r("label",{children:[" ",n," "]}),N&&N[o]&&e("p",{className:"text-xs text-red-400 text-end",children:N[o].message})]})}function gt({size:t="md",color:s="gray-dark",children:i}){return e("span",{className:de("font-bold",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-black":s==="black"}),children:i})}function fs({size:t="md",color:s="gray-dark",text:i,display:n="grid",subtext:o,icon:p,className:h}){return r("div",{className:de("flex gap-4 font-normal tracking-wider text-start items-center text-ellipsis overflow-hidden whitespace-nowrap",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-red-900":s==="red","text-black":s==="black"},h),children:[p&&e("div",{className:"flex items-center",children:e("i",{className:p})}),r("span",{className:n,children:[i,"\xA0",r("strong",{className:"font-inter",children:[" ",o]})]})]})}function K({children:t,legend:s,customCss:i,onClick:n,type:o="default"}){return e("fieldset",{className:de("px-2 items-center bg-white   shadow-sm mt-2",i,{"border-to":o.toUpperCase()==="TO","border-fono":o.toUpperCase()==="FONO","border-psico":o.toUpperCase()==="PSICO","border-black":o.toUpperCase()==="PSICOPEDAG","border-motricidade":o.toUpperCase()==="MOTRICIDADE","border-musicoterapia":o.toUpperCase()==="MUSICOTERAPIA","border-white":o.toUpperCase()==="DEFAULT"}),onClick:n,children:e("div",{className:"py-4 w-full ",children:t})})}function Ge({id:t,legend:s,fields:i,screen:n,loading:o,nameButton:p,dropdown:h,onSubmit:u,onInclude:w,onReset:g,defaultValues:N}){const{setValue:f,handleSubmit:m,control:v,reset:x}=Ee({defaultValues:N}),{hasPermition:C}=ke(),d=()=>{x(),g()},c=l=>{u(l)};return a.exports.useEffect(()=>{C(`${n}_FILTRO_SELECT_AGENDADOS`)||f("naFila",!0)}),e(le,{children:e(ie,{header:s,tabIndex:0,children:r("form",{id:t,action:"#",onSubmit:m(c),className:"flex-1",children:[e("div",{className:"grid grid-cols-6 gap-4",children:i.map(l=>C(l.permission)&&e(ae,{labelText:l.labelText,id:l.id,type:l.type,customCol:l.customCol,control:v,options:l.type==="select"?h[l.name]:void 0},l.id))}),e("div",{className:"flex items-center mt-10 gap-2 justify-between",children:r(ee,{children:[w&&C(`${n}_FILTRO_BOTAO_CADASTRAR`)&&e("div",{className:"sm:text-end",children:e(R,{text:p||"Cadastrar",icon:"pi pi-plus",type:"primary",size:"sm",onClick:w})}),e("div",{className:"hidden sm:w-2/4 ml-auto sm:grid grid-cols-2 gap-2",children:r(ee,{children:[C(`${n}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(R,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"full",onClick:d})}),C(`${n}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(R,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"full",loading:o,onClick:()=>m(c)})})]})}),e("div",{className:"sm:w-2/4 ml-auto grid sm:hidden grid-cols-2 gap-2",children:r(ee,{children:[C(`${n}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(R,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"icon",onClick:d})}),C(`${n}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(R,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"icon",loading:o,onClick:()=>m(c)})})]})})]})})]})})})}function we(){return r("div",{className:"uppercase flex items-center gap-4 m-auto mt-2 justify-center",children:[e("i",{className:"pi pi-folder-open"}),e(gt,{color:"gray",children:"N\xE3o h\xE1 itens"})]})}const vt="Comp 1",yt="",bt=[{ty:4,nm:"circle outline",mn:"",sr:1,st:0,op:180,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[0,0,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[55.228,0],[0,-55.228],[-55.228,0]],o:[[0,-55.228],[-55.228,0],[0,55.228],[55.228,0]],v:[[0,0],[-100,-100],[-200,0],[-100,100]]},ix:2}},{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[-55.228,0],[0,-55.228],[55.228,0]],o:[[0,-55.228],[55.228,0],[0,55.228],[-55.228,0]],v:[[0,0],[100,-100],[200,0],[100,100]]},ix:2}},{ty:"tm",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:0,k:80,ix:2},o:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:3},s:{a:0,k:100,ix:1},m:2},{ty:"st",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:52,ix:5},d:[],c:{a:0,k:[.4,.1608,.4667],ix:3}}],ind:1,parent:2},{ty:4,nm:"circle",mn:"",sr:1,st:0,op:200,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[960,540,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[-100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 2",d:1,p:{a:0,k:[100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.4,.1608,.4667],ix:4},r:1,o:{a:0,k:100,ix:5}}],ind:2}],wt=0,Nt=1080,Ct=1920,Et={a:"",k:"",d:"",g:"@lottiefiles/toolkit-js 0.22.1",tc:"#000000"},St="5.7.4",It=30,kt=180,At=0,Dt=[],xs={nm:vt,mn:yt,layers:bt,ddd:wt,h:Nt,w:Ct,meta:Et,v:St,fr:It,op:kt,ip:At,assets:Dt},gs=Object.freeze(Object.defineProperty({__proto__:null,nm:vt,mn:yt,layers:bt,ddd:wt,h:Nt,w:Ct,meta:Et,v:St,fr:It,op:kt,ip:At,assets:Dt,default:xs},Symbol.toStringTag,{value:"Module"}));function qe(){return e("div",{className:"flex items-center justify-center",children:e(ss,{loop:!0,animationData:gs,play:!0,style:{width:200,height:200}})})}function vs({heading:t}){return r("div",{className:"mb-10 text-center",children:[e("div",{className:"flex justify-center",children:e("img",{alt:"",className:"h-32 ",src:xt})}),e(gt,{size:"lg",children:t})]})}const ys=[{labelText:"Login",labelFor:"username",id:"username",name:"username",type:"text",autoComplete:"text",isRequired:!0,placeholder:"Login",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o xxx.xxx"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Senha",labelFor:"password",id:"password",name:"password",type:"password",isRequired:!0,placeholder:"Senha",validate:{required:"Campo obrigat\xF3rio!"}}],Ft=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Paciente",id:"pacienteId",name:"paciente",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"}],bs=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Procedimento de Ensino",id:"procedimentoEnsinoId",name:"procedimentoEnsino",type:"select",singleSelect:!1,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Programa",id:"programaId",name:"programa",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Est\xEDmulo Discriminativo",id:"estimuloDiscriminativo",name:"estimuloDiscriminativo",type:"text",customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Resposta",id:"resposta",name:"resposta",type:"text",customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Est\xEDmulo Refor\xE7ador Positivo",id:"estimuloReforcadorPositivo",name:"estimuloReforcadorPositivo",type:"text",customCol:"col-span-6 sm:col-span-6"}],ws=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Paciente",id:"pacienteId",name:"paciente",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Protocolo",id:"protocoloId",name:"protocolo",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"}],Pt=ys,Ns={};Pt.forEach(t=>Ns[t.id]="");function Cs(){const t={username:"cristiane.graff",password:"12345678"},[s,i]=a.exports.useState(!1),[n,o]=a.exports.useState(!1),{renderToast:p}=J(),{handleSubmit:h,formState:{errors:u},setValue:w,watch:g,control:N}=Ee({defaultValues:t}),{Login:f}=Ae(),m=async({username:x,password:C})=>{o(!0);try{await f({username:x,password:C}),o(!1)}catch{o(!1),p({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},v=async x=>{i(x),localStorage.setItem("rememberCheck",JSON.stringify(x)),x?(localStorage.setItem("rememberCheck","true"),localStorage.setItem("rememberLogin",JSON.stringify({username:g("username"),password:g("password")}))):(localStorage.removeItem("rememberLogin"),localStorage.setItem("rememberCheck","false"))};return a.exports.useEffect(()=>{const x=localStorage.getItem("rememberLogin");if(x){const{username:C,password:d}=JSON.parse(x);i(!0),w("username",C),w("password",d)}},[]),r("form",{className:"mt-8 space-y-6",onSubmit:h(m),children:[e("div",{children:Pt.map(x=>e(ae,{id:x.id,type:x.type,labelText:x.labelText,control:N,validate:x.validate,errors:u},x.id))}),e(ae,{id:"checkbox-login",labelText:"Lembrar login",type:"checkbox",control:N,onChange:v,value:s}),e(R,{text:"Entrar",type:"primary",size:"full",onClick:h(m),loading:n})]})}const Es="luck-web",Ss="0.6.5",Is="module",ks={dev:"vite --port=3002 --host",start:"node serve.js --host",preview:"vite preview --host",sb:"start-storybook -p 6006",format:'prettier --write "src/**/*.{ts,js,tsx}"',lint:'eslint "src/**/*.{ts,js}" --quiet',build:"export NODE_OPTIONS='--max-old-space-size=8192' && tsc && vite build"},As={"@fullcalendar/core":"5.11.3","@fullcalendar/daygrid":"5.11.3","@fullcalendar/interaction":"5.11.3","@fullcalendar/list":"5.11.3","@fullcalendar/moment":"5.11.3","@fullcalendar/moment-timezone":"5.11.3","@fullcalendar/react":"5.11.2","@fullcalendar/rrule":"5.11.3","@fullcalendar/timegrid":"5.11.3","@types/uuid":"^9.0.7","@vitejs/plugin-react-refresh":"^1.3.6",autoprefixer:"10.4.12",axios:"1.1.3","chart.js":"3.9.1",clsx:"1.2.1",cors:"2.8.5",express:"4.18.2","jodit-react":"^4.1.2",jspdf:"^2.5.2","jspdf-autotable":"^3.8.4","lottie-react":"2.3.1",moment:"2.29.4","postcss-import":"15.0.0",primeicons:"6.0.1",primereact:"8.7.0",quill:"1.3.7",react:"18.2.0","react-chartjs-2":"4.3.1","react-dom":"18.2.0","react-hook-form":"7.37.0","react-lottie-player":"1.5.4","react-router-dom":"6.4.2",rrule:"2.7.1",url:"0.11.0",uuid:"^9.0.1","vite-plugin-pwa":"^0.17.4","web-vitals":"2.1.4","workbox-background-sync":"6.5.4","workbox-broadcast-update":"6.5.4","workbox-cacheable-response":"6.5.4","workbox-core":"6.5.4","workbox-expiration":"6.5.4","workbox-google-analytics":"6.5.4","workbox-navigation-preload":"6.5.4","workbox-precaching":"6.5.4","workbox-range-requests":"6.5.4","workbox-routing":"6.5.4","workbox-strategies":"6.5.4","workbox-streams":"6.5.4",xlsx:"^0.18.5"},Ds={"@babel/core":"7.19.3","@types/react":"18.0.17","@types/react-dom":"18.0.6","@vitejs/plugin-react":"2.1.0","babel-loader":"8.2.5",prettier:"latest","standard-version":"9.5.0",tailwindcss:"3.2.1",typescript:"4.8.4",vite:"3.1.0","workbox-build":"6.5.4"},Fs={name:Es,version:Ss,private:!0,type:Is,scripts:ks,dependencies:As,devDependencies:Ds};function st(){const[t,s]=a.exports.useState(""),i=a.exports.useCallback(async()=>{const{data:n}=await ge("/");s(`vers\xE3o frontend: ${Fs.version} - ${n}`)},[]);return a.exports.useEffect(()=>{i()},[i]),r(ee,{children:[e(vs,{heading:"Prontu\xE1rio"}),e(Cs,{}),e("div",{className:"text-xs absolute bottom-0 text-gray-300 left-0  w-full flex justify-center",children:e("div",{className:"",children:t})})]})}const Ps=()=>e("div",{className:"min-h-full h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-md w-full space-y-8",children:e(dt,{children:r(pt,{children:[e(je,{path:"/",element:e(st,{})}),e(je,{path:"*",element:e(st,{})})]})})})}),Ls=({children:t})=>e("div",{className:"h-screen overflow-y-auto",children:e("div",{className:"mx-2 mt-4 mb-16",children:t})}),Lt=a.exports.createContext({}),Ts=({children:t})=>{const[s,i]=a.exports.useState(!1);return e(Lt.Provider,{value:{open:s,setOpen:i},children:t})},Rs=()=>{const t=ve(),{Logout:s}=Ae(),{hasPermition:i,permissions:n}=ke(),{open:o,setOpen:p}=a.exports.useContext(Lt),[h,u]=a.exports.useState([]),{user:w,perfil:g}=a.exports.useContext(He),N=Se(),f=()=>{const x=$t.filter(C=>C.path!=="*"&&C.menu);u(x)},m=()=>r("aside",{onClick:()=>p(!1),className:"fixed border-box shadow-3xl w-full h-screen z-20  bg-primary duration-700 ease-in-out justify-center",children:[e("div",{className:"bg-logo-md-write bg-no-repeat bg-cover h-[13rem] w-[20rem] mx-auto"}),r("div",{className:"border-y border-primary-text duration-1000 p-4 mt-2",children:[r("h3",{className:"text-primary-text text-center font-light text-sm ",children:[" ",w.nome]}),r("h3",{className:"text-gray-200 text-center font-light text-xs ",children:[" ",Xe(g)," "]})]}),e("ul",{className:"list-none p-0 mt-8",children:h.map(x=>{const C=N.pathname.startsWith(x.path);return e("li",{className:`${C?"bg-primary-hover text-primary-text-hover":"text-primary-text"} hover:px-0 hover:bg-primary-hover  hover:text-primary-text-hover duration-700 grid  justify-center`,children:r(ts,{to:x.path,className:"grid grid-cols-2 gap-8 items-center text-sm px-4 py-4  cursor-pointer",children:[e("i",{className:de("text-end",x.icon)}),e("span",{className:"duration-700",children:Xe(x.path)})]})},x.path)})}),e("i",{onClick:s,className:" pi pi-sign-out duration-700 text-primary-text hover:scale-125 cursor-pointer  w-4 col-span-1 fixed bottom-8 left-[50%]"})]}),v=()=>e("aside",{className:"fixed w-full right-2 shadow-3xl h-12 z-20  bg-primary duration-700 ease-in-out cursor-pointer",children:r("div",{className:"flex justify-between items-center",children:[e("div",{className:"sm:text-end ml-2",children:e(R,{text:"",icon:"pi pi-arrow-left",type:"primary",color:"white",size:"icon",onClick:()=>t(-1)})}),e("div",{className:"w-12 h-12  mt-[1vh] rounded-3xl bg-primary ",onClick:()=>p(!0),children:e("div",{className:"bg-logo-mini bg-no-repeat bg-cover h-12 w-12 duration-700"})})]})});return a.exports.useEffect(()=>{f()},[n]),o?m():e("nav",{className:"fixed h-12 w-full bg-primary mb-8",children:v()})};function nt(){const[t,s]=a.exports.useState(),[i,n]=a.exports.useState(!1),{renderToast:o}=J(),{reset:p,handleSubmit:h,formState:{errors:u},control:w}=Ee(),g=()=>{const f=sessionStorage.getItem("auth"),m=JSON.parse(f);s(m)},N=async f=>{n(!0);try{f.id=t.login;const{data:m}=await Le("/usuarios/reset-senha",f);n(!1),p(),o({type:"success",title:"",message:m.message,open:!0})}catch({message:m}){o({type:"failure",title:"401",message:`${m}`,open:!0}),p();return}};return a.exports.useEffect(()=>{g()},[]),e(ee,{children:e(K,{customCss:"rounded-lg border border-gray-200 p-4",children:r("div",{className:"grid sm:grid-cols-2",children:[e(fs,{text:t==null?void 0:t.nome,subtext:t==null?void 0:t.login,color:"violet",size:"md",icon:"pi pi-id-card",display:"grid"}),r("div",{className:"flex gap-2  my-6 sm:my-0  items-center",children:[e(ae,{labelText:"Alterar senha",id:"senha",type:"password",customCol:" w-full",errors:u,validate:{required:!0},control:w}),e("div",{className:" mt-4 ",children:e(R,{text:"Alterar senha",type:"second",icon:"pi pi-sync",size:"icon",onClick:h(N)})})]})]})})})}var _e=(t=>(t.atendido="Atendido",t.atestado="Atestado",t.livre="Livre",t.confirmado="Confirmado",t))(_e||{});const zs=[{permission:"AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-3",type:"date"},{permission:"AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-3",type:"date"}],We=({start:t,end:s,statusEventos:i,title:n,localidade:o,isExterno:p,km:h,modalidade:u,dataInicio:w,dataFim:g,dataAtual:N})=>r("div",{className:"flex gap-2 w-full item-center",children:[r("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[r("span",{children:[" ",t]})," -",e("span",{children:s})]}),r("div",{className:"text-gray-800 text-sm text-center grid justify-center",children:[r("div",{className:"font-base font-semibold text-primary",children:["  ",n," "]}),r("p",{className:"flex gap-4 items-center justify-between",children:[(()=>{let m=u;if(m!=="Avalia\xE7\xE3o"||!w||g)return e("span",{children:m});const v=et(w,N),x=et(w,g);return e(ee,{children:r("span",{children:[m,e("span",{className:"font-inter ml-2",children:`${v}/${x}`})," "]})})})()," ",e("span",{children:i})]}),r("p",{className:"flex gap-4 items-center",children:[o,p&&r("span",{className:"font-bold font-inter",children:[" ",`- ${h}km`," "]})]})]})]}),Tt=zs,Os={};Tt.forEach(t=>Os[t.id]="");const Ms=()=>{const{renderToast:t}=J(),s=ve(),[i,n]=a.exports.useState({}),[o,p]=a.exports.useState([]),[h,u]=a.exports.useState(!1),{user:w}=Ae(),g=new Date;ls(g),is(g);const N=(l,F)=>{l.stopPropagation(),s(`/${se.METAS}`,{state:F})},f=async(l="2024-09-05",F="2024-10-24")=>{u(!0);try{const E=await ge(`/evento/filtro/${l}/${F}?terapeutaId=${w.id}`);let z=Object.keys(E).sort();n(E),p(z)}catch{n([]),t({type:"failure",title:"401",message:"Per\xEDodo n\xE3o encontrado!",open:!0})}u(!1)},m=l=>e(K,{customCss:"border-l-4 border-l-green-400 rounded-lg cursor-not-allowed",children:r("div",{className:"flex gap-2 w-full item-center",children:[r("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[r("span",{children:[" ",l.start]})," -",e("span",{children:l.end})]}),r("div",{className:"text-gray-800 text-center flex items-center justify-center text-md",children:["  ",l.title]})]})},l.id),v=l=>e(K,{type:l.especialidade.nome,customCss:"border-l-4 rounded-lg cursor-pointer hover:scale-[101%] duration-700 ease-in-out",onClick:()=>s(`/${se.SESSION}`,{state:{item:l}}),children:r("div",{className:"flex",children:[e(We,{start:l==null?void 0:l.data.start,end:l==null?void 0:l.data.end,statusEventos:l==null?void 0:l.statusEventos.nome,title:l==null?void 0:l.title,localidade:l==null?void 0:l.localidade.nome,isExterno:l==null?void 0:l.isExterno,km:l==null?void 0:l.km,modalidade:l==null?void 0:l.modalidade.nome,dataInicio:l==null?void 0:l.dataInicio,dataFim:l==null?void 0:l.dataFim,dataAtual:l==null?void 0:l.dataAtual}),l.statusEventos.nome==_e.atendido&&e(R,{text:"Pesquisar",icon:"pi pi-file-edit",type:"primary",size:"icon",loading:h,onClick:F=>N(F,l)}),l.statusEventos.nome==_e.atendido&&e(R,{text:"Atendido",type:"transparent",icon:"pi pi-check",size:"icon",color:"violet"})]})},l.id),x=l=>{switch(l.id){case 0:return m(l);default:return v(l)}},C=()=>h?e(qe,{}):o.length?o.map(l=>r("div",{children:[e("div",{className:"font-inter m-2 text-gray-400",children:Ze(l)}),i[l].map(F=>x(F))]},l)):r(K,{children:[" ",e(we,{})," "]}),d=a.exports.useMemo(()=>r("div",{className:"text-primary font-base grid justify-start m-2 leading-4",children:[e("span",{className:"font-bold",children:" Agenda "}),r("span",{className:"text-gray-400 font-light text-sm font-inter",children:[" ",Ze(new Date)," "]})]}),[]),c=a.exports.useMemo(()=>e(Ge,{id:"form-filter-patient",legend:"Filtro",nameButton:"Agendar",fields:Tt,onSubmit:({dataInicio:l,datatFim:F})=>f(l,F),onReset:()=>f(),screen:"AGENDA_CALENDARIO",loading:h,dropdown:[]}),[]);return a.exports.useEffect(()=>{f()},[]),r(ee,{children:[c,d,C()]})},Ve=({onChange:t,value:s,disabled:i})=>{const[n,o]=a.exports.useState(s);return e(Ke,{value:n,defaultValue:s,options:[{value:"C",icon:r("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#662C75"}),e("path",{transform:"translate(773,169)",d:"m0 0h61l30 2 32 5 30 8 27 9 21 9 16 8 19 10 23 14 14 10 15 11 11 9 12 11 10 9 7 8 10 11 10 13 13 18 11 17 10 18 11 24 10 26 8 28 5 26 2 20v26l-3 24-5 23-8 24-9 20-8 14-9 13-8 10-11 13-10 9-9 7-14 9-17 8-15 5-18 4-22 2-23-2-32-6-21-6-21-8-22-12-13-9-15-13-9-9-12-16-9-16-7-18-8-30-5-19-4-8-3-2h-6l-9 6-4 5-4 7-3 14-3 46-2 58-4 91-7 121-1 31v45l1 23 4 35 6 26 5 12 9 13 9 6 7 2 12-1 14-4 25-13 17-12 11-8 14-11 11-9 13-11 8-7 13-11 14-11 13-10 17-12 13-8 17-10 16-8 21-8 19-5 7-1h25l20 4 15 6 12 8 8 7 7 8 10 14 11 21 7 19 6 22 4 22 3 26 1 17v47l-2 27-6 37-7 31-8 25-8 20-8 17-14 24-8 12-14 19-9 10-7 8-17 17-10 8-13 10-14 10-15 9-23 12-21 9-36 12-36 9-21 4-32 4-29 3-16 1h-53l-20-2-32-5-27-6-26-8-22-8-25-11-19-10-22-13-13-9-16-13-14-12-37-37-9-11-8-9-12-16-18-27-12-20-18-35-12-26-11-27-12-35-10-36-9-38-7-36-5-35-3-34-3-53-1-26v-64l3-57 3-37 7-56 7-45 9-46 10-42 10-35 15-43 15-36 16-32 6-11 6-10 10-16 13-19 14-18 10-12 7-8 15-16 7-6 5-5 8-7 10-8 11-8 17-12 10-6 21-12 25-11 36-12 23-6 22-4z",fill:"#FDFDFD"})]})},{value:"DT",icon:r("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(374,334)",d:"m0 0h42l24 2 31 4 25 6 21 8 16 8 23 13 22 15 13 10 13 11 11 9 15 14 9 9 7 8 11 12 9 11 12 15 13 18 11 17 12 20 14 27 11 23 8 19 10 29 7 23 6 29 4 27 3 35 1 25v49l-2 33-3 28-6 35-9 40-11 36-12 32-11 24-12 23-8 14-11 17-10 15-12 16-11 13-9 11-22 22-8 7-9 8-14 11-18 13-15 10-20 12-16 8-16 7-16 5-16 3-40 4h-47l-37-4-24-4-22-6-21-8-16-9-9-7-10-10-8-14-5-12-5-21-13-73-13-75-18-109-15-95-15-101-10-71-10-77-6-50-4-45-3-42 1-17 5-10 10-13 9-9 17-13 22-12 14-6 24-8 31-8 32-6 43-5z",fill:"#FEFFFE"}),e("path",{transform:"translate(1039,294)",d:"m0 0h54l34 2 45 4 29 4 38 7 36 8 29 8 29 10 26 11 25 12 24 14 16 12 11 9 16 16 10 13 10 15 8 16 6 15 6 21 2 14v26l-4 26-5 19-8 21-8 14-12 17-13 10-14 8-19 7-17 4-27 3-15 1h-45l-39-3h-5l2 24 5 102 1 24 1 41v90l-1 31-4 48-6 45-7 40-8 32-10 30-9 20-10 19-13 18-11 12-12 11-13 8-17 7-20 5h-29l-19-3-31-7-20-6-19-8-19-10-13-10-10-9-9-10-9-13-8-16-6-15-7-27-4-26-1-11v-42l3-37 6-47 5-38 10-60 11-64 9-50 12-70 9-53 4-26-14-2-44-8-24-7-25-10-17-8-13-9-13-11-10-10-13-18-10-21-6-20-4-22v-29l4-23 8-20 7-12 11-13 13-13 18-13 18-10 17-8 25-8 31-8 30-5 39-4z",fill:"#FEFFFE"}),e("path",{transform:"translate(414,632)",d:"m0 0h24l15 4 12 6 10 9 9 11 10 17 6 15 5 16 4 19 2 18v31l-3 24-6 25-9 27-12 25-7 10-9 12-7 9-10 7h-3l-8-55-8-47-9-50-8-43-10-48-5-26v-9l4-4 6-2z",fill:"#682D75"})]})},{value:"DP",icon:r("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(1028,292)",d:"m0 0h65l48 3 37 4 31 6 25 7 24 8 22 9 19 10 18 10 21 14 16 12 14 12 16 16 9 11 12 15 16 24 12 22 10 21 9 23 12 36 7 26 6 32 2 18 1 19v17l-2 28-4 25-6 26-11 33-9 20-12 22-9 14-10 14-13 16-7 7-7 8-16 15-13 10-14 10-18 11-22 12-29 12-27 9-26 6-26 4-34 3-18 1h-50l1 13v101l-3 31-4 23-6 21-9 21-10 16-11 13-8 8-8 6-10 6-12 5-16 5-21 4-17 2h-24l-25-3-30-7-21-8-18-10-10-8-9-8-9-11-10-14-9-16-8-20-6-19-8-32-5-27-4-33-2-40-2 1-7 25-9 22-9 17-8 16-11 20-9 14-11 16-13 18-10 12-9 11-28 28-11 9-13 11-18 13-20 13-15 9-23 12-15 6-15 4-25 4-27 2-30 1-35-2-32-4-23-5-21-7-18-8-12-7-10-9-7-7-9-15-6-20-7-37-18-102-12-74-9-55-10-64-17-114-8-59-10-75-10-82-3-32-3-44v-27l6-12 9-12 11-11 12-9 20-12 15-7 30-10 36-9 30-5 32-4 26-2 20-1h35l31 2 29 4 24 6 25 10 26 14 24 16 19 14 13 11 14 12 25 25 7 8 13 15 11 14 12 16 14 21 15 25 19 38 13 28 11 28 8 28 5 23 3 18h3l1-25 7-73 9-74 6-37 10-47 7-26 7-21 10-24 7-14 10-17 10-13 11-12 10-8 16-9 15-6 24-5 27-3z",fill:"#FEFFFE"}),e("path",{transform:"translate(432,631)",d:"m0 0h19l14 3 12 5 11 8 10 12 8 13 8 17 7 22 4 21 2 27-1 24-4 24-5 19-8 24-11 24-12 18-12 16-9 8-4 1-3-13-4-31-7-43-8-45-9-50-13-66-4-21-1-10 3-4z",fill:"#682D75"}),e("path",{transform:"translate(1119,528)",d:"m0 0 16 3 17 6 16 8 9 7 11 11 8 15 3 10v23l-4 16-9 21-8 14-12 16-11 13-11 12-10 9-12 11-8 7-10 6-6 3-4-1 4-86 4-40 6-40 7-36 3-7z",fill:"#682D75"})]})},{value:"DG",icon:r("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(1142,292)",d:"m0 0h27l35 3 29 5 21 6 20 8 25 12 27 16 19 14 10 8 12 11 19 19 9 11 11 14 11 17 12 21 9 20 9 25 5 18 4 24 1 10v17l-3 27-6 26-6 18-9 19-9 15-9 12-11 12-17 13-21 10-16 5-17 3h-35l-20-3-15-4-14-6-15-10-11-9-10-11-10-15-5-10-5-16-1-5v-8l2-8v-8l-4-13-6-10-1-1h-7l-2 5-8 16-16 33-16 36-20 49-14 39-12 36-10 38-6 29-4 28-1 11v26l3 14 4 11 7 9 8 6 9 4 4 1h11l9-4 11-7 10-10 6-9 2-6v-10l-4-8-6-5-19-11-11-6-5-7-2-7-1-15 4-20 5-12 6-10 7-8 15-10 15-6 22-4 17-1h39l40 2 35 4 23 5 17 5 19 8 11 8 10 9 9 13 7 14 5 16 3 19v18l-3 29-5 29-7 32-12 36-11 26-10 20-14 23-12 17-10 13-10 11-7 8-11 11-11 9-12 10-15 10-16 10-23 12-19 8-22 7-27 6-26 4-10 1h-39l-25-3-30-5-26-7-27-10-27-13-19-12-16-13-8-7-18-18-9-11-10-13-9-14-10-18-8-16-10-22-12-34-9-30-7-30-3-17-4-34-2 7-3 18-6 20-12 32-11 26-16 32-9 16-15 24-13 18-11 14-11 13-11 12-1 2h-2l-2 4-6 5-12 12-11 9-12 10-20 14-17 11-21 12-25 12-21 7-20 4-26 2-19 1h-31l-36-3-24-4-26-7-22-8-16-8-11-8-10-10-9-13-7-22-9-47-15-90-9-58-14-92-10-68-13-93-10-77-9-74-7-61-4-48-2-38v-21l5-12 10-14 8-8 12-9 22-13 20-9 27-9 29-7 27-5 32-4 26-2 28-1h30l29 1 28 3 19 4 20 6 18 8 16 8 20 12 12 8 18 13 14 11 12 11 8 7 21 21 7 8 11 13 13 17 15 20 11 17 14 24 14 27 9 19 12 30 12 36 6 23 5 26 2 15 1 2h2l2-15 9-40 8-30 16-47 11-29 8-19 9-20 13-27 12-21 6-11 12-19 13-19 14-18 9-11 9-10 7-8 22-22 11-9 14-11 22-14 19-9 22-8 21-5 31-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(456,627)",d:"m0 0h11l15 3 10 4 10 8 10 11 9 14 8 17 7 22 4 21 2 22v16l-3 26-6 25-8 25-7 16-10 19-7 10-7 11-8 10-7 4-5-1-2-4-3-30-13-79-10-61-12-62-5-24-3-12v-6l3-2z",fill:"#682D75"})]})},{value:"DV",icon:r("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(937,305)",d:"m0 0h11l23 2 25 6 16 6 13 7 12 9 10 9 9 10 9 13 8 16 6 17 6 24 5 29 4 40 3 57 1 37v128l2 4 5 8 1 4 3-9 10-56 17-85 13-55 8-29 12-38 11-28 8-18 12-21 9-13 9-12 15-16 15-13 16-10 16-8 15-5 25-4h38l30 4 20 5 19 7 24 12 13 9 14 11 12 12 12 16 11 19 8 19 6 23 3 23v26l-3 30-7 39-9 37-10 36-13 40-16 44-16 40-13 31-16 36-11 24-13 28-20 41-27 54-12 22-12 24-12 22-16 30-12 22-16 29-13 22-10 15-7 11-11 13-9 11-8 7-12 11-14 10-16 10-21 10-21 7-23 5-18 2h-26l-27-3-25-5-20-6-20-8-17-8-18-11-16-12-17-16-13-13-11-14-16-24-12-21-14-30-11-29-12-37-11-40-12-52-8-44-9-58-5-46-4-52-2-35-1-32v-28l1-36 4-55 8-71 5-28 6-23 8-22 8-16 11-17 9-11 13-13 14-11 19-11 10-5 15-5 23-5z",fill:"#FEFEFE"}),e("path",{transform:"translate(359,338)",d:"m0 0h29l38 3 27 4 23 6 19 8 19 10 11 6 30 20 17 13 11 9 14 12 25 25 9 11 9 10 11 14 14 19 14 21 17 29 19 38 11 25 11 30 7 25 6 32 4 35 2 41v55l-1 21-5 40-6 32-8 36-9 31-7 20-10 25-10 22-10 19-11 19-14 21-11 16-18 22-10 11-7 8-8 8-8 7-11 10-11 9-16 12-15 10-14 9-18 10-21 10-19 6-26 5-22 3-16 1h-37l-23-2-26-4-24-5-20-6-15-6-15-8-10-8-7-7-9-14-4-10-6-25-14-71-12-66-10-56-20-116-8-49-10-62-13-85-19-135-6-48-3-42v-20l8-17 9-11 9-9 14-10 14-9 23-11 16-6 29-8 26-6 36-6 42-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(390,636)",d:"m0 0h22l16 4 13 7 12 11 8 10 7 12 7 16 7 21 5 25 1 10v32l-4 24-9 36-9 22-8 16-12 19-10 13-5 5-7 1-2-4-3-26-6-29-11-66-16-81-9-37-5-25 1-9 6-5z",fill:"#682D75"})]})}],onChange:u=>(t(u.value),o(u.value)),optionLabel:"value",optionValue:"value",iconTemplate:({option:u})=>u==null?void 0:u.icon,className:"w-8 h-8",disabled:i})},Bs=({onChange:t,value:s,disabled:i})=>{const[n,o]=a.exports.useState(s);return e(Ke,{value:n,defaultValue:s,options:[{value:"S",icon:r("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#672D74"}),e("path",{transform:"translate(825,261)",d:"m0 0h20l29 2 27 4 21 5 20 7 20 9 16 8 22 13 19 13 11 9 10 9 15 15 13 17 10 16 8 16 6 19 2 13v11l-2 16-5 16-7 16-12 20-10 13-17 17-15 10-15 8-15 5-16 3h-14l-17-3-10-4-12-9-8-10-8-16-7-20-9-27-6-8-8-4-13-2-12 3-11 6-8 7-8 13-5 14-2 18 1 15 5 15 9 16 11 14 11 12 8 8 11 9 14 11 19 14 33 22 15 11 34 24 17 13 14 12 12 11 16 16 9 11 10 12 13 19 8 13 12 23 10 22 9 28 6 25 4 28 1 19v16l-2 23-5 28-5 19-7 20-9 20-10 19-9 14-10 14-10 13-10 11-7 8-12 12-11 9-10 8-14 10-14 9-17 10-23 12-25 10-22 7-26 6-23 3-17 1h-21l-20-1-29-4-24-5-28-7-29-10-26-11-22-10-23-13-18-12-10-8-13-11-9-9-6-5-7-8-11-13-11-17-12-23-7-19-4-20v-20l3-15 5-16 7-14 9-14 9-11 10-10 10-7 12-5 9 1 18 6 37 17 27 13 25 10 22 6 13 2h21l14-3 10-5 6-5 9-12 4-12v-15l-4-15-10-19-10-13-14-14-14-11-17-13-14-10-34-23-15-11-18-14-12-11-8-7-13-14-11-14-8-10-10-15-11-19-9-17-11-26-8-24-7-26-5-28-1-11v-43l5-33 7-28 11-29 8-17 11-19 12-17 8-10 7-9 9-10 22-22 13-10 14-10 17-11 18-10 22-10 35-12 24-6 23-4 19-2z",fill:"#FDFDFD"})]})},{value:"N",icon:r("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#672C74"}),e("path",{transform:"translate(997,295)",d:"m0 0h20l24 3 19 5 16 7 12 7 14 10 10 10 9 12 11 17 11 24 5 15 6 25 6 37 6 59 5 61 4 71 2 43 2 79v72l-1 45-2 42-4 46-7 51-6 34-8 33-12 36-9 21-10 18-16 23-18 18-16 10-14 7-20 6-19 3h-20l-20-3-15-4-16-6-17-9-15-11-12-11-8-8-9-11-14-19-13-22-12-23-14-29-14-34-24-64-15-44-15-42-12-36-5-10-2-1 6 29 5 33 4 36 2 40v68l-2 28-4 28-6 27-7 22-7 17-10 18-10 14-14 15-11 8-14 7-15 5-16 2h-18l-21-2-21-5-21-9-15-9-10-8-9-8-7-8-10-13-8-13-10-19-9-25-7-25-8-38-5-31-5-49-3-51-1-36v-61l2-97 3-71 5-69 6-65 5-37 7-30 10-27 10-19 8-14 12-16 9-11 11-12 13-12 13-10 14-9 25-12 14-4 15-3 9-1h22l19 3 18 6 15 8 14 10 15 13 9 9 9 11 11 14 11 16 10 17 13 24 11 23 15 34 13 32 14 43 14 49 9 33 15 45 3 2-7-32-7-46-7-47-8-46-5-46-3-41v-30l3-26 6-22 8-16 10-17 9-11 14-14 12-9 18-10 14-5 19-4z",fill:"#FEFEFE"})]})}],onChange:u=>(t(u.value),o(u.value)),optionLabel:"value",optionValue:"value",iconTemplate:({option:u})=>u==null?void 0:u.icon,className:"w-8 h-8",disabled:i})},at="maintenance",Ce="activity",Me="portage",rt="vbmapp",$s=()=>{const{renderToast:t}=J(),s=Se(),i=ve(),{state:n}=s,o=a.exports.useRef(null),[p,h]=a.exports.useState(10),[u,w]=a.exports.useState(1),[g,N]=a.exports.useState(""),[f,m]=a.exports.useState([]),[v,x]=a.exports.useState([]),[C,d]=a.exports.useState([]),[c,l]=a.exports.useState([]),[F,E]=a.exports.useState([]),[z,S]=a.exports.useState([]),[B,$]=a.exports.useState({}),[j,V]=a.exports.useState([]),[b,k]=a.exports.useState([]),[A,U]=a.exports.useState(!1),[pe,ue]=a.exports.useState(!1),M=async()=>{try{const y=await ge(`/sessao/${n.item.id}`);if(y){N(y.resumo),$(y),U(!0);const[I,D]=await Promise.all([P(y.sessao,Ce),P(y.maintenance,at)]);m(I),d(y.portage),l(y.vbmapp),x(D),E(y.sessao)}else await _()}catch{}},_=async()=>{try{const y=await ge(`/pei/activity/session/${n.item.paciente.id}`),[I,D,L,O]=await Promise.all([P(y.atividades,Ce),P(y.maintenance,at),P(y.portage,Me),P(y.vbmapp,rt)]);m(I),E(y.sessao),x(D),d(L),l(O)}catch{}},Y=async()=>{try{const y={calendarioId:n.item.id,pacienteId:n.item.paciente.id,sessao:F,maintenance:v,selectedMaintenanceKeys:z,resumo:g,date:n.item.date,portage:j,vbmapp:b,...B};A?await Le("/sessao",y):await Ie("/sessao",y),t({type:"success",title:"",message:"Sess\xE3o atualizada!",open:!0}),i(`/${se.CALENDAR}`)}catch{t({type:"failure",title:"401",message:"Sess\xE3o n\xE3o atualizada!",open:!0})}},G=a.exports.useMemo(()=>{var y,I,D,L,O,T,q,W,X,Re,Ne;return e(We,{start:(y=n.item)==null?void 0:y.data.start,end:(I=n.item)==null?void 0:I.data.end,statusEventos:(D=n.item)==null?void 0:D.statusEventos.nome,title:(L=n.item)==null?void 0:L.title,localidade:(O=n.item)==null?void 0:O.localidade.nome,isExterno:(T=n.item)==null?void 0:T.isExterno,km:(q=n.item)==null?void 0:q.km,modalidade:(W=n.item)==null?void 0:W.modalidade.nome,dataInicio:(X=n.item)==null?void 0:X.dataInicio,dataFim:(Re=n.item)==null?void 0:Re.dataFim,dataAtual:(Ne=n.item)==null?void 0:Ne.dataAtual})},[]),P=async(y,I=Ce)=>await Promise.all(y.map(async(L,O)=>({key:L.key,label:L.label,children:await Promise.all(L.children.map(async(T,q)=>{const W={key:T.key,label:T.label};return T!=null&&T.children?W.children=await Promise.all(T.children.map(async(X,Re)=>{if(I===rt)return{key:X.key,label:X.label,children:X.children||Array.from({length:p}).map(jt=>null)};{const Ne=X.children||Array.from({length:I===Ce||Me?p:u}).map(jt=>null);return{key:X.key,label:X.label,children:Ne}}})):W.children=Array.from({length:I===Ce||Me?p:u}).map(X=>null),W}))}))),me=(y,I,D,L,O)=>e(Ve,{value:O,disabled:f[y].children[I].children[D].disabled||A,onChange:T=>{const q=[...f];f[y].children[I].children[D].children[L]!==T&&(q[y].children[I].children[D].children[L]=T,E(q))}},L),oe=(y,I,D,L)=>e(Bs,{value:L,disabled:v[y].children[I].children[D].disabled||A,onChange:O=>{const T=[...v];v[y].children[I].children[D].children[0]!==O&&(T[y].children[I].children[D].children[0]=O,S(T))}},0),ne=(y,I,D,L)=>e(Ve,{value:L,disabled:A,onChange:O=>{const T=[...C];V(T)}},0),ye=()=>!!c.length&&r("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" VB Mapp "})}),e(K,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(le,{children:c.map((y,I)=>e(ie,{tabIndex:I,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:y.label})}),children:e(le,{children:y==null?void 0:y.children.map((D,L)=>e(ie,{tabIndex:I,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:D.label})}),children:e("div",{className:"flex gap-1",children:D==null?void 0:D.children.map((O,T)=>r("li",{className:"my-2 grid gap-2  items-center",children:[e("span",{children:O.label}),e("div",{className:"flex gap-1",children:O==null?void 0:O.children.map((q,W)=>ne(I,L,W,q))})]},T))})},I))})},I))})})]}),Te=()=>!!C.length&&r("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" Portage "})}),e(K,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(le,{children:C.map((y,I)=>e(ie,{tabIndex:I,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:y.label})}),children:y==null?void 0:y.children.map((D,L)=>r("li",{className:"my-2 grid gap-2  items-center",children:[e("span",{children:D.label}),e("div",{className:"flex gap-1",children:D==null?void 0:D.children.map((O,T)=>ne(I,L,T,O))})]},L))},I))})})]}),Q=()=>r("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" ABA "})}),!!f.length&&e("div",{className:"text-red-400 font-inter grid justify-start mx-2 leading-4 mt-2",children:e("span",{className:"text-md",children:"Interrompa o treino da atividade ao atingir 4 tentativas corretas consecutivas."})}),f.length?e(K,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(le,{children:f.map((y,I)=>e(ie,{tabIndex:I,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:y.label})}),children:y==null?void 0:y.children.map((D,L)=>r("div",{className:"my-8",children:[r("span",{className:"font-bold font-inter",children:["Meta ",L+1,": "]})," ",e("span",{className:"font-base font-inter",children:D.label}),e("ul",{className:"list-disc mt-2 font-inter ml-4",children:D==null?void 0:D.children.map((O,T)=>r("li",{className:"my-2",children:[e("span",{children:O.label}),e("div",{className:"flex gap-1 -ml-4",children:O==null?void 0:O.children.map((q,W)=>me(I,L,T,W,q))})]},T))})]},L))},I))})}):e(K,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:r("div",{className:"grid gap-4 justify-center ",children:[e(we,{}),e(R,{text:"Selecionar Metas",icon:"pi pi-book",type:"primary",color:"white",size:"sm",onClick:()=>i(`/${se.METAS}`,{state:n.item})})]})})]}),he=()=>!!v.length&&r("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" Manuten\xE7\xE3o "})}),e(K,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(le,{children:v.map((y,I)=>e(ie,{tabIndex:I,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:y.label})}),children:y==null?void 0:y.children.map((D,L)=>r("div",{className:"my-8",children:[r("span",{className:"font-bold font-inter",children:["Meta ",L+1,": "]})," ",e("span",{className:"font-base font-inter",children:D.label}),e("ul",{className:"list-disc mt-2 font-inter ml-4",children:D==null?void 0:D.children.map((O,T)=>r("li",{className:"my-2 flex gap-2 -ml-4 items-center",children:[oe(I,L,T,0),e("span",{children:O.label})]},T))})]},L))},I))})})]}),be=()=>r(ee,{children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" Resumo "})}),e(K,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(ns,{ref:o,value:g,config:{readonly:A,language:"pt_br",buttons:"bold,italic,underline,strikethrough,font,fontsize,paragraph,copyformat,table,fullsize,preview",saveModeInStorage:!0},onBlur:y=>N(y),onChange:y=>{}})})]}),De=()=>e("div",{className:"mt-auto",children:e(R,{text:"Salvar",icon:"pi pi-check",type:"primary",size:"full",loading:pe,onClick:()=>Y(),disabled:A})});return a.exports.useEffect(()=>{M()},[]),r("div",{className:"grid overflox-y-auto",children:[G,r("div",{className:"",children:[ye(),Te(),Q(),he(),be()]}),De()]})},Rt=Ft,js={};Rt.forEach(t=>js[t.id]="");const _s=()=>{const{renderToast:t}=J(),s=ve(),i=Se(),{state:n}=i,[o,p]=a.exports.useState(!1),[h,u]=a.exports.useState([]),[w,g]=a.exports.useState({}),N=c=>{s(`/${se.PEICADASTRO}`,{state:c})},f=async c=>{p(!0);try{const l=c.paciente;await cs(`pei/${c.id}`),x({pacienteId:l}),t({type:"success",title:"Sucesso!",message:"PEI removido!",open:!0})}catch{t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}p(!1)},m=(c,l)=>r(Qt,{className:"text-[8px]",children:[r("div",{className:"font-bold text-wrap",children:[" ",c," "]}),r("div",{className:"font-normal text-wrap",children:[" ",l]})]}),v=()=>o?e(qe,{}):w.length?e(K,{children:e(le,{children:w.map((c,l)=>e(ie,{header:r("div",{className:"flex items-center  w-full",children:[e("span",{children:c.programa.nome}),r("div",{className:"ml-auto",children:[e(R,{text:"editar",type:"transparent",size:"icon",icon:"pi pi-pencil",color:"violet",onClick:()=>N(c),loading:o}),e(R,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>f(c),loading:o})]})]}),tabIndex:l,children:r("div",{className:"w-full overflow-y-auto",children:[r("div",{className:"font-bold my-2",children:[" ",c.procedimentoEnsino.nome]}),r("div",{className:" grid grid-cols-3 gap-1",children:[m("SD (est\xEDmulo discriminativo)",c.estimuloDiscriminativo),m("Resposta",c.resposta),m("SR+ (est\xEDmulo refor\xE7ador positivo))",c.estimuloReforcadorPositivo)]}),e("div",{className:"my-2",children:c.metas.map((F,E)=>r("div",{children:[r("span",{className:"flex align-items-center gap-2 w-full font-inter",children:["Meta ",E+1,": ",F.value]}),e("ul",{className:"list-disc	ml-8 font-inter",children:F.subitems.length&&F.subitems.map((z,S)=>r("li",{children:[" ",z.value," "]},S))})]},E))})]})},l))})}):r(K,{children:[" ",e(we,{})," "]}),x=async({pacienteId:c})=>{p(!0);try{const{data:l}=await ce("pei",{paciente:c});g(l)}catch{g([]),t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}p(!1)},C=()=>e(Ge,{id:"form-filter-pei",legend:"Filtro",nameButton:"Cadastrar",fields:Rt,dropdown:h,onSubmit:c=>x(c),onReset:()=>g([]),screen:"PEI",loading:o,onInclude:()=>s(`/${se.PEICADASTRO}`),defaultValues:n}),d=a.exports.useCallback(async()=>{const[c]=await Promise.all([xe("paciente")]);u({paciente:c})},[]);return a.exports.useEffect(()=>{n&&x(n),d()},[]),r("div",{children:[C(),v()]})},zt=bs,Vs={};zt.forEach(t=>Vs[t.id]="");function Ot({paciente:t}){const s={pacienteId:"",procedimentoEnsinoId:"",programaId:"",estimuloDiscriminativo:"",resposta:"",estimuloReforcadorPositivo:""},i={labelText:"Meta",labelFor:"meta",id:"meta-0",name:"meta",type:"input-add",customCol:"col-span-5 sm:col-span-5",buttonAdd:!0,subitems:[]},n={labelText:"Item",labelFor:"item",id:"item-0",name:"item",type:"input-add",customCol:"col-span-5 sm:col-span-5",buttonAdd:!0},[o,p]=a.exports.useState(!1),[h,u]=a.exports.useState([]),[w,g]=a.exports.useState([]),N=Se(),f=ve(),{renderToast:m}=J(),{hasPermition:v}=ke(),{state:x}=N,{handleSubmit:C,formState:{errors:d},setValue:c,control:l,reset:F,watch:E}=Ee({defaultValues:s}),z=a.exports.useCallback(async()=>{const[b,k]=await Promise.all([xe("programa"),xe("pei/procedimento-ensino")]);u({programa:b,procedimentoEnsino:k})},[]),S=async b=>{b.pacienteId=t,p(!0);try{const k={metas:[]};Object.keys(b).map((A,U)=>{if(A.includes("-meta-")&&!A.includes("-sub-item-")){const pe=A.match(/\d+/),ue=A.match(/(\d+)$/),M=Number(pe[0]),_=Number(ue[0]),Y=[];Object.keys(b).map((G,P)=>{G.includes(`${M}-meta-${_}-sub-item-`)&&Y.push({...n,id:G,value:b[G]})}),k.metas.push({...i,id:A,subitems:Y,value:b[A]})}else A.includes("Id")?k[A]=b[A].id:!A.includes("-meta-")&&!A.includes("-sub-item-")&&!A.includes("Id")&&(k[A]=b[A])}),Boolean(x)&&(k.id=x.id),Boolean(x)?await Le("pei",k):await Ie("pei",k),f(`/${se.PEI}`,{state:{pacienteId:b.pacienteId}}),F(),p(!1),g([]),m({type:"success",title:"Sucesso!",message:"PEI Cadastrado.",open:!0})}catch{p(!1),m({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},B=()=>{const b=[...w],k=E("programaId");i.id=`${k.id}-meta-${b.length}`,b.push(i),g(b)},$=b=>{const k=[...w];c(k[b].id,void 0),k.splice(b,1),g(k)},j=(b,k)=>{const A=[...w],U=A[b].subitems[k];A[b].subitems.splice(k,1),c(U.id,void 0),g(A)},V=b=>{var U;const k=[...w],A=(U=k[b])!=null&&U.subitems?[...k[b].subitems]:[];k[b].id,n.id=`${k[b].id}-sub-item-${A.length}`,A.push(n),k[b].subitems=A,g(k)};return a.exports.useEffect(()=>{if(Boolean(x)){const{paciente:b,programa:k,estimuloDiscriminativo:A,resposta:U,estimuloReforcadorPositivo:pe,metas:ue,procedimentoEnsino:M}=x;c("pacienteId",b),c("programaId",k),c("procedimentoEnsinoId",M),c("estimuloDiscriminativo",A),c("resposta",U),c("estimuloReforcadorPositivo",pe),g(ue),ue.map(_=>{c(_.id,_.value),_.subitems&&_.subitems.map(Y=>c(Y.id,Y.value))})}},[]),a.exports.useEffect(()=>{z()},[]),e("form",{className:"mt-8 space-y-6 ",onSubmit:C(S),children:r("div",{className:"h-[90vh] flex flex-col overflow-y-auto",children:[zt.map(b=>e("div",{children:v(b.permission)?e(ae,{labelText:b.labelText,id:b.id,type:b.type,customCol:b.customCol,control:l,options:b.type==="select"?h[b.name]:void 0,buttonAdd:b.buttonAdd},b.id):null})),r("div",{className:"mt-8",children:[r("div",{className:"text-gray-400 font-inter flex  justify-between m-2 leading-4",children:[e("span",{className:"font-bold",children:" METAS "}),e(R,{text:"Add Meta",icon:"pi pi-plus",type:"primary",size:"sm",onClick:()=>B(),typeButton:"button"})]}),w.map((b,k)=>r(Xt,{legend:`${b.labelText} ${k+1}`,className:"mb-2",toggleable:!0,children:[e("div",{className:"text-gray-400 font-inter flex  justify-end ",children:e(R,{text:"Add subitem",icon:"pi pi-plus",type:"primary",size:"sm",onClick:()=>V(k),typeButton:"button"})}),e(ae,{labelText:"Decri\xE7\xE3o",id:b.id,type:"input-add",customCol:"col-span-6 sm:col-span-6",control:l,options:void 0,onClick:()=>$(k)},b.id),(b==null?void 0:b.subitems)&&(b==null?void 0:b.subitems.map((A,U)=>e(ae,{labelText:`Item ${U+1}`,id:A.id,type:"input-add",customCol:"col-span-6 sm:col-span-6",control:l,options:void 0,onClick:()=>j(k,U)},A.id)))]}))]}),e("div",{className:"mt-auto",children:e(R,{text:"Salvar",type:"primary",size:"full",onClick:C(S),loading:o})})]})})}const Mt=Ft,Ys={};Mt.forEach(t=>Ys[t.id]="");function Us(){const[t,s]=a.exports.useState(!1),[i,n]=a.exports.useState([]),[o,p]=a.exports.useState({});a.exports.useState(0);const{renderToast:h}=J();ve();const u=async({pacienteId:m})=>{s(!0);try{const v=await ge(`sessao/atividade/${m.id}`);p(v)}catch{p([]),h({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}s(!1)},w=()=>e(Ge,{id:"form-filter-pei",legend:"Filtro",nameButton:"Cadastrar",fields:Mt,dropdown:i,onSubmit:m=>u(m),onReset:()=>p([]),screen:"PEI",loading:t}),g=(m,v)=>m.dias[v]?r("div",{className:"grid grid-rows-3 justify-center",children:[e("div",{className:"flex justify-center",children:m.dias[v].data}),r("div",{className:"flex gap-2 justify-center",children:[e("div",{className:de("flex justify-center items-center font-inter font-light rounded-full w-4 h-4",{"bg-green-400  text-white":m.dias[v].primeiraResposta}),children:"S"}),e("div",{className:de("flex justify-center items-center font-inter font-light rounded-full w-4 h-4",{"bg-red-400  text-white":!m.dias[v].primeiraResposta}),children:"N"})]}),r("div",{className:"flex justify-center",children:[m.dias[v].porcentagem,"%"]})]}):"-",N=()=>t?e(qe,{}):o.length?e(K,{children:e(le,{children:o.map((m,v)=>e(ie,{tabIndex:v,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:m.programa})}),children:r(Zt,{value:m.children,scrollable:!0,children:[e(Qe,{field:"programa",header:"Programa",style:{width:"25%"}}),Array.from({length:m.qtdColumns}).map((x,C)=>e(Qe,{body:d=>g(d,C)}))]})},v))})}):r(K,{children:[" ",e(we,{})," "]}),f=a.exports.useCallback(async()=>{const[m]=await Promise.all([xe("paciente")]);n({paciente:m})},[]);return a.exports.useEffect(()=>{f()},[]),r("div",{children:[w(),N()]})}var te=(t=>(t[t.portage=1]="portage",t[t.vbMapp=2]="vbMapp",t[t.pei=3]="pei",t))(te||{}),Z=(t=>(t.sim="1",t.asVezes="0.5",t.nao="0",t))(Z||{}),Ye=(t=>(t.socializacao="Socializa\xE7\xE3o",t.cognicao="Cogni\xE7\xE3o",t))(Ye||{}),Ue=(t=>(t[t.um=1]="um",t[t.dois=2]="dois",t[t.tres=3]="tres",t))(Ue||{});const Bt=({onChange:t,value:s,disabled:i})=>{const[n,o]=a.exports.useState(s),p=[{value:Z.sim,icon:r("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#672D74"}),e("path",{transform:"translate(825,261)",d:"m0 0h20l29 2 27 4 21 5 20 7 20 9 16 8 22 13 19 13 11 9 10 9 15 15 13 17 10 16 8 16 6 19 2 13v11l-2 16-5 16-7 16-12 20-10 13-17 17-15 10-15 8-15 5-16 3h-14l-17-3-10-4-12-9-8-10-8-16-7-20-9-27-6-8-8-4-13-2-12 3-11 6-8 7-8 13-5 14-2 18 1 15 5 15 9 16 11 14 11 12 8 8 11 9 14 11 19 14 33 22 15 11 34 24 17 13 14 12 12 11 16 16 9 11 10 12 13 19 8 13 12 23 10 22 9 28 6 25 4 28 1 19v16l-2 23-5 28-5 19-7 20-9 20-10 19-9 14-10 14-10 13-10 11-7 8-12 12-11 9-10 8-14 10-14 9-17 10-23 12-25 10-22 7-26 6-23 3-17 1h-21l-20-1-29-4-24-5-28-7-29-10-26-11-22-10-23-13-18-12-10-8-13-11-9-9-6-5-7-8-11-13-11-17-12-23-7-19-4-20v-20l3-15 5-16 7-14 9-14 9-11 10-10 10-7 12-5 9 1 18 6 37 17 27 13 25 10 22 6 13 2h21l14-3 10-5 6-5 9-12 4-12v-15l-4-15-10-19-10-13-14-14-14-11-17-13-14-10-34-23-15-11-18-14-12-11-8-7-13-14-11-14-8-10-10-15-11-19-9-17-11-26-8-24-7-26-5-28-1-11v-43l5-33 7-28 11-29 8-17 11-19 12-17 8-10 7-9 9-10 22-22 13-10 14-10 17-11 18-10 22-10 35-12 24-6 23-4 19-2z",fill:"#FDFDFD"})]})},{value:Z.asVezes,icon:r("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D76"}),e("path",{transform:"translate(409,197)",d:"m0 0h43l30 3 24 4 21 6 21 9 18 10 20 13 10 8 14 12 11 11 9 11 11 14 11 16 12 19 9 16 12 23 16 35 11 27 10 26 12 34 13 38 14 43 12 38 16 55 10 38 10 44 7 37 8 49 5 40 2 24v49l-3 30-5 30-5 19-9 24-8 15-14 20-10 10-14 11-18 10-20 7-25 5-21 2h-19l-22-3-21-6-16-8-12-8-12-11-11-15-9-16-10-25-6-21-5-20-2-3-41 6-31 6-31 7-3 1 1 9 6 19 3 17 1 12v12l-1 16-5 23-8 20-8 15-12 16-10 11-17 12-16 8-19 6-25 5-8 1h-21l-20-3-25-7-21-9-15-9-14-11-12-12-9-11-11-15-14-24-12-26-11-30-8-27-7-29-6-31-6-43-3-32-2-39v-56l2-43 5-57 6-58 6-42 9-53 8-40 16-64 12-36 10-25 13-29 12-22 9-14 8-12 12-16 11-13 11-12 13-13 14-11 10-7 18-11 16-8 21-8 23-6 21-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(985,196)",d:"m0 0h23l23 3 19 5 15 6 13 7 12 9 12 11 11 13 8 13 7 14 6 18 4 17 4 29 3 35 1 19 1 48v111l-2 49v27l1 1-1 10v5h3l3-12 6-23 10-50 17-77 16-63 16-50 8-22 11-26 10-19 11-18 8-11 8-10 11-12 14-13 20-13 17-8 23-6 18-3h29l30 4 23 5 18 6 21 10 18 11 14 11 11 10 9 11 10 14 11 21 7 19 4 17 2 14v45l-5 32-7 31-10 38-12 38-15 42-12 30-15 36-16 36-16 34-9 20-21 42-10 19-19 37-12 22-13 24-12 22-15 27-14 25-10 17-11 19-14 24-11 18-12 18-11 15-12 14-14 14-10 8-15 11-21 12-25 10-21 6-19 4-9 1h-28l-27-4-30-7-30-10-17-8-19-11-14-10-11-9-12-11-7-8-12-14-14-20-9-15-10-18-10-22-8-20-12-36-13-44-7-33-10-59-6-45-8-68-3-35-2-31v-75l3-56 6-69 4-37 4-24 9-36 8-24 8-16 9-15 11-14 10-11 11-9 13-10 16-9 14-6 17-5 17-3z",fill:"#FEFEFE"}),e("path",{transform:"translate(408,451)",d:"m0 0h6l6 4 4 6 8 28 10 43 7 35 10 56 6 36 11 80 1 8v9l-4 2-54 7h-14l-2-11-4-74-1-27-1-58v-36l1-60 1-26 2-13 3-6z",fill:"#682D76"})]})},{value:Z.nao,icon:r("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#672C74"}),e("path",{transform:"translate(997,295)",d:"m0 0h20l24 3 19 5 16 7 12 7 14 10 10 10 9 12 11 17 11 24 5 15 6 25 6 37 6 59 5 61 4 71 2 43 2 79v72l-1 45-2 42-4 46-7 51-6 34-8 33-12 36-9 21-10 18-16 23-18 18-16 10-14 7-20 6-19 3h-20l-20-3-15-4-16-6-17-9-15-11-12-11-8-8-9-11-14-19-13-22-12-23-14-29-14-34-24-64-15-44-15-42-12-36-5-10-2-1 6 29 5 33 4 36 2 40v68l-2 28-4 28-6 27-7 22-7 17-10 18-10 14-14 15-11 8-14 7-15 5-16 2h-18l-21-2-21-5-21-9-15-9-10-8-9-8-7-8-10-13-8-13-10-19-9-25-7-25-8-38-5-31-5-49-3-51-1-36v-61l2-97 3-71 5-69 6-65 5-37 7-30 10-27 10-19 8-14 12-16 9-11 11-12 13-12 13-10 14-9 25-12 14-4 15-3 9-1h22l19 3 18 6 15 8 14 10 15 13 9 9 9 11 11 14 11 16 10 17 13 24 11 23 15 34 13 32 14 43 14 49 9 33 15 45 3 2-7-32-7-46-7-47-8-46-5-46-3-41v-30l3-26 6-22 8-16 10-17 9-11 14-14 12-9 18-10 14-5 19-4z",fill:"#FEFEFE"})]})}];return e(Ke,{value:n,defaultValue:s,options:p,onChange:u=>(t(u.value),o(u.value)),optionLabel:"value",optionValue:"value",iconTemplate:({option:u})=>u==null?void 0:u.icon,className:"w-8 h-8",disabled:i})},Ks=t=>{const s=new ut,i=xt;s.addImage(i,"PNG",15,10,50,20),s.setFontSize(9),s.text("Cel: (11) 97271-6993 \u2022 E-mail: alcance.nt@yahoo.com",15,35),s.text("CNPJ: 37.999.009/0001-68",15,40),s.setFontSize(12),s.setFont("Helvetica","bold"),s.text("RELAT\xD3RIO DE INTERVEN\xC7\xC3O ABA INDIVIDUALIZADO \u2013 EVOLU\xC7\xC3O 1",15,55),s.setFontSize(9),s.setFont("Helvetica","normal"),s.text("* Confidencial conforme \xE9tica profissional, n\xE3o possui fins jur\xEDdicos e todos os dados obtidos devem ser considerados relativos ao atual momento desta avalia\xE7\xE3o e consequentemente do desenvolvimento da crian\xE7a.",15,60,{maxWidth:180}),s.setFontSize(10),s.setFont("Helvetica","bold"),s.text("Interessados:",15,75),s.setFont("Helvetica","normal"),s.text("- Aos Pais , aplicadores e m\xE9dica neuropediatra",45,75),s.setFont("Helvetica","bold"),s.text("DADOS DE IDENTIFICA\xC7\xC3O:",15,85),s.setFont("Helvetica","normal"),s.text(`Nome: ${t.paciente.nome}`,15,90),s.text(`Data de Nascimento: ${t.paciente.dataNascimento}`,110,90),s.setFont("Helvetica","bold"),s.text("Resultados das \xE1reas reavaliadas:",15,100),s.setFont("Helvetica","italic"),s.text("- Desenvolvimento Infantil: Reaplicada a Escala de Desenvolvimento Infantil Portage:",15,105),Fe(s,{head:[["Socializa\xE7\xE3o"]],theme:"plain",styles:{fontSize:12,fontStyle:"bold",halign:"center"},startY:115}),Fe(s,{head:[t.headers],body:t.Socializacao,startY:s.lastAutoTable.finalY+5,styles:{fontSize:10,halign:"center"},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{0:{halign:"center"},1:{halign:"center"},2:{halign:"center"}}}),Fe(s,{head:[["Cogni\xE7\xE3o"]],theme:"plain",styles:{fontSize:12,fontStyle:"bold",halign:"center"},startY:s.lastAutoTable.finalY+10}),Fe(s,{head:[t.headers],body:t.Cognicao,startY:s.lastAutoTable.finalY+5,styles:{fontSize:10},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{0:{halign:"center"},1:{halign:"center"},2:{halign:"center"}}}),window.open(s.output("bloburl"))};function Hs({paciente:t}){const[s,i]=a.exports.useState(!1),[n,o]=a.exports.useState({}),[p,h]=a.exports.useState([]),{renderToast:u}=J(),[w,g]=a.exports.useState(!1),N=async()=>{const{data:E}=await ce("protocolo",{pacienteId:t.id,protocoloId:te.portage,type:"pdf"});E?await f(E):(i(!1),u({type:"failure",title:"Erro!",message:"N\xE3o existe Portage cadastrado no momento!",open:!0}))},f=async E=>{Ks(E)},m=async()=>{const{data:E}=await ce("protocolo",{pacienteId:t.id,protocoloId:te.portage,type:"local"});E?(g(!0),o(E.portage)):(g(!1),v())},v=a.exports.useCallback(async()=>{try{const E=await xe("protocolo/portage");o(E)}catch(E){console.error("Error fetching dropdown data",E)}},[]),x=(E,z,S,B=void 0)=>{const $={...n};if($[E]&&$[E][z]){const j=$[E][z],V=j.findIndex(b=>b.id===S);if(V!==-1){if(B!==void 0)j[V].selected=B;else{let b=j[V].selected||null,k;b===Z.sim?k=Z.asVezes:b===Z.asVezes?k=Z.nao:b===Z.nao?k=null:k=Z.sim,j[V].selected=k}o($)}}},C=async()=>{i(!0);const E={pacienteId:t,portage:n};try{await Ie("protocolo/portage",E),g(!0),u({type:"success",title:"Sucesso!",message:"Portage Cadastrado.",open:!0})}catch(z){console.error("Error saving form data",z),u({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}finally{i(!1)}},d=(E,z,S)=>{const B=S.selected||null;return e(Bt,{value:B,onChange:$=>x(E,z,S.id,$)},S.id)},c=E=>e("div",{className:"mt-8",children:(n==null?void 0:n[E])&&r("div",{className:"",children:[e("span",{className:"col-span-12 text-gray-400 font-inter leading-4 mb-2",children:E}),e(lt,{children:Object.keys(n[E]).map(z=>e(it,{className:"mb-2",tabIndex:z,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:z})}),children:r(ct,{id:"portage-page",value:n[E][z],selection:p,responsiveLayout:"scroll",dataKey:"id",tableStyle:{minWidth:"none"},children:[e(Pe,{body:S=>d(E,z,S),bodyStyle:{padding:".1rem"}}),e(Pe,{field:"nome",header:"",bodyStyle:{wordBreak:"break-word",padding:".1rem"}})]})},z))})]})}),l=()=>w&&e("div",{className:"mt-auto",children:e(R,{text:"Gerar Relat\xF3rio",type:"primary",size:"full",icon:"pi pi-file-pdf",onClick:N,loading:s,typeButton:"button"})}),F=()=>e("div",{className:"mt-auto",children:e(R,{text:"Salvar",type:"primary",size:"full",onClick:C,loading:s})});return a.exports.useEffect(()=>{m()},[t]),r("div",{className:"mt-8 space-y-6",children:[l(),c(Ye.socializacao),c(Ye.cognicao),F()]})}const Gs="#03ae4e",qs="#0071bd",Ws="#e36b05",Js="#d9d9d9",Be="#ffffff",$e="#000000",Qs=t=>{const s=new ut,i=s.internal.pageSize.width,n=15,o=10,p=6,h=2,u=10;let w=20;const g=f=>f===1?Ws:f===2?Gs:f===3?qs:Be;Object.keys(t).map(Number).sort((f,m)=>m-f).forEach(f=>{const m=Object.keys(t[f]);w+=15,s.setFontSize(14),s.text(`N\xEDvel ${f}`,i/2,w,{align:"center"}),w+=5;const v=m.reduce((C,d)=>{const c=Object.keys(t[f][d]).length;return C+c*n+h*(c-1)+20},-20);let x=(i-v)/2;m.forEach(C=>{const d=Object.keys(t[f][C]);s.setFontSize(10),s.text(C,x+d.length*n/2,w,{align:"center"});const c=w+2;d.forEach((l,F)=>{const E=x+F*n;s.setFillColor(Js),s.rect(E,c,n,o,"F"),s.setTextColor($e),s.setFontSize(8),s.setDrawColor($e),s.setLineWidth(.2),s.rect(E,c,n,o),s.text(l.toUpperCase(),E+n/2,c+o/2+2,{align:"center"})});for(let l=0;l<u;l++)d.forEach((F,E)=>{const S=Object.keys(t[f][C][F])[l],B=S?t[f][C][F][S].percentual:0,$=g(f),j=x+E*n,V=c+o+l*p;B===100?(s.setFillColor($),s.rect(j,V,n,p,"F")):B===50?(s.setFillColor($),s.rect(j,V+p/2,n,p/2,"F"),s.setFillColor(Be),s.rect(j,V,n,p/2,"F")):(s.setFillColor(Be),s.rect(j,V,n,p,"F")),s.setDrawColor($e),s.setLineWidth(.2),s.rect(j,V,n,p)});x+=d.length*n+20}),w+=o+u*h+40}),window.open(s.output("bloburl"))};function Xs({paciente:t}){const[s,i]=a.exports.useState(!1),[n,o]=a.exports.useState({}),[p,h]=a.exports.useState([]),{renderToast:u}=J(),[w,g]=a.exports.useState(Ue.um),[N,f]=a.exports.useState(Ue.um-1),[m,v]=a.exports.useState(!1),x=a.exports.useCallback(async()=>{try{const{data:S}=await ce("protocolo",{pacienteId:t.id,protocoloId:te.vbMapp,type:"pdf"});S?await Qs(S):(i(!1),u({type:"failure",title:"Erro!",message:"N\xE3o existe Portage cadastrado no momento!",open:!0}))}catch(S){console.error("Erro ao gerar PDF",S)}},[t.id,u]),C=a.exports.useCallback(async(S=w)=>{const{data:B}=await ce("protocolo",{pacienteId:t.id,protocoloId:te.vbMapp,nivel:S});o(B.data),v(B.existeResposta)},[w,t.id]),d=a.exports.useCallback(async()=>{i(!0);const S={pacienteId:t.id,vbmapp:n};try{await Ie("protocolo/vbmapp",S),v(!0),u({type:"success",title:"Sucesso!",message:"VB Mapp Cadastrado.",open:!0})}catch(B){console.error("Error saving form data",B),u({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}finally{i(!1)}},[n,t.id,u]),c=a.exports.useCallback(S=>{g(S.index+1),f(S.index),C(S.index+1)},[C]),l=a.exports.useCallback((S,B)=>{const $=S.selected||null;return e(Bt,{value:$,onChange:j=>{S.selected=j}},S.id)},[]),F=a.exports.useCallback(()=>e("div",{className:"mt-8",children:Object.keys(n).length>0?e(lt,{children:Object.keys(n).map((S,B)=>e(it,{className:"mb-2",tabIndex:B,header:e("div",{className:"flex items-center w-full",children:e("span",{children:S})}),children:r(ct,{id:"vbmapp-page",value:n[S],selection:p,responsiveLayout:"scroll",dataKey:"id",tableStyle:{minWidth:"none"},children:[e(Pe,{body:$=>l($,S),bodyStyle:{padding:".1rem"}}),e(Pe,{field:"nome",header:"",bodyStyle:{wordBreak:"break-word",padding:".1rem"}})]})},B))}):e(we,{})}),[n,l]),E=a.exports.useCallback(()=>m&&e("div",{className:"mt-auto",children:e(R,{text:"Gerar Relat\xF3rio",type:"primary",size:"full",icon:"pi pi-file-pdf",onClick:x,loading:s,typeButton:"button"})}),[m,x,s]),z=a.exports.useCallback(()=>e("div",{className:"mt-auto",children:e(R,{text:"Salvar",type:"primary",size:"full",onClick:d,loading:s})}),[d,s]);return a.exports.useEffect(()=>{C()},[t,C]),r("div",{className:"mt-8 space-y-6",children:[E(),r(es,{activeIndex:N,onTabChange:c,children:[e(ze,{header:"N\xEDvel 1",children:F()}),e(ze,{header:"N\xEDvel 2",children:F()}),e(ze,{header:"N\xEDvel 3",children:F()})]}),z()]})}const Zs=ws,en={};Zs.forEach(t=>en[t.id]="");const ot={id:"",nome:""};function tn(){const{hasPermition:t}=ke();a.exports.useState(!1);const[s,i]=a.exports.useState([]),{handleSubmit:n,control:o,watch:p}=Ee({defaultValues:{protocoloId:ot,pacienteId:ot}}),h=p("protocoloId"),u=p("pacienteId"),w=a.exports.useCallback(async()=>{const[g,N]=await Promise.all([xe("paciente"),xe("protocolo")]);i({paciente:g,protocolo:N})},[]);return a.exports.useEffect(()=>{w()},[]),r("form",{className:"mt-8",onSubmit:()=>{},children:[t("PEI_FILTRO_BOTAO_CADASTRAR")?e(ae,{labelText:"Paciente",id:"pacienteId",type:"select",customCol:"col-span-6 sm:col-span-6",control:o,options:s.paciente},"pacienteId"):null,t("PEI_FILTRO_BOTAO_CADASTRAR")?e(ae,{labelText:"Protocolo",id:"protocoloId",type:"select",customCol:"col-span-6 sm:col-span-6",control:o,options:s.protocolo,disabled:!(u!=null&&u.nome.length)},"protocoloId"):null,(h==null?void 0:h.id)&&h.id===te.portage&&(u==null?void 0:u.id)&&e(Hs,{paciente:u}),(h==null?void 0:h.id)&&h.id===te.pei&&(u==null?void 0:u.id)&&e(Ot,{paciente:u}),(h==null?void 0:h.id)&&h.id===te.vbMapp&&(u==null?void 0:u.id)&&e(Xs,{paciente:u})]})}function sn(){const{renderToast:t}=J(),s=ve(),i=Se(),{state:n}=i,[o,p]=a.exports.useState(!1),[h,u]=a.exports.useState([]),[w,g]=a.exports.useState(!1),[N,f]=a.exports.useState([]),[m,v]=a.exports.useState({}),[x,C]=a.exports.useState([]),[d,c]=a.exports.useState({}),[l,F]=a.exports.useState([]),[E,z]=a.exports.useState({}),[S,B]=a.exports.useState([]),[$,j]=a.exports.useState({}),V=M=>{let _=[];return M.forEach(Y=>{_.push(Y.key),Y.children&&(_=N.concat(V(Y.children)))}),_};a.exports.useMemo(async()=>{p(!0);try{const M=n.paciente,[_,Y,{data:G},P]=await Promise.all([ce("protocolo/meta",{pacienteId:M.id,protocoloId:te.vbMapp}),ce("protocolo/meta",{pacienteId:M.id,protocoloId:te.portage}),ce("pei",{paciente:M}),ge(`pei/activity-session/${n.id}`)]),me=G,oe=Y.data,ne=_.data,ye=[],Te=Boolean(P==null?void 0:P.maintenance)&&typeof(P==null?void 0:P.maintenance)=="object"?V(P.maintenance):[];if(me.map(Q=>{const he=[];Q.metas.map(be=>{const De=be.subitems.reduce((y,I)=>(Te.includes(I.id)||y.push({key:I.id,label:I.value,data:I.id}),y),[]);De.length&&he.push({key:be.id,label:be.value,data:be.id,children:De})}),he.length&&ye.push({key:Q.id,label:Q.programa.nome,data:Q.id,children:he})}),oe&&oe.length>0&&(F(oe),z(P==null?void 0:P.selectedPortageKeys)),ne&&ne.length>0&&(B(ne),j(P==null?void 0:P.selectedVbMappKeys)),P&&Object.values(P).length>0){const Q=P.selectedKeys,he=Object.keys(Q);g(Boolean(Q)),v(Q),f(he),P.maintenance&&C(P.maintenance),Object.values(P.selectedMaintenanceKeys).length&&c(P.selectedMaintenanceKeys)}u(ye)}catch{t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}p(!1)},[]);const b=async()=>{p(!0);try{const M=[];h.map((G,P)=>{const me=[];G.children.map(oe=>{const ne=oe.children.filter(ye=>N.includes(ye.key));ne.length&&me.push({...oe,children:ne})}),me.length&&M.push({...G,children:me})});const _=M.map(G=>G.key),Y={calendarioId:n.id,peisIds:_,pacienteId:n.paciente.id,atividades:M,selectedKeys:m,maintenance:x,selectedMaintenanceKeys:d,selectedPortageKeys:E,portage:l,selectedVbMappKeys:$,vbmapp:S};w?(Y.id=n.id,await Le("pei/activity-session",Y)):await Ie("pei/activity-session",Y),t({type:"success",title:"200",message:"Cadastrado com sucesso!",open:!0}),s(`/${se.CALENDAR}`)}catch{t({type:"failure",title:"401",message:"Falha ao cadastrar!",open:!0})}p(!1)},k=a.exports.useMemo(()=>e(We,{start:n.data.start,end:n.data.end,statusEventos:n.statusEventos.nome,title:n.title,localidade:n.localidade.nome,isExterno:n.isExterno,km:n.km,modalidade:n.modalidade.nome,dataInicio:n.dataInicio,dataFim:n.dataFim,dataAtual:n.dataAtual}),[]),A=()=>e("div",{className:"grid gap-2 mt-8",children:h.length?r("div",{children:[e("div",{className:"text-gray-400",children:" Selecione os programas para sess\xE3o"}),e(Oe,{value:h,selectionMode:"checkbox",selectionKeys:m,onSelectionChange:async M=>{v(M.value);const _=await Object.keys(M.value);f(_)},className:"w-full md:w-30rem"})]}):r("div",{className:"grid gap-4 justify-center",children:[e(we,{}),e(R,{text:"Cadastrar PEI",icon:"pi pi-book",type:"primary",color:"white",size:"sm",onClick:()=>s(`/${se.PEICADASTRO}`)})]})}),U=()=>!!l.length&&r("div",{className:"grid gap-2 mt-8",children:[e("div",{className:"text-gray-400",children:" Portage "}),e(Oe,{value:l,selectionMode:"checkbox",selectionKeys:E,onSelectionChange:async M=>{z(M.value)},className:"w-full md:w-30rem"})]}),pe=()=>!!S.length&&r("div",{className:"grid gap-2 mt-8",children:[e("div",{className:"text-gray-400",children:" Vb Mapp "}),e(Oe,{value:S,selectionMode:"checkbox",selectionKeys:$,onSelectionChange:async M=>{j(M.value)},className:"w-full md:w-30rem"})]}),ue=()=>e("div",{className:" mt-8",children:e(R,{text:"Salvar",type:"primary",size:"full",onClick:()=>b(),loading:o,typeButton:"button"})});return a.exports.useEffect(()=>{},[]),r("div",{className:"h-[90vh] flex flex-col overflow-y-auto",children:[k,pe(),U(),A(),ue()]})}var se=(t=>(t.HOME="home",t.CRUD="cadastro",t.CALENDAR="agenda",t.SESSION="session",t.DTT="dtt",t.PEI="pei",t.PEICADASTRO="pei-cadastro",t.METAS="metas",t.PRIMEIRARESPOSTA="primeira-resposta",t.PROTOCOLO="protocolo",t))(se||{});const $t=[{path:"*",componentRoute:nt,icon:"",menu:!1},{path:"session",componentRoute:$s,icon:"",menu:!1},{path:"dtt",componentRoute:Ve,icon:"",menu:!1},{path:"metas",componentRoute:sn,icon:"",menu:!1},{path:"home",componentRoute:nt,icon:"pi pi-home",menu:!0},{path:"pei",componentRoute:_s,icon:"pi pi-book",menu:!0},{path:"protocolo",componentRoute:tn,icon:"pi pi-book",menu:!0},{path:"pei-cadastro",componentRoute:Ot,icon:"",menu:!1},{path:"agenda",componentRoute:Ms,icon:"pi pi-calendar",menu:!0},{path:"primeira-resposta",componentRoute:Us,icon:"pi pi-check-square",menu:!0}],nn=()=>r("div",{className:"min-h-full overflow-hidden bg-background h-screen w-full",children:[e(Rs,{}),e("main",{className:"mt-14",children:e(pt,{children:$t.map((s,i)=>e(je,{path:s.path,element:e(Ls,{children:e(s.componentRoute,{})})},i))})})]});function an(){const{signed:t}=Ae();return t?e(dt,{children:e(ps,{children:e(Ts,{children:e(nn,{})})})}):e(Ps,{})}function rn(){return e("div",{className:"App",children:e(ms,{children:e(hs,{children:e(an,{})})})})}Vt.createRoot(document.getElementById("root")).render(e(_t.StrictMode,{children:e(rn,{})}));
