import{r as c,R as nt}from"./react.4862a0f1.js";import{c as it}from"./react-dom.cfdd12ce.js";import{a as lt}from"./axios.d349c3b3.js";import{h as Z}from"./moment.9709ab41.js";import{j as e,a as r,F as O,T as ct,I as dt,C as pt,b as ut,c as mt,L as ht,M as xt,D as ft,d as gt,e as yt,A as Ee,f as Ie,g as vt,h as Oe,m as ge,o as ye,i as bt,k as wt,l as ve,n as Nt,p as kt,q as be,S as Ct,K as St}from"./primereact.eca99ec1.js";import{B as Le,N as Pt}from"./react-router-dom.556fd32e.js";import{c as B}from"./clsx.09c75e33.js";import{L as At}from"./react-lottie-player.b67522cb.js";import{C as $,u as K}from"./react-hook-form.a51e561e.js";import{e as Te,f as W,d as ue,c as se}from"./react-router.7e3f0952.js";import{v as we}from"./uuid.1b90e2d5.js";/* empty css                   */import"./fast-deep-equal.aae8ee5f.js";import"./scheduler.2450001e.js";import"./form-data.d1f94bc2.js";import"./react-transition-group.f71b1730.js";import"./@babel.4f1e7424.js";import"./dom-helpers.2a8a4335.js";import"./@remix-run.7ba39c5a.js";import"./lottie-web.1f2cebb8.js";import"./rfdc.0929fce7.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const p of n)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(n){const p={};return n.integrity&&(p.integrity=n.integrity),n.referrerpolicy&&(p.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?p.credentials="include":n.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function l(n){if(n.ep)return;n.ep=!0;const p=o(n);fetch(n.href,p)}})();Z.locale("pt-br");const Et={TO:"#ef6c00",FONO:"#f6bf26",PSICO:"#8e24aa",PSICOPEDAG:"#000000"},It={TO:"#ffffff",FONO:"#ffffff",PSICO:"#ffffff",PSICOPEDAG:"#ffffff"},Ne=t=>t.charAt(0).toUpperCase()+t.slice(1),Ot=()=>{setTimeout(()=>{(document.querySelectorAll(".p-multiselect-token")||[]).forEach(s=>{const o=Et[s.textContent.toUpperCase()],l=It[s.textContent.toUpperCase()];s.style.background=o,s.style.color=l})},0)},H=t=>Z(t).format("DD/MM/YYYY"),ke=(t,s)=>{const o=Z(t);return Z(s).diff(o,"weeks")+1},Lt=(t,s)=>Z(new Date(t,s-1,1)).format("YYYY-MM-DD"),Tt=(t,s)=>Z(new Date(t,s,0)).format("YYYY-MM-DD");var De=(t=>(t.mobile="mobile",t.web="web",t))(De||{});const G=lt.create({baseURL:"https://fbuots.hospedagemelastica.com.br",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",device:De.mobile}}),Ce=(t,s)=>{G.interceptors.request.use(async o=>(o.url.endsWith("login")||(o.headers.Authorization=`Bearer ${t}`,o.headers.login=s),o),o=>Promise.reject(o))},ce=async(t,s)=>await G.post(t,s),Re=async(t,s)=>await G.put(t,s),Dt=async t=>await G.delete(`${t}`),M=async t=>{const s=await G(t);return s.status===200?s.data:[]},Rt=async(t,s)=>await G(`${t}/${s}`),Ft=async(t,s,o)=>{const l=o?`?${o}`:"";return await G.post(`${t}/filtro${l}`,s)},$t="developer",Fe=c.exports.createContext({}),zt=({children:t})=>{const{perfil:s}=ee(),[o,l]=c.exports.useState([]),n=m=>{l(m)};c.exports.useMemo(async()=>{const m=sessionStorage.getItem("auth"),w=(m?JSON.parse(m):[]).permissoes||await M("permissao");l(w)},[]),c.exports.useEffect(()=>{o.length},[]);const p=(m="")=>{switch(!0){case!s:throw new Error("Voce n\xE3o tem permissao");case m==="*":return!0;default:return!!(o.length&&o.includes(m.toUpperCase())||s===$t)}};return e(Fe.Provider,{value:{hasPermition:p,perfil:s,permissions:o,setPermissionsLogin:n},children:t})},q=()=>c.exports.useContext(Fe),jt="absolute animate-bounce min-w-[24rem] top-2 right-0 block flex p-4 mb-4 text-sm rounded-lg items-center gap-2 z-[70] ",$e=c.exports.createContext({}),_t=({children:t})=>{const[s,o]=c.exports.useState("hidden"),[l,n]=c.exports.useState(),[p,m]=c.exports.useState(""),[y,w]=c.exports.useState({type:"info",title:"",message:"",open:!1}),h=d=>{switch(d){case"success":n(e("i",{className:"pi pi-check-circle"}));break;case"failure":n(e("i",{className:"pi pi-times-circle"}));break;case"warning":n(e("i",{className:"pi pi-exclamation-circle"}));break;case"info":n(e("i",{className:"pi pi-info-circle"}));break;default:n(e("i",{className:"pi pi-undo"}));break}},b=d=>{switch(d){case"success":m("z-[10000] text-white bg-green-400 rounded-lg  w-24 ");break;case"failure":m("z-[10000] text-white bg-red-400 rounded-lg  w-24");break;case"warning":m("z-[10000] text-white bg-yellow-400 rounded-lg  w-24");break;case"info":m("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break;default:m("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break}},g=({type:d,message:N,title:u,open:a})=>{h(d),b(d),w({type:d,message:N,title:u,open:a}),o(a?"block":"hidden"),setTimeout(()=>{o("hidden")},3e3)};return e($e.Provider,{value:{renderToast:g},children:r(O,{children:[t,r("div",{className:`${jt} ${s} ${p}`,role:"alert",children:[l,r("span",{children:[e("span",{className:"font-medium",children:"   "+y.title})," "+y.message]})]})]})})};function Q(){return c.exports.useContext($e)}const xe=c.exports.createContext({}),Mt=({children:t})=>{const[s,o]=c.exports.useState(),[l,n]=c.exports.useState(""),{setPermissionsLogin:p}=q(),{renderToast:m}=Q();c.exports.useEffect(()=>{const b=sessionStorage.getItem("token"),g=sessionStorage.getItem("auth"),d=sessionStorage.getItem("perfil")||"";if(b&&g){const N=JSON.parse(g);o(N),n(d),Ce(b,N.login)}},[]);const y=async b=>{var g;try{const N=(await G.post("/login",{...b,password:parseInt(b.password)})).data;setTimeout(()=>{h()},8e6);const u=(N==null?void 0:N.user)||N.data,a=(N==null?void 0:N.accessToken)||N.data.accessToken,i=(g=u.perfil)!=null&&g.nome?u.perfil.nome.toLowerCase():u.perfil.toLowerCase();sessionStorage.setItem("token",a),sessionStorage.setItem("auth",JSON.stringify(u)),sessionStorage.setItem("perfil",i),u.permissoes.length&&p&&p(u.permissoes),n(i),o(u),await Ce(a,u.login),m({type:"success",title:" ",message:"Bem vindo!",open:!0})}catch(d){w(d)}},w=b=>{const g=b!=null&&b.data?b==null?void 0:b.data.message:"Usu\xE1rio n\xE3o encontrado!";m({type:"failure",title:b.status,message:g,open:!0})},h=()=>{o(void 0),sessionStorage.clear()};return e(xe.Provider,{value:{signed:Boolean(s),user:s,Login:y,Logout:h,perfil:l},children:t})},ee=()=>c.exports.useContext(xe),Bt="/assets/logo-lg.ee70d40f.jpg";function D({icon:t,size:s="full",type:o="primary",color:l="white",text:n,loading:p,disabled:m=!1,onClick:y}){return e(ct,{disabled:m,icon:t,loading:p,label:s==="icon"?"":n,onClick:y,className:B(" text-white text-sm rounded-md border-none ",{"bg-violet-800 hover:bg-violet-600":o==="primary","bg-yellow-400 hover:bg-violet-800":o==="second","bg-transparent hover:bg-transparent":o==="transparent","text-white":l==="white","text-red-400 hover:text-violet-800 focus:text-violet-600":l==="red","text-green-400 hover:text-violet-800 focus:text-violet-600":l==="green","text-yellow-400 hover:text-violet-800 focus:text-violet-600":l==="yellow","text-violet-800 hover:text-violet-600 focus:text-violet-600":l==="violet","w-full":s==="full","sm:w-2/5 w-full":s==="md"})})}function J({onChange:t,onClick:s,value:o,labelText:l,id:n,type:p,customClass:m,options:y,customCol:w,validate:h,errors:b,control:g,disabled:d,hidden:N,buttonAdd:u}){const a=()=>{switch(p){case"select":return e($,{name:n,control:g,rules:h,render:({field:i})=>e(ft,{value:o||i.value,virtualScrollerOptions:{itemSize:38},options:y,onChange:x=>(t&&t(x.value),i.onChange(x.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:d})});case"multiselect":return e($,{name:n,control:g,rules:h,render:({field:i})=>e(xt,{disabled:d,id:i.id,display:"chip",optionLabel:"nome",filter:!0,value:o||i.value,onChange:x=>{Ot(),t&&t(x.value),i.onChange(x.value)},options:y})});case"list":return e($,{name:n,control:g,rules:h,render:({field:i})=>e(ht,{value:i.value,options:y,onChange:x=>i.onChange(x.value),multiple:!0,filter:!0,optionLabel:"nome",listStyle:{maxHeight:"300px"}})});case"textarea":return e($,{name:n,control:g,rules:h,render:({field:i})=>e("textarea",{id:i.id,...i,value:o||i.value,className:m,placeholder:i.placeholder,disabled:d,rows:"8"})});case"switch":return e($,{name:n,control:g,rules:h,render:({field:i})=>r("div",{className:"grid grid-cols-6 justify-start items-center h-8",children:[r("span",{className:"col-span-4 text-violet-800",children:[" ",l," "]}),e("div",{className:"col-span-2",children:e(mt,{checked:o||i.value,color:"#685ec5",value:o,disabled:d,onChange:x=>{i.onChange(x.target.value),t&&t(x.target.value)}})})]})});case"tel":return e($,{name:n,control:g,rules:h,render:({field:i})=>e(ut,{disabled:d,value:o||i.value,type:p,className:"inputAnimado font-inter font-light"+m,mask:"(99) 9999-9999",onChange:x=>i.onChange(x.value)},i.id)});case"checkbox":return e($,{name:n,control:g,rules:h,render:({field:i})=>r(O,{children:[e(pt,{checked:o,type:p,className:"inputAnimado "+m,onChange:x=>{i.onChange(x.target.checked),t&&t(x.target.checked)}}),r("span",{className:"col-span-4 text-violet-800",children:[" ",l," "]})]})});case"time":return e($,{name:n,control:g,rules:h,render:({field:i})=>c.exports.createElement("input",{id:i.id,...i,value:o||i.value,key:i.id,type:p,className:"inputAnimado font-inter "+m,disabled:d,onInput:x=>{i.onChange(x),t&&t(x)}})});case"price":return e($,{name:n,control:g,rules:h,render:({field:i})=>e("div",{className:"inputAnimado font-inter "+m,id:i.id,children:r("div",{className:"p-inputgroup",children:[e(dt,{value:o||i.value,disabled:d,onInput:x=>{i.onChange(x),t&&t(x)}}),e("span",{className:"p-inputgroup-addon",children:"R$"})]})})});case"date":return e($,{name:n,control:g,rules:h,render:({field:i})=>c.exports.createElement("input",{disabled:d,id:i.id,...i,value:o||i.value,key:i.id,type:p,className:"inputAnimado "+m,autoComplete:"off",min:(h==null?void 0:h.min)&&h.min,onInput:x=>{i.onChange(x),t&&t(x)}})});case"input-add":return r("div",{className:"grid  gap-2 grid-cols-6",children:[e($,{name:n,control:g,rules:h,render:({field:i})=>c.exports.createElement("input",{disabled:d,id:i.id,...i,value:o||i.value,key:i.id,type:p,className:"inputAnimado col-span-5",autoComplete:"off",onInput:x=>{i.onChange(x),t&&t(x)}})}),u?e(D,{text:"Add",icon:"pi pi-plus",type:"primary",size:"icon",onClick:()=>s&&s("add")}):e(D,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>s&&s("remove")})]});default:return e($,{name:n,control:g,rules:h,render:({field:i})=>c.exports.createElement("input",{disabled:d,id:i.id,...i,value:o||i.value,key:i.id,type:p,className:"inputAnimado "+m,autoComplete:"off",onInput:x=>{i.onChange(x),t&&t(x)}})})}};return r("div",{className:B("label-float",{"my-5":!w,hidden:N&&N},w),children:[a(),p!=="switch"&&p!=="checkbox"&&r("label",{children:[" ",l," "]}),b&&b[n]&&e("p",{className:"text-xs text-red-400 text-end",children:b[n].message})]})}function ze({size:t="md",color:s="gray-dark",children:o}){return e("span",{className:B("font-bold",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-black":s==="black"}),children:o})}function V({size:t="md",color:s="gray-dark",text:o,display:l="grid",subtext:n,icon:p,className:m}){return r("div",{className:B("flex gap-4 font-normal tracking-wider text-start items-center text-ellipsis overflow-hidden whitespace-nowrap",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-red-900":s==="red","text-black":s==="black"},m),children:[p&&e("div",{className:"flex items-center",children:e("i",{className:p})}),r("span",{className:l,children:[o,"\xA0",r("strong",{className:"font-inter",children:[" ",n]})]})]})}function Y({children:t,legend:s,customCss:o,onClick:l}){return e("fieldset",{className:`px-2 items-center bg-white   shadow-sm mt-2 ${o}`,onClick:l,children:e("div",{className:"py-4 w-full ",children:t})})}function qt({onSubmit:t,control:s,loading:o}){return r("div",{className:"grid grid-cols-12 items-center gap-1",children:[e(J,{labelText:"Search",id:"search",type:"text",customCol:"col-span-11",control:s}),e("div",{className:"mt-4",children:e(D,{text:"Buscar",icon:"pi pi-search",type:"primary",size:"icon",onClick:t,loading:o})})]})}function Vt({onClick:t,onSubmit:s,textButton:o,iconButton:l,control:n,loading:p,screen:m}){return q(),r("div",{className:"grid grid-cols-8 gap-2 justify-between",children:[e("form",{action:"#",onSubmit:s,className:"col-span-8 sm:col-span-7",children:e(qt,{onSubmit:s,control:n,loading:!!p})}),r("div",{className:"col-span-8 sm:col-span-1",children:[e("div",{className:"sm:hidden ",children:e(D,{text:o,icon:l,type:"primary",size:"full",onClick:t})}),e("div",{className:"hidden sm:block mt-5 text-end",children:e(D,{text:o,icon:l,type:"primary",size:"icon",onClick:t})})]})]})}function Ut({title:t,children:s,open:o,width:l="50vw",onClose:n}){return e(gt,{header:t,modal:!0,visible:o,onHide:n,breakpoints:{"960px":"75vw"},style:{width:l},children:s})}function Gt({title:t,message:s,icon:o,onAccept:l,onReject:n,open:p,onClose:m,rejectLabel:y="N\xE3o",acceptLabel:w="Sim"}){return e(yt,{visible:p,onHide:m,message:s,header:t,icon:o,accept:l,reject:n,acceptLabel:w,rejectLabel:y})}function Yt({id:t,legend:s,fields:o,screen:l,loading:n,nameButton:p,dropdown:m,onSubmit:y,onInclude:w,onReset:h}){const{setValue:b,handleSubmit:g,control:d,reset:N}=K(),{hasPermition:u}=q(),a=()=>{N(),h()},i=x=>{x.devolutiva&&(b("naFila",!0),x.naFila=!0),y(x)};return c.exports.useEffect(()=>{u(`${l}_FILTRO_SELECT_AGENDADOS`)||b("naFila",!0)}),e(Ee,{children:e(Ie,{header:s,tabIndex:0,children:r("form",{id:t,action:"#",onSubmit:g(i),className:"flex-1",children:[e("div",{className:"grid grid-cols-6 gap-4",children:o.map(x=>u(x.permission)&&e(J,{labelText:x.labelText,id:x.id,type:x.type,customCol:x.customCol,control:d,options:x.type==="select"?m[x.name]:void 0},x.id))}),e("div",{className:"flex items-center mt-10 gap-2 justify-between",children:r(O,{children:[w&&u(`${l}_FILTRO_BOTAO_CADASTRAR`)&&e("div",{className:"sm:text-end",children:e(D,{text:p||"Cadastrar",icon:"pi pi-user-plus",type:"primary",size:"sm",onClick:w})}),e("div",{className:"hidden sm:w-2/4 ml-auto sm:grid grid-cols-2 gap-2",children:r(O,{children:[u(`${l}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(D,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"full",onClick:a})}),u(`${l}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(D,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"full",loading:n,onClick:()=>g(i)})})]})}),e("div",{className:"sm:w-2/4 ml-auto grid sm:hidden grid-cols-2 gap-2",children:r(O,{children:[u(`${l}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(D,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"icon",onClick:a})}),u(`${l}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(D,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"icon",loading:n,onClick:()=>g(i)})})]})})]})})]})})})}const Ht="text-sm items-center flex text-white py-2 px-2 rounded-full cursor-not-allowed cursor-pointer opacity-25 disabled:opacity-100 ";function Jt({onClick:t,type:s,disabled:o}){return e("button",{onClick:t,className:B(Ht,{"bg-to":s.toUpperCase()==="TO","bg-fono":s.toUpperCase()==="FONO","bg-psico":s.toUpperCase()==="PSICO","bg-black":s.toUpperCase()==="PSICOPEDAG","bg-motricidade":s.toUpperCase()==="MOTRICIDADE","bg-musicoterapia":s.toUpperCase()==="MUSICOTERAPIA"}),disabled:!o,children:s.toUpperCase()})}function U({size:t="md",color:s="gray-dark",text:o,className:l}){return e("span",{className:B("font-normal tracking-wider",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-black":s==="black"},l),children:o})}function je({onClickEdit:t,onClickTrash:s,onClickReturn:o,positionActions:l="left",actionEdit:n,actionTrash:p,actionReturn:m,screen:y}){const{hasPermition:w}=q();return e("div",{className:B("flex",{"flex justify-start":l==="left","text-right":l==="right"}),children:r(O,{children:[n&&w(`${y}_LISTA_BOTAO_EDITAR`)&&e(D,{text:"Edit",icon:"pi pi-pencil",type:"transparent",color:"violet",size:"icon",onClick:t}),p&&w(`${y}_LISTA_BOTAO_EXCLUIR`)&&e(D,{text:"Trash",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:s}),m&&w(`${y}_LISTA_BOTAO_RETORNAR`)&&e(D,{text:"Return",icon:"pi pi-replay",type:"transparent",color:"yellow",size:"icon",onClick:o})]})})}function Se({onClick:t,textButtonFooter:s,iconButtonFooter:o,sizeButtonFooter:l,typeButtonFooter:n}){return s===""||s===void 0?e(O,{}):r(O,{children:[e("div",{className:"hidden sm:block",children:e(D,{text:s,icon:o,type:n,size:l,onClick:t})}),e("div",{className:"sm:hidden  flex-1",children:e(D,{text:s,icon:o,type:n,size:"full",onClick:t})})]})}function Kt({children:t,textButtonFooter:s,iconButtonFooter:o,typeButtonFooter:l,isDevolutiva:n,sizeButtonFooter:p,onClick:m,onClickLink:y}){return r("div",{className:"w-full text-center bg-white overflow-hidden",children:[t,r("div",{className:"flex text-sm  text-gray-400 mt-4 sm:m-0 justify-end gap-2",children:[n&&Se({textButtonFooter:"Retornar",iconButtonFooter:"pi pi-sync",typeButtonFooter:"second",sizeButtonFooter:p,onClick:y||(()=>{})}),Se({textButtonFooter:s,iconButtonFooter:o,typeButtonFooter:l,sizeButtonFooter:p,onClick:m})]})]})}function Qt({textPrimaryLeft:t,textPrimaryRight:s,textSecondLeft:o,onClickLink:l,onClick:n,textButtonFooter:p,iconButtonFooter:m,typeButtonFooter:y,sizeButtonFooter:w,onClickEdit:h,onClickTrash:b,onClickReturn:g,positionActions:d="right",actionEdit:N,actionTrash:u,actionReturn:a,screen:i}){return e(de.Root,{textButtonFooter:p,iconButtonFooter:m,typeButtonFooter:y,sizeButtonFooter:w,onClick:n,children:r(O,{children:[r("div",{className:"grid grid-cols-5 justify-between text-base font-medium text-gray-800 mt-4",children:[r("div",{className:"col-span-4 grid sm:grid-cols-2 gap-2 sm:justify-between text-left",children:[e(U,{text:t,size:"lg",color:"violet"}),e(U,{text:s,size:"sm",color:"gray"}),e("span",{})]}),je({onClickEdit:h,onClickTrash:b,onClickReturn:g,positionActions:d,actionEdit:N,actionTrash:u,actionReturn:a,screen:i})]}),o&&r("div",{className:"mt-1  flex items-center gap-2",children:[e("i",{className:"pi pi-user text-sm text-gray-400 "}),e(U,{text:o,size:"xs",color:"gray"})]})]})})}function Wt({textPrimaryLeft:t,textPrimaryCenter:s,textPrimaryRight:o,textSecondLeft:l,textSecondRight:n,textSecondCenter:p,textFooter:m,tags:y,onClickEdit:w,onClickTrash:h,onClickReturn:b,onClick:g,onClickLink:d,textButtonFooter:N,iconButtonFooter:u,typeButtonFooter:a,sizeButtonFooter:i,isDevolutiva:x,actionEdit:f,actionTrash:S,actionReturn:E,positionActions:R="left",children:C,screen:k}){const{hasPermition:P}=q(),F=()=>e("div",{className:"text-right flex gap-1 h-8 justify-end",children:y==null?void 0:y.map(T=>e(Jt,{onClick:P(`${k}_LISTA_TAG_ESPECIALIDADES`)?d:void 0,type:T.type,disabled:k==="FILA_DEVOLUTIVA"||k==="CADASTRO_PACIENTES"?!1:T==null?void 0:T.disabled},T.type))});return e(de.Root,{textButtonFooter:N,iconButtonFooter:u,typeButtonFooter:a,isDevolutiva:x,sizeButtonFooter:i,onClick:g,onClickLink:d,children:r(O,{children:[r("div",{className:"grid grid-rows-2 sm:grid-cols-2 mb-4 sm:mb-0 h-12 mt-6",children:[k!=="FILA_DEVOLUTIVA"?je({onClickEdit:w,onClickTrash:h,onClickReturn:b,positionActions:R,actionEdit:f,actionTrash:S,actionReturn:E,screen:k}):e("div",{}),F()]}),r("div",{children:[r("div",{className:"grid items-end gap-2 sm:gap-8 text-left ",children:[e(U,{text:t,size:"lg",color:"violet"}),e(U,{className:"font-inter",text:s,size:"sm",color:"gray-dark"}),e(U,{className:"font-inter",text:o,size:"sm",color:"gray-dark"})]}),r("div",{className:"mt-1 grid sm:flex items-center sm:gap-2 justify-between font-light text-left",children:[e("div",{className:"flex justify-center items-center ",children:e(U,{text:l,size:"md",color:"gray-dark"})}),P(`${k}_LISTA_TEXT_TELEFONE`)?r("div",{className:"flex items-center gap-2 p-2 font-sans text-left",children:[e("i",{className:"pi pi-phone text-gray-400 text-xs"}),e(U,{text:p,size:"md",color:"gray-dark",className:"font-inter"})]}):e(O,{}),e(U,{text:n,size:"md",color:"gray-dark",className:"font-inter"})]}),e("div",{className:"mt-2",children:C}),r("div",{className:"mt-4 flex items-center gap-2 text-ellipsis overflow-hidden",children:[e(vt,{target:".obs",mouseTrack:!0,className:"w-2/4 sm:w-1/4"}),e("p",{className:" text-gray-800  text-sm justify-start text-start obs text-ellipsis overflow-hidden","data-pr-tooltip":m,children:m})]})]})]})})}const de={Root:Kt,Simples:Qt,Complete:Wt};function _e(){return r("div",{className:"uppercase flex items-center gap-4 m-auto mt-2 justify-center",children:[e("i",{className:"pi pi-folder-open"}),e(ze,{color:"gray",children:"N\xE3o h\xE1 itens"})]})}const Me="Comp 1",Be="",qe=[{ty:4,nm:"circle outline",mn:"",sr:1,st:0,op:180,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[0,0,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[55.228,0],[0,-55.228],[-55.228,0]],o:[[0,-55.228],[-55.228,0],[0,55.228],[55.228,0]],v:[[0,0],[-100,-100],[-200,0],[-100,100]]},ix:2}},{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[-55.228,0],[0,-55.228],[55.228,0]],o:[[0,-55.228],[55.228,0],[0,55.228],[-55.228,0]],v:[[0,0],[100,-100],[200,0],[100,100]]},ix:2}},{ty:"tm",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:0,k:80,ix:2},o:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:3},s:{a:0,k:100,ix:1},m:2},{ty:"st",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:52,ix:5},d:[],c:{a:0,k:[.4,.1608,.4667],ix:3}}],ind:1,parent:2},{ty:4,nm:"circle",mn:"",sr:1,st:0,op:200,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[960,540,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[-100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 2",d:1,p:{a:0,k:[100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.4,.1608,.4667],ix:4},r:1,o:{a:0,k:100,ix:5}}],ind:2}],Ve=0,Ue=1080,Ge=1920,Ye={a:"",k:"",d:"",g:"@lottiefiles/toolkit-js 0.22.1",tc:"#000000"},He="5.7.4",Je=30,Ke=180,Qe=0,We=[],Xt={nm:Me,mn:Be,layers:qe,ddd:Ve,h:Ue,w:Ge,meta:Ye,v:He,fr:Je,op:Ke,ip:Qe,assets:We},Zt=Object.freeze(Object.defineProperty({__proto__:null,nm:Me,mn:Be,layers:qe,ddd:Ve,h:Ue,w:Ge,meta:Ye,v:He,fr:Je,op:Ke,ip:Qe,assets:We,default:Xt},Symbol.toStringTag,{value:"Module"}));function Xe(){return e("div",{className:"flex items-center justify-center",children:e(At,{loop:!0,animationData:Zt,play:!0,style:{width:200,height:200}})})}var X=(t=>(t.queue_avaliation="queue_avaliation",t.avaliation="avaliation",t.queue_devolutiva="queue_devolutiva",t.devolutiva="devolutiva",t.queue_therapy="queue_therapy",t.therapy="therapy",t.crud_therapy="crud_therapy",t))(X||{});const es=[{permission:"CADASTRO_PACIENTES",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Inativos",id:"disabled",name:"disabled",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}];function Ze({type:t="simples",iconButtonFooter:s,textButtonFooter:o,onClickLink:l,onClick:n,onClickEdit:p,onClickTrash:m,onClickReturn:y,items:w,screen:h,loading:b=!1}){q();const g=a=>{var x;if(!a.status||a.statusPacienteCod===X.crud_therapy)return null;const i=`${(x=a.status)==null?void 0:x.nome}`;switch(i){case"Urgente":return e(V,{text:"Prioridade: ",subtext:r("strong",{className:"text-red-900  px-1 flex",children:[i,r("span",{className:"flex h-2 w-2 relative",children:[e("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-900"})]})]}),size:"sm",color:"gray-dark",display:"flex"});case"Padr\xE3o":return e(V,{text:"Prioridade: ",subtext:"Padr\xE3o",size:"sm",color:"gray-dark",display:"flex"});case"Voltou ABA":return e(V,{text:"Prioridade: ",subtext:"Voltou ABA",size:"sm",color:"gray-dark",display:"flex"})}},d=()=>w.map(a=>{var E,R;const i=(a==null?void 0:a.nome)||(a==null?void 0:a.casa),x=((E=a==null?void 0:a.perfil)==null?void 0:E.nome.toUpperCase())||(a==null?void 0:a.sala)||((R=a==null?void 0:a.especialidade)==null?void 0:R.nome),f=(a==null?void 0:a.login)||"",S=!!(a!=null&&a.ativo);return r(O,{children:[e(de.Simples,{textPrimaryLeft:i,textPrimaryRight:x,textSecondLeft:f,onClickLink:()=>l(a),onClick:()=>n(a),textButtonFooter:o,iconButtonFooter:s,typeButtonFooter:"second",sizeButtonFooter:"sm",onClickEdit:()=>p(a),onClickTrash:()=>m(a),onClickReturn:()=>y(a),actionEdit:S,actionTrash:S,actionReturn:!S,screen:h},(a==null?void 0:a.login)||a.id),h==="CADASTRO_PROGRAMA"&&r(O,{children:[e(O,{children:" Atividades "}),r(Oe,{value:a.atividades,size:"small",responsiveLayout:"scroll",className:"-mt-4",showGridlines:!0,children:[e(ge,{field:"id",header:"Id"}),e(ge,{field:"nome",header:"Nome"})]})]})]})}),N=()=>w.map(a=>{var z,_,ae,re,oe,ne,te,ie;const i=a==null?void 0:a.nome,x=a==null?void 0:a.idade,f=a!=null&&a.responsavel?`Respons\xE1vel: ${a.responsavel}`:"",S=a==null?void 0:a.telefone;let E=a!=null&&a.convenio?a==null?void 0:a.convenio.nome:"";const R=(z=a==null?void 0:a.vaga)==null?void 0:z.observacao,C=!!(a!=null&&a.disabled);let k;const P={text:"",icon:"",type:"second",size:"md"};let F=!1;h==="CADASTRO_PACIENTES"&&(P.text="Prontu\xE1rio",P.icon="pi pi-palette",P.type="primary",P.size="md",k="programa");const T=a==null?void 0:a.vaga.especialidades.map(v=>({type:v.especialidade.nome,disabled:v.agendado}));return e(de.Complete,{textPrimaryLeft:i,textPrimaryCenter:x,textSecondLeft:f,textSecondCenter:S,textPrimaryRight:e(V,{text:"Carteirinha: ",subtext:a.carteirinha,size:"sm",color:"gray-dark",display:"flex"}),textSecondRight:E,textFooter:R,onClick:()=>n({item:a,typeButtonFooter:k}),textButtonFooter:P.text,iconButtonFooter:P.icon,typeButtonFooter:P.type,isDevolutiva:F,tags:T,onClickLink:()=>l(a),sizeButtonFooter:"sm",onClickEdit:()=>p(a),onClickTrash:()=>m(a),onClickReturn:()=>y({item:a,typeButtonFooter:k}),actionEdit:!C,actionTrash:!C,actionReturn:C,screen:h,children:!a.emAtendimento&&r("div",{className:"flex justify-between",children:[r("div",{className:"sm:flex items-center sm:gap-4",children:[X.crud_therapy!==(a==null?void 0:a.statusPacienteCod)&&r(O,{children:[e(V,{text:"Per\xEDodo: ",subtext:(ae=(_=a==null?void 0:a.vaga)==null?void 0:_.periodo)==null?void 0:ae.nome,size:"sm",color:"gray-dark",display:"flex"}),e(V,{text:"Tipo: ",subtext:(re=a==null?void 0:a.tipoSessao)==null?void 0:re.nome,size:"sm",color:"gray-dark",display:"flex"})]}),g(a),((oe=a.vaga)==null?void 0:oe.dataDevolutiva)&&e(V,{className:"font-inter",text:"Devolutiva:",subtext:H((ne=a.vaga)==null?void 0:ne.dataDevolutiva),size:"sm",color:"gray-dark",display:"flex"})]}),((te=a==null?void 0:a.vaga)==null?void 0:te.dataContato)&&e("div",{className:"text-end",children:e(V,{className:"font-inter",text:"Inclus\xE3o: ",subtext:H((ie=a==null?void 0:a.vaga)==null?void 0:ie.dataContato),size:"sm",color:"gray-dark",display:"flex"})})]})},a.id)}),u=()=>b?e(Xe,{}):w.length?e("ul",{className:"-my-6 divide-y divide-gray-200 grid gap-4 items-center",children:t==="simples"?d():N()}):e(_e,{});return e("div",{className:"pointer-events-auto flex-1",children:e("div",{className:"flex flex-col  bg-white ",children:e("div",{className:B("flex-1  overflow-y-auto py-6",{"flex  justify-center":!w.length}),children:e("div",{className:"",children:e("div",{className:"flow-root",children:u()})})})})})}function ts({heading:t}){return r("div",{className:"mb-10 text-center",children:[e("div",{className:"flex justify-center",children:e("img",{alt:"",className:"h-32 ",src:Bt})}),e(ze,{size:"lg",children:t})]})}const ss=[{labelText:"Login",labelFor:"username",id:"username",name:"username",type:"text",autoComplete:"text",isRequired:!0,placeholder:"Login",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o xxx.xxx"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Senha",labelFor:"password",id:"password",name:"password",type:"password",isRequired:!0,placeholder:"Senha",validate:{required:"Campo obrigat\xF3rio!"}}],le={labelText:"Atividade",labelFor:"atividade",id:"atividade0",name:"atividade",type:"input-add",isRequired:!0,placeholder:"Atividade",customCol:"col-span-5 sm:col-span-5",buttonAdd:!0,validate:{required:"Campo obrigat\xF3rio!"}},as=[{labelText:"Programa",labelFor:"nome",id:"nome",name:"nome",type:"text",autoComplete:"text",isRequired:!0,placeholder:"Programa",customCol:"col-span-6 sm:col-span-6",validate:{required:"Campo obrigat\xF3rio!",minlength:8}}],he={programaFields:as},et=ss,rs={};et.forEach(t=>rs[t.id]="");function os(){const t={username:"",password:""},[s,o]=c.exports.useState(!1),[l,n]=c.exports.useState(!1),{renderToast:p}=Q(),{handleSubmit:m,formState:{errors:y},setValue:w,watch:h,control:b}=K({defaultValues:t}),{Login:g}=ee(),d=async({username:u,password:a})=>{n(!0);try{await g({username:u,password:a}),n(!1)}catch{n(!1),p({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},N=async u=>{o(u),localStorage.setItem("rememberCheck",JSON.stringify(u)),u?(localStorage.setItem("rememberCheck","true"),localStorage.setItem("rememberLogin",JSON.stringify({username:h("username"),password:h("password")}))):(localStorage.removeItem("rememberLogin"),localStorage.setItem("rememberCheck","false"))};return c.exports.useEffect(()=>{const u=localStorage.getItem("rememberLogin");if(u){const{username:a,password:i}=JSON.parse(u);o(!0),w("username",a),w("password",i)}},[]),r("form",{className:"mt-8 space-y-6",onSubmit:m(d),children:[e("div",{children:et.map(u=>e(J,{id:u.id,type:u.type,labelText:u.labelText,control:b,validate:u.validate,errors:y},u.id))}),e(J,{id:"checkbox-login",labelText:"Lembrar login",type:"checkbox",control:b,onChange:N,value:s}),e(D,{text:"Entrar",type:"primary",size:"full",onClick:m(d),loading:l})]})}const ns="luck-web",is="0.0.2",ls="module",cs={dev:"vite --port=3000 --host",start:"node serve.js --host",preview:"vite preview --host",sb:"start-storybook -p 6006",format:'prettier --write "src/**/*.{ts,js,tsx}"',lint:'eslint "src/**/*.{ts,js}" --quiet',build:"export NODE_OPTIONS='--max-old-space-size=8192' && tsc && vite build"},ds={"@fullcalendar/core":"5.11.3","@fullcalendar/daygrid":"5.11.3","@fullcalendar/interaction":"5.11.3","@fullcalendar/list":"5.11.3","@fullcalendar/moment":"5.11.3","@fullcalendar/moment-timezone":"5.11.3","@fullcalendar/react":"5.11.2","@fullcalendar/rrule":"5.11.3","@fullcalendar/timegrid":"5.11.3","@types/uuid":"^9.0.7","@vitejs/plugin-react-refresh":"^1.3.6",autoprefixer:"10.4.12",axios:"1.1.3","chart.js":"3.9.1",clsx:"1.2.1",cors:"2.8.5",express:"4.18.2","lottie-react":"2.3.1",moment:"2.29.4","postcss-import":"15.0.0",primeicons:"6.0.1",primereact:"8.7.0",quill:"1.3.7",react:"18.2.0","react-chartjs-2":"4.3.1","react-dom":"18.2.0","react-hook-form":"7.37.0","react-lottie-player":"1.5.4","react-router-dom":"6.4.2",rrule:"2.7.1",url:"0.11.0",uuid:"^9.0.1","vite-plugin-pwa":"^0.17.4","web-vitals":"2.1.4","workbox-background-sync":"6.5.4","workbox-broadcast-update":"6.5.4","workbox-cacheable-response":"6.5.4","workbox-core":"6.5.4","workbox-expiration":"6.5.4","workbox-google-analytics":"6.5.4","workbox-navigation-preload":"6.5.4","workbox-precaching":"6.5.4","workbox-range-requests":"6.5.4","workbox-routing":"6.5.4","workbox-strategies":"6.5.4","workbox-streams":"6.5.4",xlsx:"^0.18.5"},ps={"@babel/core":"7.19.3","@types/react":"18.0.17","@types/react-dom":"18.0.6","@vitejs/plugin-react":"2.1.0","babel-loader":"8.2.5",prettier:"latest","standard-version":"9.5.0",tailwindcss:"3.2.1",typescript:"4.8.4",vite:"3.1.0","workbox-build":"6.5.4"},us={name:ns,version:is,private:!0,type:ls,scripts:cs,dependencies:ds,devDependencies:ps};function Pe(){const[t,s]=c.exports.useState(""),o=c.exports.useCallback(async()=>{const{data:l}=await M("/");s(`vers\xE3o frontend: ${us.version} - ${l}`)},[]);return c.exports.useEffect(()=>{o()},[o]),r(O,{children:[e(ts,{heading:"Prontu\xE1rio"}),e(os,{}),e("div",{className:"text-xs absolute bottom-0 text-gray-300 left-0  w-full flex justify-center",children:e("div",{className:"",children:t})})]})}const ms=()=>e("div",{className:"min-h-full h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-md w-full space-y-8",children:e(Le,{children:r(Te,{children:[e(W,{path:"/",element:e(Pe,{})}),e(W,{path:"*",element:e(Pe,{})})]})})})}),hs=({children:t})=>e("div",{className:"h-screen overflow-y-auto",children:e("div",{className:"mx-2 mt-4 mb-16",children:t})}),fe=c.exports.createContext({}),xs=({children:t})=>{const[s,o]=c.exports.useState(!1);return e(fe.Provider,{value:{open:s,setOpen:o},children:t})},fs=()=>{const{Logout:t}=ee(),{hasPermition:s,permissions:o}=q(),{open:l,setOpen:n}=c.exports.useContext(fe),[p,m]=c.exports.useState([]),{user:y,perfil:w}=c.exports.useContext(xe),h=ue(),b=()=>{const N=ot.filter(u=>u.path!=="*");m(N)},g=()=>r("aside",{onClick:()=>n(!1),className:"fixed border-box shadow-3xl w-full h-screen z-20  bg-primary duration-700 ease-in-out justify-center",children:[e("div",{className:"bg-logo-md-write bg-no-repeat bg-cover h-[13rem] "}),r("div",{className:"border-y border-primary-text duration-1000 p-4 mt-2",children:[r("h3",{className:"text-primary-text text-center font-light text-sm ",children:[" ",y.nome]}),r("h3",{className:"text-gray-200 text-center font-light text-xs ",children:[" ",Ne(w)," "]})]}),e("ul",{className:"list-none p-0 mt-8",children:p.map(N=>{const u=h.pathname.startsWith(N.path);return e("li",{className:`${u?"bg-primary-hover text-primary-text-hover":"text-primary-text"} hover:px-0 hover:bg-primary-hover  hover:text-primary-text-hover duration-700 grid  justify-center`,children:r(Pt,{to:N.path,className:"grid grid-cols-2 gap-8 items-center text-sm px-4 py-4  cursor-pointer",children:[e("i",{className:B("text-end",N.icon)}),e("span",{className:"duration-700",children:Ne(N.path)})]})},N.path)})}),e("i",{onClick:t,className:" pi pi-sign-out duration-700 text-primary-text hover:scale-125 cursor-pointer  w-4 col-span-1 fixed bottom-8 left-6"})]}),d=()=>e("aside",{onClick:()=>n(!0),className:"fixed shadow-3xl w-12 h-12 z-20 mt-[1vh] right-2 rounded-3xl bg-primary duration-700 ease-in-out hover:scale-[105%] cursor-pointer",children:e("div",{className:"bg-logo-mini    bg-no-repeat bg-cover h-12 w-12 duration-700"})});return c.exports.useEffect(()=>{b()},[o]),l?g():e("nav",{className:"fixed h-12 w-full bg-primary mb-8",children:d()})};function Ae(){const[t,s]=c.exports.useState(),[o,l]=c.exports.useState(!1),{renderToast:n}=Q(),{reset:p,handleSubmit:m,formState:{errors:y},control:w}=K(),h=()=>{const g=sessionStorage.getItem("auth"),d=JSON.parse(g);s(d)},b=async g=>{l(!0);try{g.id=t.login;const{data:d}=await Re("/usuarios/reset-senha",g);l(!1),p(),n({type:"success",title:"",message:d.message,open:!0})}catch({message:d}){n({type:"failure",title:"401",message:`${d}`,open:!0}),p();return}};return c.exports.useEffect(()=>{h()},[]),e(O,{children:e(Y,{customCss:"rounded-lg border border-gray-200 p-4",children:r("div",{className:"grid sm:grid-cols-2",children:[e(V,{text:t==null?void 0:t.nome,subtext:t==null?void 0:t.login,color:"violet",size:"md",icon:"pi pi-id-card",display:"grid"}),r("div",{className:"flex gap-2  my-6 sm:my-0  items-center",children:[e(J,{labelText:"Alterar senha",id:"senha",type:"password",customCol:" w-full",errors:y,validate:{required:!0},control:w}),e("div",{className:" mt-4 ",children:e(D,{text:"Alterar senha",type:"second",icon:"pi pi-sync",size:"icon",onClick:m(b)})})]})]})})})}const tt=[{labelText:"Resumo",labelFor:"resumo",id:"resumo",name:"resumo",type:"textarea",isRequired:!0,placeholder:"Resumo",validate:{required:"Campo obrigat\xF3rio!"}}],gs=tt,ys={};gs.forEach(t=>ys[t.id]="");const vs=()=>{const[t,s]=c.exports.useState([]),[o,l]=c.exports.useState([]),[n,p]=c.exports.useState([]),[m,y]=c.exports.useState([]);se();const w=ue(),{event:h}=w.state,{renderToast:b}=Q(),{user:g}=ee(),{handleSubmit:d,formState:{errors:N},control:u,setValue:a}=K({});c.exports.useMemo(async()=>{const C=await M("programa/dropdown");s(C)},[]),c.exports.useMemo(async()=>{const C=await M(`sessao/protocolo/${h.paciente.id}`);l(C.protocolo),p(C.protocoloSet)},[]),c.exports.useMemo(async()=>{const C=await M(`sessao/atividade/${h.paciente.id}`);y(C.atividadeSessaoSet)},[]);const i=async C=>{if(C.protocolo){const k=Object.keys(C.protocolo),P=await Promise.all(t.filter(async T=>(T.children=await Promise.all(T.children.filter(z=>k.includes(z.key))),k.includes(T.key)))),F={protocolo:JSON.stringify(P),protocoloSet:JSON.stringify(C.protocolo),pacienteId:h.paciente.id,terapeutaId:g.id};await ce("sessao/protocolo",F)}if(C.atividadeSessao){const k=Object.keys(C.atividadeSessao),P=await Promise.all(t.filter(async T=>(T.children=await Promise.all(T.children.filter(z=>k.includes(z.key))),k.includes(T.key)))),F={atividadeSessao:JSON.stringify(P),atividadeSessaoSet:JSON.stringify(C.atividadeSessao),pacienteId:h.paciente.id,terapeutaId:g.id};await ce("sessao/atividadeSessao",F)}b({type:"success",title:"Sucesso",message:"Protocolo salvo!",open:!0})},x=()=>r("div",{className:"grid  gap-2 p-2",children:[e("span",{className:"text-gray-800",children:" Selecione o protocolo"}),e($,{name:"protocolo",control:u,render:()=>e(ye,{filter:!0,filterMode:"strict",filterPlaceholder:"Programas",value:t,selectionKeys:n,selectionMode:"checkbox",className:"w-full md:w-30rem",onSelectionChange:C=>(p(C.value),a("protocolo",C.value),C.value)})})]}),f=()=>r("div",{className:"grid  gap-2 p-2",children:[e("span",{className:"text-gray-800",children:" Selecione as atividades para a sess\xE3o"}),e($,{name:"atividadeSessao",control:u,render:()=>e(ye,{filter:!0,filterMode:"strict",filterPlaceholder:"atividadeSessao",value:o,selectionKeys:m,selectionMode:"checkbox",className:"w-full md:w-30rem",onSelectionChange:C=>(y(C.value),a("atividadeSessao",C.value),C.value)})})]}),S=()=>r("div",{className:"grid gap-4",children:[x(),f()]}),E=()=>r("div",{className:"text-primary font-base grid justify-start m-4 p-2 leading-4",children:[e("span",{className:"font-bold",children:" Protocolo "}),h.paciente.nome,r("span",{className:"text-gray-400 font-light text-sm font-inter",children:[" ",H(h.dataInicio),"  "]})]}),R=()=>e("div",{className:"fixed bottom-0 w-[104vw] ml-[-0.5rem]",children:e(D,{text:"Salvar",icon:"pi pi-check",type:"primary",color:"white",size:"full",onClick:d(i)})});return c.exports.useEffect(()=>{},[]),r(O,{children:[E(),S(),R()]})},st=tt,bs={};st.forEach(t=>bs[t.id]="");const ws=()=>{se();const[t,s]=c.exports.useState([]),o=[{value:"dv",icon:e("img",{src:"https://primefaces.org/cdn/primereact/images/rating/custom-icon.png",alt:"custom-image",width:"25px",height:"25px"})},{value:!1,key:"dt"}],{renderToast:l}=Q(),n=ue(),{event:p}=n.state,{handleSubmit:m,formState:{errors:y},control:w,setValue:h}=K({});c.exports.useMemo(async()=>{const u=await M(`sessao/atividade/${p.paciente.id}`);s(u.atividadeSessao)},[]);const b=async u=>{try{const a={resumo:u.resumo,calendarioId:p.id,pacienteId:p.paciente.id,sessao:JSON.stringify(t)};await ce("sessao",a),l({type:"success",title:"Sucesso!",message:"Resumo da sess\xE3o enviado!",open:!0})}catch{l({type:"failure",title:"Erro!",message:"Falha ao enviar o resumo",open:!0})}},g=c.exports.useMemo(()=>r("div",{className:"text-primary font-base grid justify-start m-4 p-2 leading-4",children:[e("span",{className:"font-base",children:" Sess\xE3o "}),r("span",{className:"font-bold",children:["   ",p.paciente.nome,"  "]}),r("span",{className:"text-gray-400 font-light text-sm font-inter",children:[" ",H(p.dataInicio),"  "]})]}),[]),d=()=>r("div",{className:"p-4",children:[t.map((u,a)=>r(O,{children:[e("span",{className:"text-md text-gray-400",children:u.label},a),e("div",{children:u.children.map((i,x)=>r(Y,{children:[e("span",{className:"text-base text-primary",children:i.label}),e("div",{className:"flex gap-2 p-2",children:i.loop.map((f,S)=>{const E=u.children[x].loop,R=S>=3&&E[S-1]&&E[S-2]&&E[S-3];return e($,{name:"atividade",control:w,render:({field:C})=>r("div",{className:"grid justify-center text-center text-sm text-gray-400",children:[r("label",{htmlFor:C.name,children:[" ",S," "]}),e(bt,{disabled:R,value:f,onChange:()=>{const k=[...t];let P=E[S];switch(P){case!0:P=!1;break;case!1:P="no value";break;default:P=!0;break}k[a].children[x].loop[S]=P,s(k)},ref:C.ref,options:o,optionValue:"value"})]},C.name)},S)})})]},x))})]})),st.map(u=>e(J,{id:u.id,type:u.type,labelText:u.labelText,control:w,validate:u.validate,errors:y},u.id))]}),N=()=>e("div",{className:"fixed bottom-0 w-[104vw] ml-[-0.5rem]",children:e(D,{text:"Salvar sess\xE3o",icon:"pi pi-check",type:"primary",color:"white",size:"full",onClick:m(b)})});return c.exports.useEffect(()=>{},[]),r(O,{children:[g,d(),N()]})},Ns=()=>{const t=se(),[s,o]=c.exports.useState({}),[l,n]=c.exports.useState([]),[p,m]=c.exports.useState(!1),{user:y}=ee(),w=new Date,[h,b]=c.exports.useState({start:Lt(w.getFullYear(),w.getMonth()+1),end:Tt(w.getFullYear(),w.getMonth()+1)}),g=f=>{t(`/${pe.SESSION}`,{state:{event:f}})},d=f=>{let S=f.modalidade.nome;if(S!=="Avalia\xE7\xE3o"||!(f!=null&&f.dataInicio)||!(f!=null&&f.dataFim))return e("span",{children:S});const E=ke(f.dataInicio,f.dataAtual),R=ke(f.dataInicio,f.dataFim);return e(O,{children:r("span",{children:[S,e("span",{className:"font-inter ml-2",children:`${E}/${R}`})," "]})})};c.exports.useMemo(async()=>{m(!0);const f=await M(`/evento/filtro/${h.start}/${h.end}?terapeutaId=${y.id}`);let S=Object.keys(f).sort();o(f),n(S),m(!1)},[]);const N=f=>e(Y,{customCss:"border-l-4 border-l-green-400 rounded-lg cursor-not-allowed",children:r("div",{className:"flex gap-2 w-full item-center",children:[r("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[r("span",{children:[" ",f.start]})," -",e("span",{children:f.end})]}),r("div",{className:"text-gray-800 text-center flex items-center justify-center text-md",children:["  ",f.title]})]})}),u=f=>e(Y,{customCss:B("border-l-4 rounded-lg cursor-pointer hover:scale-[101%] duration-700 ease-in-out",f.borderColor),children:r("div",{className:"flex justify-between w-full item-center",children:[r("div",{className:"flex gap-2 w-full item-center",onClick:()=>g(f),children:[r("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[r("span",{children:[" ",f.data.start]})," -",e("span",{children:f.data.end})]}),r("div",{className:"text-gray-800 text-sm text-center grid justify-center",children:[r("div",{className:"font-base font-semibold text-primary",children:["  ",f.title," "]}),r("p",{className:"flex gap-4 items-center justify-between",children:[d(f)," ",e("span",{children:f.statusEventos.nome})]}),r("p",{className:"flex gap-4 items-center",children:[f.localidade.nome,f.isExterno&&r("span",{className:"font-bold font-inter",children:[" ",`- ${f.km}km`," "]})]})]})]}),e(D,{text:"programa",icon:"pi pi-palette",type:"transparent",color:"yellow",size:"icon",onClick:()=>t(`/${pe.PROTOCOLO}`,{state:{event:f}})})]})},f.id),a=f=>{switch(f.id){case 0:return N(f);default:return u(f)}},i=()=>p?e(Xe,{}):l.length?l.map(f=>r("div",{children:[e("div",{className:"font-inter m-2 text-gray-400",children:H(f)}),s[f].map(S=>a(S))]},f)):r(Y,{children:[" ",e(_e,{})," "]}),x=c.exports.useMemo(()=>r("div",{className:"text-primary font-base grid justify-start m-2 leading-4",children:[e("span",{className:"font-bold",children:" Agenda "}),r("span",{className:"text-gray-400 font-light text-sm font-inter",children:[" ",H(new Date)," "]})]}),[]);return c.exports.useEffect(()=>{},[]),r(O,{children:[x,i()]})};function at({totalPages:t,currentPage:s,onChange:o}){const[l,n]=c.exports.useState(s||1);return r("div",{className:"flex items-center justify-center p-2 gap-2 mt-1",children:[e("button",{onClick:()=>{n(l-1),o(l-1)},disabled:l===1,className:"bg-transparent w-12 h-12 cursor-pointer hover:scale-110 duration-700 text-primary disabled:opacity-30 disabled:cursor-not-allowed disabled:text-slate-200",children:e("i",{className:"pi pi-arrow-circle-left"})}),r("span",{className:"text-primary font-inter",children:[l," de ",t]}),e("button",{onClick:()=>{n(l+1),o(l+1)},disabled:l===t,className:"bg-transparent w-12 h-12 cursor-pointer hover:scale-110 duration-700 text-primary  disabled:opacity-30 disabled:cursor-not-allowed disabled:text-slate-200",children:e("i",{className:"pi pi-arrow-circle-right"})})]})}function ks({namelist:t,onClick:s,iconButtonFooter:o,textButtonFooter:l,screen:n}){const[p,m]=c.exports.useState([]),[y,w]=c.exports.useState({pageSize:0,totalPage:0}),[h,b]=c.exports.useState({}),[g,d]=c.exports.useState(!1),[N,u]=c.exports.useState(!1),[a,i]=c.exports.useState(!1),[x,f]=c.exports.useState(!1),[S,E]=c.exports.useState([]),{renderToast:R}=Q(),{handleSubmit:C,control:k,formState:{errors:P},setValue:F,unregister:T,reset:z}=K({}),_=c.exports.useMemo(async(v=1,A=10)=>{i(!0);try{const I=await M(`${t}?page=${v}&pageSize=${A}`);m(I.data),w(I.pagination),i(!1)}catch{i(!1)}g&&d(!1)},[]),ae=async v=>{try{if(v.search===void 0||v.search==="")return;i(!0);const A=await Rt(t,v.search);F("search","");const I=A.status===200?A.data:[];m(I),w({pageSize:0,totalPage:0}),i(!1)}catch(A){i(!1),te(A)}},re=async v=>{try{i(!0);let A;const I={...v};Object.keys(v).forEach(L=>{if(L.indexOf("Id")!==-1){if(!v[L]||typeof v[L][0]=="number"){delete I[L];return}Array.isArray(v[L])&&v[L].length?I[L]=I[L].map(j=>j.id):I[L]=v[L].id}}),delete I.search,N?(h.nome=I.nome,I.id=h.id,A=await Re(t,I)):A=await ce(t,I),z(),u(!1),d(!1),R({type:"success",title:"",message:"Sucesso!",open:!0})}catch({message:A}){R({type:"failure",title:"401",message:`${A}`,open:!0}),i(!1);return}},oe=()=>_,ne=async()=>{try{await Dt(`${t}/${h.id}`),f(!1),R({type:"success",title:" Sucesso!! ",message:"Atualizado com sucesso!",open:!0})}catch(v){te(v)}},te=({data:v})=>{R({type:"failure",title:"401",message:(v==null?void 0:v.message)||"N\xE3o foi poss\xEDvel realizar!",open:!0})},ie=(v,A)=>{if(v==="remove"&&A){const I=S.filter(j=>j.id!==A),L={...h};delete L[A],delete L.atividades,b(L),E(I),T(A,{keepDirtyValues:!0})}else{const I=[...S],L={...le},j=we();L.id=`atividade${j}`,I.map(me=>{me.buttonAdd=!1}),L.buttonAdd=!0,I.push(L),E(I)}};return c.exports.useEffect(()=>{let v=`${t}Fields`;const A=[...he[v]],I={};A.forEach(L=>I[L.id]=""),E(A)},[he]),c.exports.useEffect(()=>{},[_]),r(O,{children:[e(Vt,{onClick:()=>{if(t==="programa"){const v=[...S],A=we();le.id=`atividade${A}`,v[1]=le,E(v)}u(!1),d(!0)},onSubmit:C(ae),textButton:"Cadastrar",iconButton:"pi pi-plus",control:k,loading:a,screen:n}),r(Y,{children:[e(Ze,{loading:a,screen:n,type:"simples",onClickTrash:v=>{v.ativo=!1,b(v),f(!0)},onClickEdit:v=>{const A={...v};let I=`${t}Fields`;const L=[...he[I]];F("nome",v.nome),A.atividades.map((j,me)=>{L.push({...le,id:`atividade${j.id}`,name:`atividade${j.id}`,buttonAdd:me===A.atividades.length-1}),A[`atividade${j.id}`]=j.nome,F(`atividade${j.id}`,j.nome)}),E(L),u(!0),b(A),d(!0)},onClick:v=>s(v.id),items:p,iconButtonFooter:o,textButtonFooter:l,onClickLink:()=>{},onClickReturn:v=>{v.ativo=!0,b(v),u(!0)}}),y.totalPages>1&&e(at,{totalPages:y.totalPages,currentPage:y.currentPage,onChange:oe})]}),e(Ut,{title:"Cadastro",open:g,width:"95vw",onClose:()=>{d(!1),z()},children:r("div",{className:"grid gap-6",children:[e("div",{className:"grid sm:grid-cols-6 items-center sm:gap-2",children:S.map(v=>e(J,{labelText:v.labelText,id:v.id,type:v.type,validate:v.validate?v.validate:{required:"Campo obrigat\xF3rio!"},errors:P,control:k,hidden:v.hidden,customCol:v.customCol,onClick:A=>t==="programa"?ie(A,v.id):null,buttonAdd:v==null?void 0:v.buttonAdd},v.id))}),e(D,{text:N?"Atualizar":"Cadastrar",type:N?"second":"primary",size:"full",onClick:C(re),loading:a})]})}),e(Gt,{onAccept:ne,onReject:()=>f(!1),onClose:()=>f(!1),title:"Desativar",message:"Deseja realmente excluir?",icon:"pi pi-exclamation-triangle",open:x})]})}const Cs=c.exports.createContext({});function Ss(){return c.exports.useContext(Cs)}const rt=es,Ps={};rt.forEach(t=>Ps[t.id]="");function As(){const t="CADASTRO_PACIENTES",{hasPermition:s}=q(),o=se(),[l,n]=c.exports.useState(rt),[p,m]=c.exports.useState([]);c.exports.useState();const[y,w]=c.exports.useState({}),[h,b]=c.exports.useState({pageSize:10,totalPages:0,currentPage:1}),[g,d]=c.exports.useState(!1),[N,u]=c.exports.useState([]),{renderDropdownQueue:a,renderPacientes:i}=Ss(),{renderToast:x}=Q(),f=c.exports.useCallback(async()=>{try{d(!0),m([]);const k=await M(`paciente?statusPacienteCod=${X.crud_therapy}&page=${h.currentPage}&pageSize=${h.pageSize}`);m(k.data),b(k.pagination),d(!1)}catch{d(!1),x({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),S=async k=>{const P={...h,currentPage:k};b(P),E(y,P)},E=async(k=y,P=h)=>{d(!0),w(k);try{const F={disabled:k.disabled===void 0?!1:k.disabled,statusPacienteCod:X.crud_therapy};delete k.disabled,await Object.keys(k).map(z=>{var _;F[z]=((_=k[z])==null?void 0:_.id)||void 0});const T=await Ft("paciente",F,`page=${P.currentPage}&pageSize=${P.pageSize}`);m(T.data.data||T.data),b(T.pagination||T.data.pagination),d(!1)}catch{d(!1),x({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},R=async({item:k,typeButtonFooter:P})=>{switch(P){case"programa":o(`/${pe.PATIENT}`,{state:{patient:k}});break}},C=c.exports.useCallback(async()=>{const k=await a(X.crud_therapy);u(k)},[]);return c.exports.useEffect(()=>{s("CADASTRO_PACIENTES_FILTRO_SELECT_AGENDADOS")?f():E({naFila:!0,disabled:!1}),C()},[f]),r("div",{className:"grid",children:[e(Yt,{id:"form-filter-patient",legend:"Filtro",fields:l,screen:t,onSubmit:E,onReset:f,loading:g,dropdown:N,onInclude:()=>{}}),r(Y,{children:[e(Ze,{loading:g,type:"complete",items:p,screen:t,onClick:R,onClickLink:()=>{},onClickTrash:()=>{},onClickEdit:()=>{},onClickReturn:()=>{}}),h.totalPages>1&&e(at,{totalPages:h.totalPages,currentPage:h.currentPage,onChange:S})]})]})}const Es=()=>(q(),e("div",{className:"card",children:r(wt,{className:"tabview-custom",children:[e(ve,{header:"Programas",leftIcon:"pi pi-palette",children:e(ks,{screen:"CADASTRO_PROGRAMA",namelist:"programa",onClick:()=>{}})}),e(ve,{header:"Pacientes",leftIcon:"pi pi-user",children:e(As,{})})]})})),Is=()=>{const t=ue(),{patient:s}=t.state,[o,l]=c.exports.useState([]),[n,p]=c.exports.useState([]);c.exports.useState(null),se(),K(),c.exports.useMemo(async()=>{const d=await M("programa/dropdown");l(d)},[]),c.exports.useMemo(async()=>{const d=await M(`sessao/${s.id}`);p(d)},[]);const m=d=>r(O,{children:[d.evento.especialidade.nome," ",r("span",{className:"text-sm text-gray-400 font-light",children:["[",d.evento.terapeuta.usuario.nome,"]"]})]}),y=d=>e("span",{className:B("flex w-2rem h-2rem items-center p-2 rounded-full justify-center text-white border-circle z-1 shadow-1",{"bg-to":d.evento.especialidade.nome.toUpperCase()==="TO","bg-fono":d.evento.especialidade.nome.toUpperCase()==="FONO","bg-psico":d.evento.especialidade.nome.toUpperCase()==="PSICO","bg-black":d.evento.especialidade.nome.toUpperCase()==="PSICOPEDAG"}),children:e("i",{className:"pi pi-calendar"})}),w=d=>e(St,{value:d.porcentagem,valueTemplate:"{value}%"}),h=d=>r(kt,{title:m(d),subTitle:H(d.evento.dataInicio),children:[e(Ee,{className:"my-4",children:d.sessoes.map((N,u)=>e(Ie,{header:N.label,tabIndex:u,children:e("p",{className:"m-0",children:r(Oe,{value:N.children,size:"small",responsiveLayout:"scroll",className:"-mt-4",children:[e(be,{field:"label",header:"Atividade"}),e(be,{header:"%",body:w})]})})},u))}),e(Ct,{style:{width:"100%",height:"70px"},children:e("p",{children:d.resumo})})]}),b=()=>r("div",{className:"text-primary font-base grid justify-start m-4 p-2 leading-4",children:[e("span",{className:"font-bold",children:" Prontu\xE1rio "}),s.nome,r("span",{className:"text-gray-400 font-light text-sm",children:[" [",s==null?void 0:s.responsavel,"]  "]})]}),g=()=>e(O,{children:e("div",{className:"p-1 my-4 overflow-y-auto",children:e(Nt,{value:n,align:"left",className:"gap-2",marker:y,content:h})})});return c.exports.useEffect(()=>{},[]),r("div",{children:[b(),g()]})};var pe=(t=>(t.HOME="home",t.CRUD="cadastro",t.CALENDAR="agenda",t.PRONTUARIO="prontuario",t.SESSION="sessao",t.PROGRAM="programa",t.PATIENT="paciente",t.PROTOCOLO="protocolo",t))(pe||{});const ot=[{path:"*",componentRoute:Ae,icon:""},{path:"home",componentRoute:Ae,icon:"pi pi-home"},{path:"agenda",componentRoute:Ns,icon:"pi pi-calendar"},{path:"cadastro",componentRoute:Es,icon:"pi pi-credit-card"}],Os=()=>(q(),c.exports.useContext(fe),r("div",{className:"min-h-full overflow-hidden bg-background h-screen w-full",children:[e(fs,{}),e("main",{className:"mt-14",children:r(Te,{children:[ot.map((s,o)=>e(W,{path:s.path,element:e(hs,{children:e(s.componentRoute,{})})},o)),e(W,{path:"/protocolo",element:e(vs,{})}),e(W,{path:"/sessao",element:e(ws,{})}),e(W,{path:"/paciente",element:e(Is,{})})]})})]}));function Ls(){const{signed:t}=ee();return t?e(Le,{children:e(zt,{children:e(xs,{children:e(Os,{})})})}):e(ms,{})}function Ts(){return e("div",{className:"App",children:e(_t,{children:e(Mt,{children:e(Ls,{})})})})}it.createRoot(document.getElementById("root")).render(e(nt.StrictMode,{children:e(Ts,{})}));
