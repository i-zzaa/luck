import{r as i,R as Yt}from"./react.705ad3af.js";import{c as Jt}from"./react-dom.10879ce7.js";import{a as Gt}from"./axios.d349c3b3.js";import{h as Ee}from"./moment.9709ab41.js";import{j as e,a,F as ce,T as qt,D as tt,I as Wt,C as Kt,b as Qt,c as Zt,L as Xt,M as es,A as xe,d as ge,e as qe,f as ut,z as ts,g as ss,h as st,O as mt,N as ht,i as ft,m as xt,K as os,k as $e,l as Te}from"./primereact.305951bc.js";import{B as gt,N as ns}from"./react-router-dom.8e76a9d4.js";import{c as be}from"./clsx.09c75e33.js";import{L as as}from"./react-lottie-player.9831b59f.js";import{C as ne,u as Pe}from"./react-hook-form.ad20ad1d.js";import{e as vt,f as Ve,c as fe,d as we}from"./react-router.fa7e0b24.js";import{J as rs}from"./jodit-react.328ed469.js";import{E as bt}from"./jspdf.71127e49.js";import{a as ze}from"./jspdf-autotable.bae232af.js";/* empty css                   */import"./core-js.fef2c0d7.js";import"./scheduler.2450001e.js";import"./form-data.d1f94bc2.js";import"./react-transition-group.c6ae46a5.js";import"./@babel.4f1e7424.js";import"./dom-helpers.2a8a4335.js";import"./@remix-run.7ba39c5a.js";import"./lottie-web.df2e13c6.js";import"./fast-deep-equal.55bfef35.js";import"./rfdc.0929fce7.js";import"./fflate.0418c72f.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const v of n)if(v.type==="childList")for(const g of v.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function d(n){const v={};return n.integrity&&(v.integrity=n.integrity),n.referrerpolicy&&(v.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?v.credentials="include":n.crossorigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function s(n){if(n.ep)return;n.ep=!0;const v=d(n);fetch(n.href,v)}})();Ee.locale("pt-br");const is={TO:"#ef6c00",FONO:"#f6bf26",PSICO:"#8e24aa",PSICOPEDAG:"#000000"},ls={TO:"#ffffff",FONO:"#ffffff",PSICO:"#ffffff",PSICOPEDAG:"#ffffff"},cs=t=>t.charAt(0).toUpperCase()+t.slice(1),ds=()=>{setTimeout(()=>{(document.querySelectorAll(".p-multiselect-token")||[]).forEach(o=>{const d=is[o.textContent.toUpperCase()],s=ls[o.textContent.toUpperCase()];o.style.background=d,o.style.color=s})},0)},ot=t=>Ee(t).format("DD/MM/YYYY"),ps=t=>(Ee.locale("pt-br"),Ee(t).format("YYYY-MM-DD")),us=t=>Ee(t).add(1,"days").format("YYYY-MM-DD"),nt=(t,o)=>{const d=Ee(t);return Ee(o).diff(d,"weeks")+1};var yt=(t=>(t.mobile="DEVICE_MOBILE",t.web="DEVICE_WEB",t))(yt||{});const Ie={id:"",name:"meta",type:"input-add",value:"",labelFor:"meta",subitems:[],buttonAdd:!0,customCol:"col-span-5 sm:col-span-5",labelText:"Meta"},ke={id:"",name:"item",type:"input-add",value:"",labelFor:"item",buttonAdd:!0,customCol:"col-span-5 sm:col-span-5",labelText:"Item"},he=Gt.create({baseURL:"http://localhost:3000",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",device:yt.mobile}}),at=(t,o,d)=>{he.interceptors.request.use(async s=>(s.url.endsWith("login")||(s.headers.Authorization=`Bearer ${t}`,s.headers.login=o,s.headers.idUser=d),s),s=>Promise.reject(s))},ye=async(t,o)=>{var n;const d=o?`?${o}`:"",s=await he(`${t}/dropdown${d}`);return s.status===200?((n=s.data)==null?void 0:n.data)||s.data:[]},Ae=async(t,o)=>await he.post(t,o),Be=async(t,o)=>await he.put(t,o),ms=async t=>await he.delete(`${t}`),Ne=async t=>{const o=await he(t);return o.status===200?o.data:[]},ve=async(t,o,d)=>{const s=d?`?${d}`:"";return await he.post(`${t}/filtro${s}`,o)},hs="developer",wt=i.exports.createContext({}),fs=({children:t})=>{const{perfil:o}=De(),[d,s]=i.exports.useState([]),n=g=>{s(g)};i.exports.useMemo(async()=>{const g=sessionStorage.getItem("auth"),S=(g?JSON.parse(g):[]).permissoes||await Ne("permissao");s(S)},[]),i.exports.useEffect(()=>{d.length},[]);const v=(g="")=>{switch(!0){case!o:throw new Error("Voce n\xE3o tem permissao");case g==="*":return!0;default:return!!(d.length&&d.includes(g.toUpperCase())||o===hs)}};return e(wt.Provider,{value:{hasPermition:v,perfil:o,permissions:d,setPermissionsLogin:n},children:t})},Fe=()=>i.exports.useContext(wt),xs="absolute animate-bounce min-w-[24rem] top-2 right-0 block flex p-4 mb-4 text-sm rounded-lg items-center gap-2 z-[70] ",Et=i.exports.createContext({}),gs=({children:t})=>{const[o,d]=i.exports.useState("hidden"),[s,n]=i.exports.useState(),[v,g]=i.exports.useState(""),[x,S]=i.exports.useState({type:"info",title:"",message:"",open:!1}),y=f=>{switch(f){case"success":n(e("i",{className:"pi pi-check-circle"}));break;case"failure":n(e("i",{className:"pi pi-times-circle"}));break;case"warning":n(e("i",{className:"pi pi-exclamation-circle"}));break;case"info":n(e("i",{className:"pi pi-info-circle"}));break;default:n(e("i",{className:"pi pi-undo"}));break}},m=f=>{switch(f){case"success":g("z-[10000] text-white bg-green-400 rounded-lg  w-24 ");break;case"failure":g("z-[10000] text-white bg-red-400 rounded-lg  w-24");break;case"warning":g("z-[10000] text-white bg-yellow-400 rounded-lg  w-24");break;case"info":g("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break;default:g("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break}},w=({type:f,message:c,title:C,open:E})=>{y(f),m(f),S({type:f,message:c,title:C,open:E}),d(E?"block":"hidden"),setTimeout(()=>{d("hidden")},3e3)};return e(Et.Provider,{value:{renderToast:w},children:a(ce,{children:[t,a("div",{className:`${xs} ${o} ${v}`,role:"alert",children:[s,a("span",{children:[e("span",{className:"font-medium",children:"   "+x.title})," "+x.message]})]})]})})};function de(){return i.exports.useContext(Et)}const vs=async()=>{"caches"in window&&(await caches.keys()).forEach(async o=>{await caches.delete(o)}),localStorage.clear(),sessionStorage.clear()};window.addEventListener("unload",()=>{localStorage.clear(),sessionStorage.clear(),"caches"in window&&caches.keys().then(t=>{t.forEach(o=>caches.delete(o))})});const We=i.exports.createContext({}),bs=({children:t})=>{const[o,d]=i.exports.useState(),[s,n]=i.exports.useState(""),{setPermissionsLogin:v}=Fe(),{renderToast:g}=de();i.exports.useEffect(()=>{const m=sessionStorage.getItem("token"),w=sessionStorage.getItem("auth"),f=sessionStorage.getItem("perfil")||"";if(m&&w){const c=JSON.parse(w);d(c),n(f),at(m,c.login,c.id)}},[]);const x=async m=>{var w;try{const c=(await he.post("/login",{...m,password:parseInt(m.password)})).data;setTimeout(()=>{y()},8e6);const C=(c==null?void 0:c.user)||c.data,E=(c==null?void 0:c.accessToken)||c.data.accessToken,l=(w=C.perfil)!=null&&w.nome?C.perfil.nome.toLowerCase():C.perfil.toLowerCase();sessionStorage.setItem("token",E),sessionStorage.setItem("auth",JSON.stringify(C)),sessionStorage.setItem("perfil",l),C.permissoes.length&&v&&v(C.permissoes),n(l),d(C),await at(E,C.login,C.id),g({type:"success",title:" ",message:"Bem vindo!",open:!0})}catch(f){S(f)}},S=m=>{const w=m!=null&&m.data?m==null?void 0:m.data.message:"Usu\xE1rio n\xE3o encontrado!";g({type:"failure",title:m.status||"Erro no Login!",message:w,open:!0})},y=async()=>{vs(),d(void 0);try{await he.get("/logout")}catch(m){console.log(m)}};return e(We.Provider,{value:{signed:Boolean(o),user:o,Login:x,Logout:y,perfil:s},children:t})},De=()=>i.exports.useContext(We),Ke="/assets/logo-lg.ee70d40f.jpg";function J({icon:t,size:o="full",type:d="primary",color:s="white",text:n,loading:v,disabled:g=!1,onClick:x,typeButton:S="submit"}){return e(qt,{disabled:g,icon:t,type:S,loading:v,label:o==="icon"?"":n,onClick:x,className:be(" text-white text-sm rounded-md border-none ",{"bg-violet-800 hover:bg-violet-600":d==="primary","bg-yellow-400 hover:bg-violet-800":d==="second","bg-transparent hover:bg-transparent":d==="transparent","text-white":s==="white","text-red-400 hover:text-violet-800 focus:text-violet-600":s==="red","text-green-400 hover:text-violet-800 focus:text-violet-600":s==="green","text-yellow-400 hover:text-violet-800 focus:text-violet-600":s==="yellow","text-violet-800 hover:text-violet-600 focus:text-violet-600":s==="violet","w-full":o==="full","sm:w-2/5 w-full":o==="md"})})}function me({onChange:t,onClick:o,value:d,labelText:s,id:n,type:v,customClass:g,options:x,customCol:S,validate:y,errors:m,control:w,disabled:f,hidden:c,buttonAdd:C}){const E=()=>{switch(v){case"select":return e(ne,{name:n,control:w,rules:y,render:({field:l})=>e(tt,{value:d||l.value,virtualScrollerOptions:{itemSize:38},options:x,onChange:I=>(t&&t(I.value),l.onChange(I.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:f})});case"multiselect":return e(ne,{name:n,control:w,rules:y,render:({field:l})=>e(es,{disabled:f,id:l.id,display:"chip",optionLabel:"nome",filter:!0,value:d||l.value,onChange:I=>{ds(),t&&t(I.value),l.onChange(I.value)},options:x})});case"list":return e(ne,{name:n,control:w,rules:y,render:({field:l})=>e(Xt,{value:l.value,options:x,onChange:I=>l.onChange(I.value),multiple:!0,filter:!0,optionLabel:"nome",listStyle:{maxHeight:"300px"}})});case"textarea":return e(ne,{name:n,control:w,rules:y,render:({field:l})=>e("textarea",{id:l.id,...l,value:d||(l==null?void 0:l.value),className:g,disabled:f,rows:"8"})});case"switch":return e(ne,{name:n,control:w,rules:y,render:({field:l})=>a("div",{className:"grid grid-cols-6 justify-start items-center h-8",children:[a("span",{className:"col-span-4 text-violet-800",children:[" ",s," "]}),e("div",{className:"col-span-2",children:e(Zt,{checked:d||l.value,color:"#685ec5",value:d,disabled:f,onChange:I=>{l.onChange(I.target.value),t&&t(I.target.value)}})})]})});case"tel":return e(ne,{name:n,control:w,rules:y,render:({field:l})=>e(Qt,{disabled:f,value:d||l.value,type:v,className:"inputAnimado font-inter font-light"+g,mask:"(99) 9999-9999",onChange:I=>l.onChange(I.value)},l.id)});case"checkbox":return e(ne,{name:n,control:w,rules:y,render:({field:l})=>a(ce,{children:[e(Kt,{checked:d,type:v,className:"inputAnimado "+g,onChange:I=>{l.onChange(I.target.checked),t&&t(I.target.checked)}}),a("span",{className:"col-span-4 text-violet-800",children:[" ",s," "]})]})});case"time":return e(ne,{name:n,control:w,rules:y,render:({field:l})=>i.exports.createElement("input",{id:l.id,...l,value:d||l.value,key:l.id,type:v,className:"inputAnimado font-inter "+g,disabled:f,onInput:I=>{l.onChange(I),t&&t(I)}})});case"price":return e(ne,{name:n,control:w,rules:y,render:({field:l})=>e("div",{className:"inputAnimado font-inter "+g,id:l.id,children:a("div",{className:"p-inputgroup",children:[e(Wt,{value:d||l.value,disabled:f,onInput:I=>{l.onChange(I),t&&t(I)}}),e("span",{className:"p-inputgroup-addon",children:"R$"})]})})});case"date":return e(ne,{name:n,control:w,rules:y,render:({field:l})=>i.exports.createElement("input",{disabled:f,id:l.id,...l,value:d||l.value,key:l.id,type:v,className:"inputAnimado "+g,autoComplete:"off",min:(y==null?void 0:y.min)&&y.min,onInput:I=>{l.onChange(I),t&&t(I)}})});case"input-add":return a("div",{className:"grid  gap-2 grid-cols-6",children:[e(ne,{name:n,control:w,rules:y,render:({field:l})=>i.exports.createElement("textarea",{disabled:f,id:l.id,...l,value:d||l.value,key:l.id,className:"inputAnimado col-span-5",autoComplete:"off",onInput:I=>{l.onChange(I),t&&t(I)},rows:2})}),C?e(J,{text:"Add",icon:"pi pi-plus",type:"primary",size:"icon",onClick:()=>o&&o("add")}):!f&&e(J,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>o&&o("remove")})]});case"select-add":return a("div",{className:"grid  gap-2 grid-cols-6",children:[e(ne,{name:n,control:w,rules:y,render:({field:l})=>e(tt,{className:"col-span-5",value:d||l.value,virtualScrollerOptions:{itemSize:38},options:x,onChange:I=>(t&&t(I.value),l.onChange(I.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:f})}),C?e(J,{text:"Add",icon:"pi pi-plus",type:"primary",size:"icon",onClick:()=>o&&o("add"),typeButton:"button",disabled:f}):f&&e(J,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>o&&o("remove"),typeButton:"button"})]});default:return e(ne,{name:n,control:w,rules:y,render:({field:l})=>i.exports.createElement("input",{disabled:f,id:l.id,...l,value:d||l.value,key:l.id,type:v,className:"inputAnimado "+g,autoComplete:"off",onInput:I=>{l.onChange(I),t&&t(I)}})})}};return a("div",{className:be("label-float",{"my-5":!S,hidden:c&&c},S),children:[E(),v!=="switch"&&v!=="checkbox"&&a("label",{children:[" ",s," "]}),m&&m[n]&&e("p",{className:"text-xs text-red-400 text-end",children:m[n].message})]})}function Nt({size:t="md",color:o="gray-dark",children:d}){return e("span",{className:be("font-bold",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":o==="white","text-gray-300":o==="gray-light","text-gray-400":o==="gray","text-gray-800":o==="gray-dark","text-violet-800":o==="violet","text-yellow-400":o==="yellow","text-black":o==="black"}),children:d})}function ys({size:t="md",color:o="gray-dark",text:d,display:s="grid",subtext:n,icon:v,className:g}){return a("div",{className:be("flex gap-4 font-normal tracking-wider text-start items-center text-ellipsis overflow-hidden whitespace-nowrap",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":o==="white","text-gray-300":o==="gray-light","text-gray-400":o==="gray","text-gray-800":o==="gray-dark","text-violet-800":o==="violet","text-yellow-400":o==="yellow","text-red-900":o==="red","text-black":o==="black"},g),children:[v&&e("div",{className:"flex items-center",children:e("i",{className:v})}),a("span",{className:s,children:[d,"\xA0",a("strong",{className:"font-inter",children:[" ",n]})]})]})}function ae({children:t,legend:o,customCss:d,onClick:s,type:n="default"}){return e("fieldset",{className:be("px-2 items-center bg-white   shadow-sm mt-2",d,{"border-to":n.toUpperCase()==="TO","border-fono":n.toUpperCase()==="FONO","border-psico":n.toUpperCase()==="PSICO","border-black":n.toUpperCase()==="PSICOPEDAG","border-motricidade":n.toUpperCase()==="MOTRICIDADE","border-musicoterapia":n.toUpperCase()==="MUSICOTERAPIA","border-white":n.toUpperCase()==="DEFAULT"}),onClick:s,children:e("div",{className:"py-4 w-full ",children:t})})}function Qe({id:t,legend:o,fields:d,screen:s,loading:n,nameButton:v,dropdown:g,onSubmit:x,onInclude:S,onReset:y,defaultValues:m}){const{setValue:w,handleSubmit:f,control:c,reset:C}=Pe({defaultValues:m}),{hasPermition:E}=Fe(),l=()=>{C(),y()},I=M=>{x(M)};return i.exports.useEffect(()=>{E(`${s}_FILTRO_SELECT_AGENDADOS`)||w("naFila",!0)}),e(xe,{children:e(ge,{header:o,tabIndex:0,children:a("form",{id:t,action:"#",onSubmit:f(I),className:"flex-1",children:[e("div",{className:"grid grid-cols-6 gap-4",children:d.map(M=>E(M.permission)&&e(me,{labelText:M.labelText,id:M.id,type:M.type,customCol:M.customCol,control:c,options:M.type==="select"?g[M.name]:void 0},M.id))}),e("div",{className:"flex items-center mt-10 gap-2 justify-between",children:a(ce,{children:[S&&E(`${s}_FILTRO_BOTAO_CADASTRAR`)&&e("div",{className:"sm:text-end",children:e(J,{text:v||"Cadastrar",icon:"pi pi-plus",type:"primary",size:"sm",onClick:S})}),e("div",{className:"hidden sm:w-2/4 ml-auto sm:grid grid-cols-2 gap-2",children:a(ce,{children:[E(`${s}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(J,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"full",onClick:l})}),E(`${s}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(J,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"full",loading:n,onClick:()=>f(I)})})]})}),e("div",{className:"sm:w-2/4 ml-auto grid sm:hidden grid-cols-2 gap-2",children:a(ce,{children:[E(`${s}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(J,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"icon",onClick:l})}),E(`${s}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(J,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"icon",loading:n,onClick:()=>f(I)})})]})})]})})]})})})}function Le(){return a("div",{className:"uppercase flex items-center gap-4 m-auto mt-2 justify-center",children:[e("i",{className:"pi pi-folder-open"}),e(Nt,{color:"gray",children:"N\xE3o h\xE1 itens"})]})}const Ct="Comp 1",St="",It=[{ty:4,nm:"circle outline",mn:"",sr:1,st:0,op:180,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[0,0,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[55.228,0],[0,-55.228],[-55.228,0]],o:[[0,-55.228],[-55.228,0],[0,55.228],[55.228,0]],v:[[0,0],[-100,-100],[-200,0],[-100,100]]},ix:2}},{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[-55.228,0],[0,-55.228],[55.228,0]],o:[[0,-55.228],[55.228,0],[0,55.228],[-55.228,0]],v:[[0,0],[100,-100],[200,0],[100,100]]},ix:2}},{ty:"tm",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:0,k:80,ix:2},o:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:3},s:{a:0,k:100,ix:1},m:2},{ty:"st",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:52,ix:5},d:[],c:{a:0,k:[.4,.1608,.4667],ix:3}}],ind:1,parent:2},{ty:4,nm:"circle",mn:"",sr:1,st:0,op:200,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[960,540,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[-100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 2",d:1,p:{a:0,k:[100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.4,.1608,.4667],ix:4},r:1,o:{a:0,k:100,ix:5}}],ind:2}],kt=0,Pt=1080,At=1920,Ft={a:"",k:"",d:"",g:"@lottiefiles/toolkit-js 0.22.1",tc:"#000000"},Dt="5.7.4",Lt=30,Ot=180,Rt=0,Tt=[],ws={nm:Ct,mn:St,layers:It,ddd:kt,h:Pt,w:At,meta:Ft,v:Dt,fr:Lt,op:Ot,ip:Rt,assets:Tt},Es=Object.freeze(Object.defineProperty({__proto__:null,nm:Ct,mn:St,layers:It,ddd:kt,h:Pt,w:At,meta:Ft,v:Dt,fr:Lt,op:Ot,ip:Rt,assets:Tt,default:ws},Symbol.toStringTag,{value:"Module"}));function Ze(){return e("div",{className:"flex items-center justify-center",children:e(as,{loop:!0,animationData:Es,play:!0,style:{width:200,height:200}})})}function Ns({heading:t}){return a("div",{className:"mb-10 text-center",children:[e("div",{className:"flex justify-center",children:e("img",{alt:"",className:"h-32 ",src:Ke})}),e(Nt,{size:"lg",children:t})]})}const Cs=[{labelText:"Login",labelFor:"username",id:"username",name:"username",type:"text",autoComplete:"text",isRequired:!0,placeholder:"Login",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o xxx.xxx"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Senha",labelFor:"password",id:"password",name:"password",type:"password",isRequired:!0,placeholder:"Senha",validate:{required:"Campo obrigat\xF3rio!"}}],zt=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Paciente",id:"pacienteId",name:"paciente",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_SELECT_PROTOCOLO",labelText:"Protocolo",id:"protocoloId",name:"protocolo",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"}],Ss=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Procedimento de Ensino",id:"procedimentoEnsinoId",name:"procedimentoEnsino",type:"select",singleSelect:!1,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Programa",id:"programaId",name:"programa",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Est\xEDmulo Discriminativo",id:"estimuloDiscriminativo",name:"estimuloDiscriminativo",type:"text",customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Resposta",id:"resposta",name:"resposta",type:"text",customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Est\xEDmulo Refor\xE7ador Positivo",id:"estimuloReforcadorPositivo",name:"estimuloReforcadorPositivo",type:"text",customCol:"col-span-6 sm:col-span-6"}],Is=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Paciente",id:"pacienteId",name:"paciente",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Protocolo",id:"protocoloId",name:"protocolo",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"}],Mt=Cs,ks={};Mt.forEach(t=>ks[t.id]="");function Ps(){const t={username:"cristiane.graff",password:"12345678"},[o,d]=i.exports.useState(!1),[s,n]=i.exports.useState(!1),{renderToast:v}=de(),{handleSubmit:g,formState:{errors:x},setValue:S,watch:y,control:m}=Pe({defaultValues:t}),{Login:w}=De(),f=async({username:C,password:E})=>{n(!0);try{await w({username:C,password:E}),n(!1)}catch{n(!1),v({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},c=async C=>{d(C),localStorage.setItem("rememberCheck",JSON.stringify(C)),C?(localStorage.setItem("rememberCheck","true"),localStorage.setItem("rememberLogin",JSON.stringify({username:y("username"),password:y("password")}))):(localStorage.removeItem("rememberLogin"),localStorage.setItem("rememberCheck","false"))};return i.exports.useEffect(()=>{const C=localStorage.getItem("rememberLogin");if(C){const{username:E,password:l}=JSON.parse(C);d(!0),S("username",E),S("password",l)}},[]),a("form",{className:"mt-8 space-y-6",onSubmit:g(f),children:[e("div",{children:Mt.map(C=>e(me,{id:C.id,type:C.type,labelText:C.labelText,control:m,validate:C.validate,errors:x},C.id))}),e(me,{id:"checkbox-login",labelText:"Lembrar login",type:"checkbox",control:m,onChange:c,value:o}),e(J,{text:"Entrar",type:"primary",size:"full",onClick:g(f),loading:s})]})}const As="luck-web",Fs="0.7.0",Ds="module",Ls={dev:"vite --port=3002 --host",start:"node serve.js --host",preview:"vite preview --host",sb:"start-storybook -p 6006",format:'prettier --write "src/**/*.{ts,js,tsx}"',lint:'eslint "src/**/*.{ts,js}" --quiet',build:"export NODE_OPTIONS='--max-old-space-size=8192' && tsc && vite build"},Os={"@fullcalendar/core":"5.11.3","@fullcalendar/daygrid":"5.11.3","@fullcalendar/interaction":"5.11.3","@fullcalendar/list":"5.11.3","@fullcalendar/moment":"5.11.3","@fullcalendar/moment-timezone":"5.11.3","@fullcalendar/react":"5.11.2","@fullcalendar/rrule":"5.11.3","@fullcalendar/timegrid":"5.11.3","@types/uuid":"^9.0.7","@vitejs/plugin-react-refresh":"^1.3.6",autoprefixer:"10.4.12",axios:"1.1.3","chart.js":"3.9.1",clsx:"1.2.1",cors:"2.8.5",express:"4.18.2","jodit-react":"^4.1.2",jspdf:"^2.5.2","jspdf-autotable":"^3.8.4","lottie-react":"2.3.1",moment:"2.29.4","postcss-import":"15.0.0",primeicons:"6.0.1",primereact:"8.7.0",quill:"1.3.7",react:"18.2.0","react-chartjs-2":"4.3.1","react-dom":"18.2.0","react-hook-form":"7.37.0","react-lottie-player":"1.5.4","react-router-dom":"6.4.2",rrule:"2.7.1",url:"0.11.0",uuid:"^9.0.1","vite-plugin-pwa":"^0.17.4","web-vitals":"2.1.4","workbox-background-sync":"6.5.4","workbox-broadcast-update":"6.5.4","workbox-cacheable-response":"6.5.4","workbox-core":"6.5.4","workbox-expiration":"6.5.4","workbox-google-analytics":"6.5.4","workbox-navigation-preload":"6.5.4","workbox-precaching":"6.5.4","workbox-range-requests":"6.5.4","workbox-routing":"6.5.4","workbox-strategies":"6.5.4","workbox-streams":"6.5.4",xlsx:"^0.18.5"},Rs={"@babel/core":"7.19.3","@types/react":"18.0.17","@types/react-dom":"18.0.6","@vitejs/plugin-react":"2.1.0","babel-loader":"8.2.5",prettier:"latest","standard-version":"9.5.0",tailwindcss:"3.2.1",typescript:"4.8.4",vite:"3.1.0","workbox-build":"6.5.4"},Ts={name:As,version:Fs,private:!0,type:Ds,scripts:Ls,dependencies:Os,devDependencies:Rs};function rt(){const[t,o]=i.exports.useState(""),d=i.exports.useCallback(async()=>{const{data:s}=await Ne("/");o(`vers\xE3o frontend: ${Ts.version} - ${s}`)},[]);return i.exports.useEffect(()=>{d()},[d]),a(ce,{children:[e(Ns,{heading:"Prontu\xE1rio"}),e(Ps,{}),e("div",{className:"text-xs absolute bottom-0 text-gray-300 left-0  w-full flex justify-center",children:e("div",{className:"",children:t})})]})}const zs=()=>e("div",{className:"min-h-full h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-md w-full space-y-8",children:e(gt,{children:a(vt,{children:[e(Ve,{path:"/",element:e(rt,{})}),e(Ve,{path:"*",element:e(rt,{})})]})})})}),Ms=({children:t})=>e("div",{className:"h-screen overflow-y-auto",children:e("div",{className:"mx-2 mt-4 mb-16",children:t})}),Bt=i.exports.createContext({}),Bs=({children:t})=>{const[o,d]=i.exports.useState(!1);return e(Bt.Provider,{value:{open:o,setOpen:d},children:t})},$s=()=>{const t=fe(),{Logout:o}=De(),{hasPermition:d,permissions:s}=Fe(),{open:n,setOpen:v}=i.exports.useContext(Bt),[g,x]=i.exports.useState([]),{user:S,perfil:y}=i.exports.useContext(We),m=we(),w=()=>{const E=Ut.filter(l=>l.path!=="*"&&l.menu);x(E)},f=E=>E.split("-").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" "),c=()=>a("aside",{onClick:()=>v(!1),className:"fixed border-box shadow-3xl w-full h-screen z-20  bg-primary duration-700 ease-in-out justify-center",children:[e("div",{className:"bg-logo-md-write bg-no-repeat bg-cover h-[13rem] w-[20rem] mx-auto"}),a("div",{className:"border-y border-primary-text duration-1000 p-4 mt-2",children:[a("h3",{className:"text-primary-text text-center font-light text-sm ",children:[" ",S.nome]}),a("h3",{className:"text-gray-200 text-center font-light text-xs ",children:[" ",cs(y)," "]})]}),e("ul",{className:"list-none p-0 mt-8",children:g.map(E=>{const l=m.pathname.startsWith(E.path);return e("li",{className:`${l?"bg-primary-hover text-primary-text-hover":"text-primary-text"} hover:px-0 hover:bg-primary-hover  hover:text-primary-text-hover duration-700 grid  justify-center`,children:a(ns,{to:E.path,className:"grid grid-cols-2 gap-8 items-center text-sm px-4 py-4  cursor-pointer",children:[e("i",{className:be("text-end",E.icon)}),e("span",{className:"duration-700",children:f(E.path)})]})},E.path)})}),e("i",{onClick:o,className:" pi pi-sign-out duration-700 text-primary-text hover:scale-125 cursor-pointer  w-4 col-span-1 fixed bottom-8 left-[50%]"})]}),C=()=>e("aside",{className:"fixed w-full right-2 shadow-3xl h-12 z-20  bg-primary duration-700 ease-in-out cursor-pointer",children:a("div",{className:"flex justify-between items-center",children:[e("div",{className:"sm:text-end ml-2",children:e(J,{text:"",icon:"pi pi-arrow-left",type:"primary",color:"white",size:"icon",onClick:()=>t(-1)})}),e("div",{className:"w-12 h-12  mt-[1vh] rounded-3xl bg-primary ",onClick:()=>v(!0),children:e("div",{className:"bg-logo-mini bg-no-repeat bg-cover h-12 w-12 duration-700"})})]})});return i.exports.useEffect(()=>{w()},[s]),n?c():e("nav",{className:"fixed h-12 w-full bg-primary mb-8",children:C()})};function it(){const[t,o]=i.exports.useState(),[d,s]=i.exports.useState(!1),{renderToast:n}=de(),{reset:v,handleSubmit:g,formState:{errors:x},control:S}=Pe(),y=()=>{const w=sessionStorage.getItem("auth"),f=JSON.parse(w);o(f)},m=async w=>{s(!0);try{w.id=t.login;const{data:f}=await Be("/usuarios/reset-senha",w);s(!1),v(),n({type:"success",title:"",message:f.message,open:!0})}catch({message:f}){n({type:"failure",title:"401",message:`${f}`,open:!0}),v();return}};return i.exports.useEffect(()=>{y()},[]),e(ce,{children:e(ae,{customCss:"rounded-lg border border-gray-200 p-4",children:a("div",{className:"grid sm:grid-cols-2",children:[e(ys,{text:t==null?void 0:t.nome,subtext:t==null?void 0:t.login,color:"violet",size:"md",icon:"pi pi-id-card",display:"grid"}),a("div",{className:"flex gap-2  my-6 sm:my-0  items-center",children:[e(me,{labelText:"Alterar senha",id:"senha",type:"password",customCol:" w-full",errors:x,validate:{required:!0},control:S}),e("div",{className:" mt-4 ",children:e(J,{text:"Alterar senha",type:"second",icon:"pi pi-sync",size:"icon",onClick:g(m)})})]})]})})})}var He=(t=>(t.atendido="Atendido",t.atestado="Atestado",t.livre="Livre",t.confirmado="Confirmado",t))(He||{});const js=[{permission:"AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-3",type:"date"},{permission:"AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-3",type:"date"}],Xe=({start:t,end:o,statusEventos:d,title:s,localidade:n,isExterno:v,km:g,modalidade:x,dataInicio:S,dataFim:y,dataAtual:m})=>a("div",{className:"flex gap-2 w-full item-center",children:[a("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[a("span",{children:[" ",t]})," -",e("span",{children:o})]}),a("div",{className:"text-gray-800 text-sm text-center grid justify-center",children:[a("div",{className:"font-base font-semibold text-primary",children:["  ",s," "]}),a("p",{className:"flex gap-4 items-center justify-between",children:[(()=>{let f=x;if(f!=="Avalia\xE7\xE3o"||!S||y)return e("span",{children:f});const c=nt(S,m),C=nt(S,y);return e(ce,{children:a("span",{children:[f,e("span",{className:"font-inter ml-2",children:`${c}/${C}`})," "]})})})()," ",e("span",{children:d})]}),a("p",{className:"flex gap-4 items-center",children:[n,v&&a("span",{className:"font-bold font-inter",children:[" ",`- ${g}km`," "]})]})]})]}),$t=js,_s={};$t.forEach(t=>_s[t.id]="");const Vs=()=>{const{renderToast:t}=de(),o=fe(),[d,s]=i.exports.useState({}),[n,v]=i.exports.useState([]),[g,x]=i.exports.useState(!1),{user:S}=De(),y=new Date,m=ps(y),w=us(y),f=(h,B)=>{h.stopPropagation(),o(`/${re.METAS}`,{state:B})},c=async(h=m,B=w)=>{x(!0);try{const Y=await Ne(`/evento/filtro/${h}/${B}?terapeutaId=${S.id}`);let Q=Object.keys(Y).sort();s(Y),v(Q)}catch{s([]),t({type:"failure",title:"401",message:"Per\xEDodo n\xE3o encontrado!",open:!0})}x(!1)},C=h=>e(ae,{customCss:"border-l-4 border-l-green-400 rounded-lg cursor-not-allowed",children:a("div",{className:"flex gap-2 w-full item-center",children:[a("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[a("span",{children:[" ",h.start]})," -",e("span",{children:h.end})]}),a("div",{className:"text-gray-800 text-center flex items-center justify-center text-md",children:["  ",h.title]})]})},h.id),E=h=>e(ae,{type:h.especialidade.nome,customCss:"border-l-4 rounded-lg cursor-pointer hover:scale-[101%] duration-700 ease-in-out",onClick:()=>o(`/${re.SESSION}`,{state:{item:h}}),children:a("div",{className:"flex",children:[e(Xe,{start:h==null?void 0:h.data.start,end:h==null?void 0:h.data.end,statusEventos:h==null?void 0:h.statusEventos.nome,title:h==null?void 0:h.title,localidade:h==null?void 0:h.localidade.nome,isExterno:h==null?void 0:h.isExterno,km:h==null?void 0:h.km,modalidade:h==null?void 0:h.modalidade.nome,dataInicio:h==null?void 0:h.dataInicio,dataFim:h==null?void 0:h.dataFim,dataAtual:h==null?void 0:h.dataAtual}),h.statusEventos.nome!==He.atendido&&e(J,{text:"Pesquisar",icon:"pi pi-file-edit",type:"primary",size:"icon",loading:g,onClick:B=>f(B,h)}),h.statusEventos.nome==He.atendido&&e(J,{text:"Atendido",type:"transparent",icon:"pi pi-check",size:"icon",color:"violet"})]})},h.id),l=h=>{switch(h.id){case 0:return C(h);default:return E(h)}},I=()=>g?e(Ze,{}):n.length?n.map(h=>a("div",{children:[e("div",{className:"font-inter m-2 text-gray-400",children:ot(h)}),d[h].map(B=>l(B))]},h)):a(ae,{children:[" ",e(Le,{})," "]}),M=i.exports.useMemo(()=>a("div",{className:"text-primary font-base grid justify-start m-2 leading-4",children:[e("span",{className:"font-bold",children:" Agenda "}),a("span",{className:"text-gray-400 font-light text-sm font-inter",children:[" ",ot(new Date)," "]})]}),[]),R=i.exports.useMemo(()=>e(Qe,{id:"form-filter-patient",legend:"Filtro",nameButton:"Agendar",fields:$t,onSubmit:({dataInicio:h,datatFim:B})=>c(h,B),onReset:()=>c(),screen:"AGENDA_CALENDARIO",loading:g,dropdown:[]}),[]);return i.exports.useEffect(()=>{c()},[]),a(ce,{children:[R,M,I()]})},Ue=({onChange:t,value:o,disabled:d})=>{const[s,n]=i.exports.useState(o);return e(qe,{value:s,defaultValue:o,options:[{value:"C",icon:a("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#662C75"}),e("path",{transform:"translate(773,169)",d:"m0 0h61l30 2 32 5 30 8 27 9 21 9 16 8 19 10 23 14 14 10 15 11 11 9 12 11 10 9 7 8 10 11 10 13 13 18 11 17 10 18 11 24 10 26 8 28 5 26 2 20v26l-3 24-5 23-8 24-9 20-8 14-9 13-8 10-11 13-10 9-9 7-14 9-17 8-15 5-18 4-22 2-23-2-32-6-21-6-21-8-22-12-13-9-15-13-9-9-12-16-9-16-7-18-8-30-5-19-4-8-3-2h-6l-9 6-4 5-4 7-3 14-3 46-2 58-4 91-7 121-1 31v45l1 23 4 35 6 26 5 12 9 13 9 6 7 2 12-1 14-4 25-13 17-12 11-8 14-11 11-9 13-11 8-7 13-11 14-11 13-10 17-12 13-8 17-10 16-8 21-8 19-5 7-1h25l20 4 15 6 12 8 8 7 7 8 10 14 11 21 7 19 6 22 4 22 3 26 1 17v47l-2 27-6 37-7 31-8 25-8 20-8 17-14 24-8 12-14 19-9 10-7 8-17 17-10 8-13 10-14 10-15 9-23 12-21 9-36 12-36 9-21 4-32 4-29 3-16 1h-53l-20-2-32-5-27-6-26-8-22-8-25-11-19-10-22-13-13-9-16-13-14-12-37-37-9-11-8-9-12-16-18-27-12-20-18-35-12-26-11-27-12-35-10-36-9-38-7-36-5-35-3-34-3-53-1-26v-64l3-57 3-37 7-56 7-45 9-46 10-42 10-35 15-43 15-36 16-32 6-11 6-10 10-16 13-19 14-18 10-12 7-8 15-16 7-6 5-5 8-7 10-8 11-8 17-12 10-6 21-12 25-11 36-12 23-6 22-4z",fill:"#FDFDFD"})]})},{value:"DT",icon:a("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(374,334)",d:"m0 0h42l24 2 31 4 25 6 21 8 16 8 23 13 22 15 13 10 13 11 11 9 15 14 9 9 7 8 11 12 9 11 12 15 13 18 11 17 12 20 14 27 11 23 8 19 10 29 7 23 6 29 4 27 3 35 1 25v49l-2 33-3 28-6 35-9 40-11 36-12 32-11 24-12 23-8 14-11 17-10 15-12 16-11 13-9 11-22 22-8 7-9 8-14 11-18 13-15 10-20 12-16 8-16 7-16 5-16 3-40 4h-47l-37-4-24-4-22-6-21-8-16-9-9-7-10-10-8-14-5-12-5-21-13-73-13-75-18-109-15-95-15-101-10-71-10-77-6-50-4-45-3-42 1-17 5-10 10-13 9-9 17-13 22-12 14-6 24-8 31-8 32-6 43-5z",fill:"#FEFFFE"}),e("path",{transform:"translate(1039,294)",d:"m0 0h54l34 2 45 4 29 4 38 7 36 8 29 8 29 10 26 11 25 12 24 14 16 12 11 9 16 16 10 13 10 15 8 16 6 15 6 21 2 14v26l-4 26-5 19-8 21-8 14-12 17-13 10-14 8-19 7-17 4-27 3-15 1h-45l-39-3h-5l2 24 5 102 1 24 1 41v90l-1 31-4 48-6 45-7 40-8 32-10 30-9 20-10 19-13 18-11 12-12 11-13 8-17 7-20 5h-29l-19-3-31-7-20-6-19-8-19-10-13-10-10-9-9-10-9-13-8-16-6-15-7-27-4-26-1-11v-42l3-37 6-47 5-38 10-60 11-64 9-50 12-70 9-53 4-26-14-2-44-8-24-7-25-10-17-8-13-9-13-11-10-10-13-18-10-21-6-20-4-22v-29l4-23 8-20 7-12 11-13 13-13 18-13 18-10 17-8 25-8 31-8 30-5 39-4z",fill:"#FEFFFE"}),e("path",{transform:"translate(414,632)",d:"m0 0h24l15 4 12 6 10 9 9 11 10 17 6 15 5 16 4 19 2 18v31l-3 24-6 25-9 27-12 25-7 10-9 12-7 9-10 7h-3l-8-55-8-47-9-50-8-43-10-48-5-26v-9l4-4 6-2z",fill:"#682D75"})]})},{value:"DP",icon:a("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(1028,292)",d:"m0 0h65l48 3 37 4 31 6 25 7 24 8 22 9 19 10 18 10 21 14 16 12 14 12 16 16 9 11 12 15 16 24 12 22 10 21 9 23 12 36 7 26 6 32 2 18 1 19v17l-2 28-4 25-6 26-11 33-9 20-12 22-9 14-10 14-13 16-7 7-7 8-16 15-13 10-14 10-18 11-22 12-29 12-27 9-26 6-26 4-34 3-18 1h-50l1 13v101l-3 31-4 23-6 21-9 21-10 16-11 13-8 8-8 6-10 6-12 5-16 5-21 4-17 2h-24l-25-3-30-7-21-8-18-10-10-8-9-8-9-11-10-14-9-16-8-20-6-19-8-32-5-27-4-33-2-40-2 1-7 25-9 22-9 17-8 16-11 20-9 14-11 16-13 18-10 12-9 11-28 28-11 9-13 11-18 13-20 13-15 9-23 12-15 6-15 4-25 4-27 2-30 1-35-2-32-4-23-5-21-7-18-8-12-7-10-9-7-7-9-15-6-20-7-37-18-102-12-74-9-55-10-64-17-114-8-59-10-75-10-82-3-32-3-44v-27l6-12 9-12 11-11 12-9 20-12 15-7 30-10 36-9 30-5 32-4 26-2 20-1h35l31 2 29 4 24 6 25 10 26 14 24 16 19 14 13 11 14 12 25 25 7 8 13 15 11 14 12 16 14 21 15 25 19 38 13 28 11 28 8 28 5 23 3 18h3l1-25 7-73 9-74 6-37 10-47 7-26 7-21 10-24 7-14 10-17 10-13 11-12 10-8 16-9 15-6 24-5 27-3z",fill:"#FEFFFE"}),e("path",{transform:"translate(432,631)",d:"m0 0h19l14 3 12 5 11 8 10 12 8 13 8 17 7 22 4 21 2 27-1 24-4 24-5 19-8 24-11 24-12 18-12 16-9 8-4 1-3-13-4-31-7-43-8-45-9-50-13-66-4-21-1-10 3-4z",fill:"#682D75"}),e("path",{transform:"translate(1119,528)",d:"m0 0 16 3 17 6 16 8 9 7 11 11 8 15 3 10v23l-4 16-9 21-8 14-12 16-11 13-11 12-10 9-12 11-8 7-10 6-6 3-4-1 4-86 4-40 6-40 7-36 3-7z",fill:"#682D75"})]})},{value:"DG",icon:a("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(1142,292)",d:"m0 0h27l35 3 29 5 21 6 20 8 25 12 27 16 19 14 10 8 12 11 19 19 9 11 11 14 11 17 12 21 9 20 9 25 5 18 4 24 1 10v17l-3 27-6 26-6 18-9 19-9 15-9 12-11 12-17 13-21 10-16 5-17 3h-35l-20-3-15-4-14-6-15-10-11-9-10-11-10-15-5-10-5-16-1-5v-8l2-8v-8l-4-13-6-10-1-1h-7l-2 5-8 16-16 33-16 36-20 49-14 39-12 36-10 38-6 29-4 28-1 11v26l3 14 4 11 7 9 8 6 9 4 4 1h11l9-4 11-7 10-10 6-9 2-6v-10l-4-8-6-5-19-11-11-6-5-7-2-7-1-15 4-20 5-12 6-10 7-8 15-10 15-6 22-4 17-1h39l40 2 35 4 23 5 17 5 19 8 11 8 10 9 9 13 7 14 5 16 3 19v18l-3 29-5 29-7 32-12 36-11 26-10 20-14 23-12 17-10 13-10 11-7 8-11 11-11 9-12 10-15 10-16 10-23 12-19 8-22 7-27 6-26 4-10 1h-39l-25-3-30-5-26-7-27-10-27-13-19-12-16-13-8-7-18-18-9-11-10-13-9-14-10-18-8-16-10-22-12-34-9-30-7-30-3-17-4-34-2 7-3 18-6 20-12 32-11 26-16 32-9 16-15 24-13 18-11 14-11 13-11 12-1 2h-2l-2 4-6 5-12 12-11 9-12 10-20 14-17 11-21 12-25 12-21 7-20 4-26 2-19 1h-31l-36-3-24-4-26-7-22-8-16-8-11-8-10-10-9-13-7-22-9-47-15-90-9-58-14-92-10-68-13-93-10-77-9-74-7-61-4-48-2-38v-21l5-12 10-14 8-8 12-9 22-13 20-9 27-9 29-7 27-5 32-4 26-2 28-1h30l29 1 28 3 19 4 20 6 18 8 16 8 20 12 12 8 18 13 14 11 12 11 8 7 21 21 7 8 11 13 13 17 15 20 11 17 14 24 14 27 9 19 12 30 12 36 6 23 5 26 2 15 1 2h2l2-15 9-40 8-30 16-47 11-29 8-19 9-20 13-27 12-21 6-11 12-19 13-19 14-18 9-11 9-10 7-8 22-22 11-9 14-11 22-14 19-9 22-8 21-5 31-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(456,627)",d:"m0 0h11l15 3 10 4 10 8 10 11 9 14 8 17 7 22 4 21 2 22v16l-3 26-6 25-8 25-7 16-10 19-7 10-7 11-8 10-7 4-5-1-2-4-3-30-13-79-10-61-12-62-5-24-3-12v-6l3-2z",fill:"#682D75"})]})},{value:"DV",icon:a("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(937,305)",d:"m0 0h11l23 2 25 6 16 6 13 7 12 9 10 9 9 10 9 13 8 16 6 17 6 24 5 29 4 40 3 57 1 37v128l2 4 5 8 1 4 3-9 10-56 17-85 13-55 8-29 12-38 11-28 8-18 12-21 9-13 9-12 15-16 15-13 16-10 16-8 15-5 25-4h38l30 4 20 5 19 7 24 12 13 9 14 11 12 12 12 16 11 19 8 19 6 23 3 23v26l-3 30-7 39-9 37-10 36-13 40-16 44-16 40-13 31-16 36-11 24-13 28-20 41-27 54-12 22-12 24-12 22-16 30-12 22-16 29-13 22-10 15-7 11-11 13-9 11-8 7-12 11-14 10-16 10-21 10-21 7-23 5-18 2h-26l-27-3-25-5-20-6-20-8-17-8-18-11-16-12-17-16-13-13-11-14-16-24-12-21-14-30-11-29-12-37-11-40-12-52-8-44-9-58-5-46-4-52-2-35-1-32v-28l1-36 4-55 8-71 5-28 6-23 8-22 8-16 11-17 9-11 13-13 14-11 19-11 10-5 15-5 23-5z",fill:"#FEFEFE"}),e("path",{transform:"translate(359,338)",d:"m0 0h29l38 3 27 4 23 6 19 8 19 10 11 6 30 20 17 13 11 9 14 12 25 25 9 11 9 10 11 14 14 19 14 21 17 29 19 38 11 25 11 30 7 25 6 32 4 35 2 41v55l-1 21-5 40-6 32-8 36-9 31-7 20-10 25-10 22-10 19-11 19-14 21-11 16-18 22-10 11-7 8-8 8-8 7-11 10-11 9-16 12-15 10-14 9-18 10-21 10-19 6-26 5-22 3-16 1h-37l-23-2-26-4-24-5-20-6-15-6-15-8-10-8-7-7-9-14-4-10-6-25-14-71-12-66-10-56-20-116-8-49-10-62-13-85-19-135-6-48-3-42v-20l8-17 9-11 9-9 14-10 14-9 23-11 16-6 29-8 26-6 36-6 42-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(390,636)",d:"m0 0h22l16 4 13 7 12 11 8 10 7 12 7 16 7 21 5 25 1 10v32l-4 24-9 36-9 22-8 16-12 19-10 13-5 5-7 1-2-4-3-26-6-29-11-66-16-81-9-37-5-25 1-9 6-5z",fill:"#682D75"})]})}],onChange:x=>(t(x.value),n(x.value)),optionLabel:"value",optionValue:"value",iconTemplate:({option:x})=>x==null?void 0:x.icon,className:"w-8 h-8",disabled:d})},Hs=({onChange:t,value:o,disabled:d})=>{const[s,n]=i.exports.useState(o);return e(qe,{value:s,defaultValue:o,options:[{value:"S",icon:a("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#672D74"}),e("path",{transform:"translate(825,261)",d:"m0 0h20l29 2 27 4 21 5 20 7 20 9 16 8 22 13 19 13 11 9 10 9 15 15 13 17 10 16 8 16 6 19 2 13v11l-2 16-5 16-7 16-12 20-10 13-17 17-15 10-15 8-15 5-16 3h-14l-17-3-10-4-12-9-8-10-8-16-7-20-9-27-6-8-8-4-13-2-12 3-11 6-8 7-8 13-5 14-2 18 1 15 5 15 9 16 11 14 11 12 8 8 11 9 14 11 19 14 33 22 15 11 34 24 17 13 14 12 12 11 16 16 9 11 10 12 13 19 8 13 12 23 10 22 9 28 6 25 4 28 1 19v16l-2 23-5 28-5 19-7 20-9 20-10 19-9 14-10 14-10 13-10 11-7 8-12 12-11 9-10 8-14 10-14 9-17 10-23 12-25 10-22 7-26 6-23 3-17 1h-21l-20-1-29-4-24-5-28-7-29-10-26-11-22-10-23-13-18-12-10-8-13-11-9-9-6-5-7-8-11-13-11-17-12-23-7-19-4-20v-20l3-15 5-16 7-14 9-14 9-11 10-10 10-7 12-5 9 1 18 6 37 17 27 13 25 10 22 6 13 2h21l14-3 10-5 6-5 9-12 4-12v-15l-4-15-10-19-10-13-14-14-14-11-17-13-14-10-34-23-15-11-18-14-12-11-8-7-13-14-11-14-8-10-10-15-11-19-9-17-11-26-8-24-7-26-5-28-1-11v-43l5-33 7-28 11-29 8-17 11-19 12-17 8-10 7-9 9-10 22-22 13-10 14-10 17-11 18-10 22-10 35-12 24-6 23-4 19-2z",fill:"#FDFDFD"})]})},{value:"N",icon:a("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#672C74"}),e("path",{transform:"translate(997,295)",d:"m0 0h20l24 3 19 5 16 7 12 7 14 10 10 10 9 12 11 17 11 24 5 15 6 25 6 37 6 59 5 61 4 71 2 43 2 79v72l-1 45-2 42-4 46-7 51-6 34-8 33-12 36-9 21-10 18-16 23-18 18-16 10-14 7-20 6-19 3h-20l-20-3-15-4-16-6-17-9-15-11-12-11-8-8-9-11-14-19-13-22-12-23-14-29-14-34-24-64-15-44-15-42-12-36-5-10-2-1 6 29 5 33 4 36 2 40v68l-2 28-4 28-6 27-7 22-7 17-10 18-10 14-14 15-11 8-14 7-15 5-16 2h-18l-21-2-21-5-21-9-15-9-10-8-9-8-7-8-10-13-8-13-10-19-9-25-7-25-8-38-5-31-5-49-3-51-1-36v-61l2-97 3-71 5-69 6-65 5-37 7-30 10-27 10-19 8-14 12-16 9-11 11-12 13-12 13-10 14-9 25-12 14-4 15-3 9-1h22l19 3 18 6 15 8 14 10 15 13 9 9 9 11 11 14 11 16 10 17 13 24 11 23 15 34 13 32 14 43 14 49 9 33 15 45 3 2-7-32-7-46-7-47-8-46-5-46-3-41v-30l3-26 6-22 8-16 10-17 9-11 14-14 12-9 18-10 14-5 19-4z",fill:"#FEFEFE"})]})}],onChange:x=>(t(x.value),n(x.value)),optionLabel:"value",optionValue:"value",iconTemplate:({option:x})=>x==null?void 0:x.icon,className:"w-8 h-8",disabled:d})};var V=(t=>(t[t.portage=1]="portage",t[t.vbMapp=2]="vbMapp",t[t.pei=3]="pei",t))(V||{}),pe=(t=>(t.sim="1",t.asVezes="0.5",t.nao="0",t))(pe||{}),Ye=(t=>(t.socializacao="Socializa\xE7\xE3o",t.cognicao="Cogni\xE7\xE3o",t))(Ye||{}),Je=(t=>(t[t.um=1]="um",t[t.dois=2]="dois",t[t.tres=3]="tres",t))(Je||{});const lt="maintenance",Me="activity",ct="portage",dt="vbmapp",Us=()=>{const{renderToast:t}=de(),o=we(),d=fe(),{state:s}=o,n=i.exports.useRef(null),[v,g]=i.exports.useState(10),[x,S]=i.exports.useState(1),[y,m]=i.exports.useState(""),[w,f]=i.exports.useState([]),[c,C]=i.exports.useState([]),[E,l]=i.exports.useState([]),[I,M]=i.exports.useState([]),[R,h]=i.exports.useState([]),[B,Y]=i.exports.useState([]),[Q,Z]=i.exports.useState({}),[le,b]=i.exports.useState([]),[H,j]=i.exports.useState([]),[p,u]=i.exports.useState(!1),[N,k]=i.exports.useState(!1),F=async()=>{try{const r=await Ne(`/sessao/${s.item.id}`);if(r){m(r.resumo),Z(r),u(!0);const[L,A]=await Promise.all([T(r.sessao,Me),T(r.maintenance,lt)]);f(L),l(r.portage),M(r.vbmapp),C(A),h(r.sessao)}else await _()}catch{}},_=async()=>{try{const r=await Ne(`/pei/activity/session/${s.item.paciente.id}`),[L,A,O,U]=await Promise.all([T(r.atividades,Me,V.portage),T(r.maintenance,lt,V.portage),T(r.portage,ct,V.portage),T(r.vbmapp,dt,V.vbMapp)]);f(L),h(r.sessao),C(A),l(O),M(U)}catch{}},P=async()=>{try{const r={calendarioId:s.item.id,pacienteId:s.item.paciente.id,sessao:R,maintenance:c,selectedMaintenanceKeys:B,resumo:y,date:s.item.date,portage:le,vbmapp:H,...Q};p?await Be("/sessao",r):await Ae("/sessao",r),t({type:"success",title:"",message:"Sess\xE3o atualizada!",open:!0}),d(`/${re.CALENDAR}`)}catch{t({type:"failure",title:"401",message:"Sess\xE3o n\xE3o atualizada!",open:!0})}},$=i.exports.useMemo(()=>{var r,L,A,O,U,K,ee,te,Ce,Se,et;return e(Xe,{start:(r=s.item)==null?void 0:r.data.start,end:(L=s.item)==null?void 0:L.data.end,statusEventos:(A=s.item)==null?void 0:A.statusEventos.nome,title:(O=s.item)==null?void 0:O.title,localidade:(U=s.item)==null?void 0:U.localidade.nome,isExterno:(K=s.item)==null?void 0:K.isExterno,km:(ee=s.item)==null?void 0:ee.km,modalidade:(te=s.item)==null?void 0:te.modalidade.nome,dataInicio:(Ce=s.item)==null?void 0:Ce.dataInicio,dataFim:(Se=s.item)==null?void 0:Se.dataFim,dataAtual:(et=s.item)==null?void 0:et.dataAtual})},[]),z=async(r,L,A=V.portage)=>{const O={key:r.key,label:r.label};return r.permiteSubitens&&r.children&&r.children.length>0?(O.estimuloDiscriminativo=(r==null?void 0:r.estimuloDiscriminativo)||"",O.estimuloReforcadorPositivo=(r==null?void 0:r.estimuloReforcadorPositivo)||"",O.resposta=(r==null?void 0:r.resposta)||"",O.children=await Promise.all(r.children.map(async U=>({key:U.key,label:U.label,children:Array.from({length:10}).map(()=>null)})))):A===V.vbMapp&&r.permiteSubitens?(O.children=Array.from({length:10}).map(()=>null),O.permiteSubitens=r.permiteSubitens):r.children&&r.children.length>0?O.children=await Promise.all(r.children.map(async U=>z(U,L,A))):O.children=Array.from({length:L===Me||L===ct||L===dt?v:x}).map(()=>null),O},T=async(r,L=Me,A=V.portage)=>await Promise.all(r.map(async O=>z(O,L,A))),D=(r,L,A,O,U)=>e(Ue,{value:U,disabled:w[r].children[L].children[A].disabled||p,onChange:K=>{const ee=[...w];w[r].children[L].children[A].children[O]!==K&&(ee[r].children[L].children[A].children[O]=K,h(ee))}},O),q=(r,L,A,O)=>e(Hs,{value:O,disabled:c[r].children[L].children[A].disabled||p,onChange:U=>{const K=[...c];c[r].children[L].children[A].children[0]!==U&&(K[r].children[L].children[A].children[0]=U,Y(K))}},0),G=(r,L)=>a(ut,{className:"text-[8px]",children:[a("div",{className:"font-bold text-wrap",children:[" ",r," "]}),a("div",{className:"font-normal text-wrap",children:[" ",L]})]}),X=(r,L,A,O)=>e(Ue,{value:O!=null&&O.children?O==null?void 0:O.children[A]:O,disabled:p,onChange:U=>{const K=[...E],te=K[r].children[L];te.children[A].children?te.children[A].children=te.children[A].children.map((Ce,Se)=>Se===A?U:Ce):te.children=te.children.map((Ce,Se)=>Se===A?U:Ce),b(K)}},A),ie=()=>!!I.length&&a("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2 mt-8 leading-4",children:e("span",{className:"font-bold",children:"VB Mapp"})}),e(ae,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(xe,{children:I.map((r,L)=>e(ge,{tabIndex:L,header:e("div",{className:"flex items-center w-full",children:e("span",{children:r.label})}),children:e(xe,{children:r==null?void 0:r.children.map((A,O)=>e(ge,{tabIndex:O,className:"w-[90%]",header:e("div",{className:"flex items-center w-full",children:e("span",{children:A.label})}),children:A.children.map((U,K)=>a("li",{children:[e("span",{children:U.label}),e("div",{className:"flex flex-col gap-1 m-4",children:W(U,L,O)})]}))},A.key))})},r.key))})})]}),W=(r,L,A)=>{var U,K;if(r!=null&&r.children?(U=r==null?void 0:r.children[0])==null?void 0:U.label:!1)return a("div",{children:[a("div",{className:" grid grid-cols-3 gap-1 mb-2",children:[G("SD (est\xEDmulo discriminativo)",(r==null?void 0:r.estimuloDiscriminativo)||""),G("Resposta",(r==null?void 0:r.resposta)||""),G("SR+ (est\xEDmulo refor\xE7ador positivo))",(r==null?void 0:r.estimuloReforcadorPositivo)||"")]}),r==null?void 0:r.children.map((ee,te)=>a("div",{className:"flex flex-col ml-2",children:[a("span",{children:["- ",ee.label]}),e("div",{className:"flex flex-col gap-1",children:W(ee.children,L,A)})]},te))]});if((r==null?void 0:r.label)&&(r==null?void 0:r.children.length)===10)return W(r.children,L,A);if(r.length===10)return e("div",{className:"flex gap-1",children:r.map((ee,te)=>X(L,A,te,ee))});(K=r[0])!=null&&K.children&&r.map((ee,te)=>a("div",{className:"flex flex-col ml-2",children:[a("span",{children:["- ",ee.label]}),e("div",{className:"flex flex-col gap-1",children:W(ee.children,L,A)})]},te))},se=()=>!!E.length&&a("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2 mt-8 leading-4",children:e("span",{className:"font-bold",children:"Portage"})}),e(ae,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(xe,{children:E.map((r,L)=>e(ge,{tabIndex:L,header:e("div",{className:"flex items-center w-full",children:e("span",{children:r.label})}),children:r==null?void 0:r.children.map((A,O)=>a("li",{className:"my-2 grid gap-2 items-center",children:[e("span",{children:A.label}),e("div",{className:"flex flex-col gap-1",children:W(A,L,O)})]},A.key))},r.key))})})]}),oe=()=>!!w.length&&a("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" Manual "})}),!!w.length&&e("div",{className:"text-red-400 font-inter grid justify-start mx-2 leading-4 mt-2",children:e("span",{className:"text-md",children:"Interrompa o treino da atividade ao atingir 4 tentativas corretas consecutivas."})}),w.length?e(ae,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(xe,{children:w.map((r,L)=>e(ge,{tabIndex:L,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:r.label})}),children:r==null?void 0:r.children.map((A,O)=>a("div",{className:"my-8",children:[a("span",{className:"font-bold font-inter",children:["Meta ",O+1,": "]})," ",e("span",{className:"font-base font-inter",children:A.label}),e("ul",{className:"list-disc mt-2 font-inter ml-4",children:A==null?void 0:A.children.map((U,K)=>a("li",{className:"my-2",children:[e("span",{children:U.label}),e("div",{className:"flex gap-1 -ml-4",children:U==null?void 0:U.children.map((ee,te)=>D(L,O,K,te,ee))})]},K))})]},O))},L))})}):e(ce,{})]}),ue=()=>!!c.length&&a("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" Manuten\xE7\xE3o "})}),e(ae,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(xe,{children:c.map((r,L)=>e(ge,{tabIndex:L,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:r.label})}),children:r==null?void 0:r.children.map((A,O)=>a("div",{className:"my-8",children:[a("span",{className:"font-bold font-inter",children:["Meta ",O+1,": "]})," ",e("span",{className:"font-base font-inter",children:A.label}),e("ul",{className:"list-disc mt-2 font-inter ml-4",children:A==null?void 0:A.children.map((U,K)=>a("li",{className:"my-2 flex gap-2 -ml-4 items-center",children:[q(L,O,K,0),e("span",{children:U.label})]},K))})]},O))},L))})})]}),Oe=()=>a(ce,{children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" Resumo "})}),e(ae,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(rs,{ref:n,value:y,config:{readonly:p,language:"pt_br",buttons:"bold,italic,underline,strikethrough,font,fontsize,paragraph,copyformat,table,fullsize,preview",saveModeInStorage:!0},onBlur:r=>m(r),onChange:r=>{}})})]}),Re=()=>e("div",{className:"mt-auto",children:e(J,{text:"Salvar",icon:"pi pi-check",type:"primary",size:"full",loading:N,onClick:()=>P(),disabled:p})});return i.exports.useEffect(()=>{F()},[]),a("div",{className:"grid overflox-y-auto",children:[$,a("div",{className:"",children:[oe(),se(),ie(),ue(),Oe()]}),Re()]})},jt=zt,Ys={};jt.forEach(t=>Ys[t.id]="");const Js=()=>{const{renderToast:t}=de(),o=fe(),d=we(),{state:s}=d,[n,v]=i.exports.useState(!1),[g,x]=i.exports.useState([]),[S,y]=i.exports.useState({}),[m,w]=i.exports.useState(V.pei),f=R=>{o(`/${re.PROTOCOLO}`,{state:{item:R,tipoProtocolo:V.pei}})},c=async R=>{v(!0);try{const h=R.paciente;await ms(`pei/${R.id}`),l({pacienteId:h}),t({type:"success",title:"Sucesso!",message:"PEI removido!",open:!0})}catch{t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}v(!1)},C=(R,h)=>a(ut,{className:"text-[8px]",children:[a("div",{className:"font-bold text-wrap",children:[" ",R," "]}),a("div",{className:"font-normal text-wrap",children:[" ",h]})]}),E=()=>n?e(Ze,{}):S.length?e(ae,{children:e(xe,{children:S.map((R,h)=>e(ge,{header:a("div",{className:"flex items-center  w-full",children:[e("span",{children:R.programa.nome}),m===V.pei&&a("div",{className:"ml-auto",children:[e(J,{text:"editar",type:"transparent",size:"icon",icon:"pi pi-pencil",color:"violet",onClick:()=>f(R),loading:n}),e(J,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>c(R),loading:n})]})]}),tabIndex:h,children:a("div",{className:"w-full overflow-y-auto",children:[a("div",{className:"font-bold my-2",children:[" ",R.procedimentoEnsino.nome]}),a("div",{className:" grid grid-cols-3 gap-1",children:[R.estimuloDiscriminativo&&C("SD (est\xEDmulo discriminativo)",R.estimuloDiscriminativo),R.resposta&&C("Resposta",R.resposta),R.estimuloReforcadorPositivo&&C("SR+ (est\xEDmulo refor\xE7ador positivo))",R.estimuloReforcadorPositivo)]}),e("div",{className:"my-2",children:R.metas.map((B,Y)=>a("div",{children:[a("span",{className:"flex align-items-center gap-2 w-full font-inter",children:["Meta ",Y+1,": ",B.value]}),e("ul",{className:"list-disc	ml-8 font-inter",children:B.subitems&&B.subitems.map((Q,Z)=>a("li",{children:[" ",Q.value," "]},Z))})]},Y))})]})},h))})}):a(ae,{children:[" ",e(Le,{})," "]}),l=async({pacienteId:R,protocoloId:h})=>{v(!0),w(h);try{const{data:B}=await ve("pei",{paciente:R,protocoloId:h});y(B)}catch{y([]),t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}v(!1)},I=()=>e(Qe,{id:"form-filter-pei",legend:"Filtro",nameButton:"Cadastrar",fields:jt,dropdown:g,onSubmit:R=>l(R),onReset:()=>y([]),screen:"PEI",loading:n,onInclude:()=>o(`/${re.PROTOCOLO}`,{state:{tipoProtocolo:V.pei}}),defaultValues:s}),M=i.exports.useCallback(async()=>{const[R,h]=await Promise.all([ye("paciente"),ye("protocolo")]);x({paciente:R,protocolo:h})},[]);return i.exports.useEffect(()=>{s&&l(s),M()},[]),a("div",{children:[I(),E()]})},_t=Ss,Gs={};_t.forEach(t=>Gs[t.id]="");function Ge({paciente:t,param:o}){const d={pacienteId:"",procedimentoEnsinoId:"",programaId:"",estimuloDiscriminativo:"",resposta:"",estimuloReforcadorPositivo:""},[s,n]=i.exports.useState(!1),[v,g]=i.exports.useState([]),[x,S]=i.exports.useState([]),y=we(),m=fe(),{renderToast:w}=de(),{hasPermition:f}=Fe(),{state:c}=y,{handleSubmit:C,formState:{errors:E},setValue:l,control:I,reset:M,watch:R}=Pe({defaultValues:d}),h=i.exports.useCallback(async()=>{const[p,u]=await Promise.all([ye("programa"),ye("pei/procedimento-ensino")]),N={programa:p,procedimentoEnsino:u};g(N),j(N)},[]),B=p=>{var k;const u={...p.metas[0]};delete p.metas;const N=(k=x[0])!=null&&k.selected?{selected:x[0].selected}:{};return{...p,nome:u.value,id:u.id,portage:x[0].portage,faixaEtaria:x[0].faixaEtaria,permiteSubitens:!0,...N,subitems:u.subitems.map((F,_)=>{var $,z;const P=($=x[0].subitems[_])!=null&&$.selected?{selected:(z=x[0].subitems[_])==null?void 0:z.selected}:{};return{nome:F.value,id:F.id,...P}})}},Y=p=>{var D;const{procedimentoEnsinoId:u="",estimuloDiscriminativo:N="",estimuloReforcadorPositivo:k="",resposta:F="",metas:_=[],pacienteId:P="",programaId:$=""}=p!=null?p:{},z=(D=v==null?void 0:v.programa)==null?void 0:D.filter(q=>q.id===$)[0],T=_.map(q=>({id:q.id,nome:q.value,procedimentoEnsinoId:u,estimuloDiscriminativo:N,estimuloReforcadorPositivo:k,resposta:F,pacienteId:P,permiteSubitens:!0,subitems:q.subitems.map((G,X)=>{var W,se;const ie=(W=_[0].subitems[X])!=null&&W.selected?{selected:(se=_[0].subitems[X])==null?void 0:se.selected}:{};return{nome:G.value,id:G.id,...ie}})}));return{programa:z.nome.toLowerCase(),metas:T}},Q=async p=>{var u,N;p.pacienteId=t,n(!0);try{const k={metas:[]};if(Object.values(p).some(F=>F==="")){n(!1),w({type:"failure",title:"Valores Vazios!",message:"Preencha a descri\xE7\xE3o da meta e/ou do item ou exclua-o",open:!0});return}if(Object.keys(p).map((F,_)=>{if(F.includes("-meta-")&&!F.includes("-sub-item-")){const P=F.match(/\d+/),$=F.match(/(\d+)$/),z=Number(P[0]),T=Number($[0]),D=[];Object.keys(p).map((q,G)=>{q.includes(`${z}-meta-${T}-sub-item-`)&&D.push({...ke,id:q,value:p[q]})}),k.metas.push({...Ie,id:F,subitems:D,value:p[F]})}else F.includes("Id")?k[F]=p[F].id:!F.includes("-meta-")&&!F.includes("-sub-item-")&&!F.includes("Id")&&(k[F]=p[F])}),Boolean((u=c==null?void 0:c.item)==null?void 0:u.id)&&(k.id=c.item.id),(c==null?void 0:c.tipoProtocolo)===V.pei)Boolean((N=c==null?void 0:c.item)==null?void 0:N.id)?await Be("pei",k):await Ae("pei",k),m(`/${re.PEI}`,{state:{pacienteId:p.pacienteId}});else if((c==null?void 0:c.tipoProtocolo)===V.portage){const F=B(k);m(`/${re.PROTOCOLO}`,{state:{pacienteId:p.pacienteId,tipoProtocolo:V.portage,metaEdit:F}})}else if((c==null?void 0:c.tipoProtocolo)===V.vbMapp){const F=Y(k);m(`/${re.PROTOCOLO}`,{state:{pacienteId:p.pacienteId,tipoProtocolo:V.vbMapp,metaEdit:F}})}M(),n(!1),S([]),w({type:"success",title:"Sucesso!",message:"PEI Cadastrado.",open:!0})}catch{n(!1),w({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},Z=()=>{const p=[...x],u=R("programaId");Ie.id=`${u.id}-meta-${p.length}`,p.push(Ie),S(p)},le=p=>{const u=[...x];l(u[p].id,void 0),u.splice(p,1),S(u)},b=(p,u)=>{const N=[...x],k=N[p].subitems[u];N[p].subitems.splice(u,1),l(k.id,void 0),S(N)},H=p=>{var k;const u=[...x],N=(k=u[p])!=null&&k.subitems?[...u[p].subitems]:[];u[p].id,ke.id=`${u[p].id}-sub-item-${N.length}`,N.push(ke),u[p].subitems=N,S(u)},j=p=>{var u,N,k,F,_,P,$;if(Boolean((u=c==null?void 0:c.item)==null?void 0:u.programa)||(c==null?void 0:c.tipoProtocolo)&&(c==null?void 0:c.tipoProtocolo)===V.vbMapp){const{paciente:z,programa:T,estimuloDiscriminativo:D,resposta:q,estimuloReforcadorPositivo:G,metas:X,procedimentoEnsinoId:ie}=c.item,W=typeof T!="object"?(N=p==null?void 0:p.programa)==null?void 0:N.filter(oe=>oe.nome.toLowerCase()===T)[0]:T,se=typeof ie!="object"?(k=p==null?void 0:p.procedimentoEnsino)==null?void 0:k.filter(oe=>oe.id===ie)[0]:T;l("pacienteId",z),l("programaId",W),l("procedimentoEnsinoId",se),l("estimuloDiscriminativo",D),l("resposta",q),l("estimuloReforcadorPositivo",G),S(X),X.map(oe=>{l(oe.id,oe.value),oe.subitems&&oe.subitems.map(ue=>l(ue.id,ue.value))})}else if((c==null?void 0:c.tipoProtocolo)&&(c==null?void 0:c.tipoProtocolo)===V.portage){const{paciente:z,metas:T}=o.item,D=(F=p.procedimentoEnsino)==null?void 0:F.filter(G=>G.id===T[0].procedimentoEnsino)[0],q=(_=p==null?void 0:p.programa)==null?void 0:_.filter(G=>G.id===T[0].programa)[0];S(T),l(T[0].id,T[0].value),l("pacienteId",z),l("programaId",q),l("procedimentoEnsinoId",D),l("estimuloDiscriminativo",T[0].estimuloDiscriminativo),l("resposta",T[0].resposta),l("estimuloReforcadorPositivo",T[0].estimuloReforcadorPositivo),(P=T[0])!=null&&P.subitems?($=T[0])==null||$.subitems.map(G=>l(G.id,G.value)):T[0].subitems=[]}};return i.exports.useEffect(()=>{h()},[]),e("form",{className:"mt-8 space-y-6 ",onSubmit:C(Q),children:a("div",{className:"h-[90vh] flex flex-col overflow-y-auto",children:[_t.map(p=>e("div",{children:f(p.permission)?e(me,{labelText:p.labelText,id:p.id,type:p.type,customCol:p.customCol,control:I,options:p.type==="select"?v[p.name]:void 0,buttonAdd:p.buttonAdd},p.id):null})),a("div",{className:"mt-8",children:[a("div",{className:"text-gray-400 font-inter flex  justify-between m-2 leading-4",children:[e("span",{className:"font-bold",children:" METAS "}),(!(c!=null&&c.tipoProtocolo)||(c==null?void 0:c.tipoProtocolo)===V.pei)&&e(J,{text:"Add Meta",icon:"pi pi-plus",type:"primary",size:"sm",onClick:()=>Z(),typeButton:"button"})]}),x.map((p,u)=>a(ts,{legend:`${p.labelText} ${u+1}`,className:"mb-2",toggleable:!0,children:[e("div",{className:"text-gray-400 font-inter flex  justify-end ",children:e(J,{text:"Add subitem",icon:"pi pi-plus",type:"primary",size:"sm",onClick:()=>H(u),typeButton:"button"})}),e(me,{labelText:"Descri\xE7\xE3o",id:p.id,type:"input-add",customCol:"col-span-6 sm:col-span-6",control:I,options:void 0,onClick:()=>le(u),disabled:(c==null?void 0:c.tipoProtocolo)!==V.pei},p.id),(p==null?void 0:p.subitems)&&(p==null?void 0:p.subitems.map((N,k)=>e(me,{labelText:`Item ${k+1}`,id:N.id,type:"input-add",customCol:"col-span-6 sm:col-span-6",control:I,options:void 0,onClick:()=>b(u,k)},N.id)))]}))]}),e("div",{className:"mt-auto",children:e(J,{text:"Salvar",type:"primary",size:"full",onClick:C(Q),loading:s})})]})})}const Vt=zt,qs={};Vt.forEach(t=>qs[t.id]="");function Ws(){const[t,o]=i.exports.useState(!1),[d,s]=i.exports.useState([]),[n,v]=i.exports.useState({});i.exports.useState(0);const{renderToast:g}=de();fe();const x=async({pacienteId:f})=>{o(!0);try{const c=await Ne(`sessao/atividade/${f.id}`);v(c)}catch{v([]),g({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}o(!1)},S=()=>e(Qe,{id:"form-filter-pei",legend:"Filtro",nameButton:"Cadastrar",fields:Vt,dropdown:d,onSubmit:f=>x(f),onReset:()=>v([]),screen:"PEI",loading:t}),y=(f,c)=>f.dias[c]?a("div",{className:"grid grid-rows-3 justify-center",children:[e("div",{className:"flex justify-center",children:f.dias[c].data}),a("div",{className:"flex gap-2 justify-center",children:[e("div",{className:be("flex justify-center items-center font-inter font-light rounded-full w-4 h-4",{"bg-green-400  text-white":f.dias[c].primeiraResposta}),children:"S"}),e("div",{className:be("flex justify-center items-center font-inter font-light rounded-full w-4 h-4",{"bg-red-400  text-white":!f.dias[c].primeiraResposta}),children:"N"})]}),a("div",{className:"flex justify-center",children:[f.dias[c].porcentagem,"%"]})]}):"-",m=()=>t?e(Ze,{}):n.length?e(ae,{children:e(xe,{children:n.map((f,c)=>e(ge,{tabIndex:c,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:f.programa})}),children:a(ss,{value:f.children,scrollable:!0,children:[e(st,{field:"programa",header:"Programa",style:{width:"25%"}}),Array.from({length:f.qtdColumns}).map((C,E)=>e(st,{body:l=>y(l,E)}))]})},c))})}):a(ae,{children:[" ",e(Le,{})," "]}),w=i.exports.useCallback(async()=>{const[f]=await Promise.all([ye("paciente")]);s({paciente:f})},[]);return i.exports.useEffect(()=>{w()},[]),a("div",{children:[S(),m()]})}const Ht=({onChange:t,value:o,disabled:d})=>{const[s,n]=i.exports.useState(o),v=[{value:pe.sim,icon:a("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#672D74"}),e("path",{transform:"translate(825,261)",d:"m0 0h20l29 2 27 4 21 5 20 7 20 9 16 8 22 13 19 13 11 9 10 9 15 15 13 17 10 16 8 16 6 19 2 13v11l-2 16-5 16-7 16-12 20-10 13-17 17-15 10-15 8-15 5-16 3h-14l-17-3-10-4-12-9-8-10-8-16-7-20-9-27-6-8-8-4-13-2-12 3-11 6-8 7-8 13-5 14-2 18 1 15 5 15 9 16 11 14 11 12 8 8 11 9 14 11 19 14 33 22 15 11 34 24 17 13 14 12 12 11 16 16 9 11 10 12 13 19 8 13 12 23 10 22 9 28 6 25 4 28 1 19v16l-2 23-5 28-5 19-7 20-9 20-10 19-9 14-10 14-10 13-10 11-7 8-12 12-11 9-10 8-14 10-14 9-17 10-23 12-25 10-22 7-26 6-23 3-17 1h-21l-20-1-29-4-24-5-28-7-29-10-26-11-22-10-23-13-18-12-10-8-13-11-9-9-6-5-7-8-11-13-11-17-12-23-7-19-4-20v-20l3-15 5-16 7-14 9-14 9-11 10-10 10-7 12-5 9 1 18 6 37 17 27 13 25 10 22 6 13 2h21l14-3 10-5 6-5 9-12 4-12v-15l-4-15-10-19-10-13-14-14-14-11-17-13-14-10-34-23-15-11-18-14-12-11-8-7-13-14-11-14-8-10-10-15-11-19-9-17-11-26-8-24-7-26-5-28-1-11v-43l5-33 7-28 11-29 8-17 11-19 12-17 8-10 7-9 9-10 22-22 13-10 14-10 17-11 18-10 22-10 35-12 24-6 23-4 19-2z",fill:"#FDFDFD"})]})},{value:pe.asVezes,icon:a("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D76"}),e("path",{transform:"translate(409,197)",d:"m0 0h43l30 3 24 4 21 6 21 9 18 10 20 13 10 8 14 12 11 11 9 11 11 14 11 16 12 19 9 16 12 23 16 35 11 27 10 26 12 34 13 38 14 43 12 38 16 55 10 38 10 44 7 37 8 49 5 40 2 24v49l-3 30-5 30-5 19-9 24-8 15-14 20-10 10-14 11-18 10-20 7-25 5-21 2h-19l-22-3-21-6-16-8-12-8-12-11-11-15-9-16-10-25-6-21-5-20-2-3-41 6-31 6-31 7-3 1 1 9 6 19 3 17 1 12v12l-1 16-5 23-8 20-8 15-12 16-10 11-17 12-16 8-19 6-25 5-8 1h-21l-20-3-25-7-21-9-15-9-14-11-12-12-9-11-11-15-14-24-12-26-11-30-8-27-7-29-6-31-6-43-3-32-2-39v-56l2-43 5-57 6-58 6-42 9-53 8-40 16-64 12-36 10-25 13-29 12-22 9-14 8-12 12-16 11-13 11-12 13-13 14-11 10-7 18-11 16-8 21-8 23-6 21-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(985,196)",d:"m0 0h23l23 3 19 5 15 6 13 7 12 9 12 11 11 13 8 13 7 14 6 18 4 17 4 29 3 35 1 19 1 48v111l-2 49v27l1 1-1 10v5h3l3-12 6-23 10-50 17-77 16-63 16-50 8-22 11-26 10-19 11-18 8-11 8-10 11-12 14-13 20-13 17-8 23-6 18-3h29l30 4 23 5 18 6 21 10 18 11 14 11 11 10 9 11 10 14 11 21 7 19 4 17 2 14v45l-5 32-7 31-10 38-12 38-15 42-12 30-15 36-16 36-16 34-9 20-21 42-10 19-19 37-12 22-13 24-12 22-15 27-14 25-10 17-11 19-14 24-11 18-12 18-11 15-12 14-14 14-10 8-15 11-21 12-25 10-21 6-19 4-9 1h-28l-27-4-30-7-30-10-17-8-19-11-14-10-11-9-12-11-7-8-12-14-14-20-9-15-10-18-10-22-8-20-12-36-13-44-7-33-10-59-6-45-8-68-3-35-2-31v-75l3-56 6-69 4-37 4-24 9-36 8-24 8-16 9-15 11-14 10-11 11-9 13-10 16-9 14-6 17-5 17-3z",fill:"#FEFEFE"}),e("path",{transform:"translate(408,451)",d:"m0 0h6l6 4 4 6 8 28 10 43 7 35 10 56 6 36 11 80 1 8v9l-4 2-54 7h-14l-2-11-4-74-1-27-1-58v-36l1-60 1-26 2-13 3-6z",fill:"#682D76"})]})},{value:pe.nao,icon:a("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#672C74"}),e("path",{transform:"translate(997,295)",d:"m0 0h20l24 3 19 5 16 7 12 7 14 10 10 10 9 12 11 17 11 24 5 15 6 25 6 37 6 59 5 61 4 71 2 43 2 79v72l-1 45-2 42-4 46-7 51-6 34-8 33-12 36-9 21-10 18-16 23-18 18-16 10-14 7-20 6-19 3h-20l-20-3-15-4-16-6-17-9-15-11-12-11-8-8-9-11-14-19-13-22-12-23-14-29-14-34-24-64-15-44-15-42-12-36-5-10-2-1 6 29 5 33 4 36 2 40v68l-2 28-4 28-6 27-7 22-7 17-10 18-10 14-14 15-11 8-14 7-15 5-16 2h-18l-21-2-21-5-21-9-15-9-10-8-9-8-7-8-10-13-8-13-10-19-9-25-7-25-8-38-5-31-5-49-3-51-1-36v-61l2-97 3-71 5-69 6-65 5-37 7-30 10-27 10-19 8-14 12-16 9-11 11-12 13-12 13-10 14-9 25-12 14-4 15-3 9-1h22l19 3 18 6 15 8 14 10 15 13 9 9 9 11 11 14 11 16 10 17 13 24 11 23 15 34 13 32 14 43 14 49 9 33 15 45 3 2-7-32-7-46-7-47-8-46-5-46-3-41v-30l3-26 6-22 8-16 10-17 9-11 14-14 12-9 18-10 14-5 19-4z",fill:"#FEFEFE"})]})}];return e(qe,{value:s,defaultValue:o,options:v,onChange:x=>(t(x.value),n(x.value)),optionLabel:"value",optionValue:"value",iconTemplate:({option:x})=>x==null?void 0:x.icon,className:"w-8 h-8",disabled:d})},Ks=t=>{const o=new bt,d=Ke;o.addImage(d,"PNG",15,10,50,20),o.setFontSize(9),o.text("Cel: (11) 97271-6993 \u2022 E-mail: alcance.nt@yahoo.com",15,35),o.text("CNPJ: 37.999.009/0001-68",15,40),o.setFontSize(12),o.setFont("Helvetica","bold"),o.text("RELAT\xD3RIO DE INTERVEN\xC7\xC3O ABA INDIVIDUALIZADO \u2013 EVOLU\xC7\xC3O 1",15,55),o.setFontSize(9),o.setFont("Helvetica","normal"),o.text("* Confidencial conforme \xE9tica profissional, n\xE3o possui fins jur\xEDdicos e todos os dados obtidos devem ser considerados relativos ao atual momento desta avalia\xE7\xE3o e consequentemente do desenvolvimento da crian\xE7a.",15,60,{maxWidth:180}),o.setFontSize(10),o.setFont("Helvetica","bold"),o.text("Interessados:",15,75),o.setFont("Helvetica","normal"),o.text("- Aos Pais , aplicadores e m\xE9dica neuropediatra",45,75),o.setFont("Helvetica","bold"),o.text("DADOS DE IDENTIFICA\xC7\xC3O:",15,85),o.setFont("Helvetica","normal"),o.text(`Nome: ${t.paciente.nome}`,15,90),o.text(`Data de Nascimento: ${t.paciente.dataNascimento}`,110,90),o.setFont("Helvetica","bold"),o.text("Resultados das \xE1reas reavaliadas:",15,100),o.setFont("Helvetica","italic"),o.text("- Desenvolvimento Infantil: Reaplicada a Escala de Desenvolvimento Infantil Portage:",15,105),ze(o,{head:[["Socializa\xE7\xE3o"]],theme:"plain",styles:{fontSize:12,fontStyle:"bold",halign:"center"},startY:115}),ze(o,{head:[t.headers],body:t.Socializacao,startY:o.lastAutoTable.finalY+5,styles:{fontSize:10,halign:"center"},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{0:{halign:"center"},1:{halign:"center"},2:{halign:"center"}}}),ze(o,{head:[["Cogni\xE7\xE3o"]],theme:"plain",styles:{fontSize:12,fontStyle:"bold",halign:"center"},startY:o.lastAutoTable.finalY+10}),ze(o,{head:[t.headers],body:t.Cognicao,startY:o.lastAutoTable.finalY+5,styles:{fontSize:10},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{0:{halign:"center"},1:{halign:"center"},2:{halign:"center"}}});const s=o.internal.pageSize.height;o.text("Av. Henrique Andr\xE9s, 700 \u2013 Centro \u2013 Jundia\xED-SP",10,s-10),window.open(o.output("bloburl"))};function Qs({paciente:t}){const[o,d]=i.exports.useState(!1),[s,n]=i.exports.useState({}),[v,g]=i.exports.useState([]),{renderToast:x}=de(),S=fe(),y=we(),{state:m}=y,[w,f]=i.exports.useState(!1),c=async()=>{const{data:b}=await ve("protocolo",{pacienteId:t.id,protocoloId:V.portage,type:"pdf"});b?await C(b):(d(!1),x({type:"failure",title:"Erro!",message:"N\xE3o existe Portage cadastrado no momento!",open:!0}))},C=async b=>{Ks(b)},E=async()=>{const{data:b}=await ve("protocolo",{pacienteId:t.id,protocoloId:V.portage,type:"local"});b?(f(!0),n(b.portage),l(b.portage)):(f(!1),I())},l=b=>{if(m!=null&&m.metaEdit){const H=parseInt(m==null?void 0:m.metaEdit.id.replace(/^0-meta-/,""),10),j={...b};j[m==null?void 0:m.metaEdit.portage][m==null?void 0:m.metaEdit.faixaEtaria]=j[m==null?void 0:m.metaEdit.portage][m==null?void 0:m.metaEdit.faixaEtaria].map(p=>p.id===H?{...m==null?void 0:m.metaEdit}:p),n(j)}},I=i.exports.useCallback(async()=>{try{const b=await ye("protocolo/portage");n(b),l(b)}catch(b){console.error("Error fetching dropdown data",b)}},[]),M=b=>b===pe.sim?pe.asVezes:b===pe.asVezes?pe.nao:b===pe.nao?null:pe.sim,R=(b,H,j,p=void 0)=>{n(u=>{const N=JSON.parse(JSON.stringify(u));if(N[b]&&N[b][H]){const k=N[b][H];if(j.toString().includes("-sub-item-")){const[_]=j.split("-sub-item-"),[,P]=_.split("0-meta-"),$=k.findIndex(z=>z.id===parseInt(P));if($!==-1){const z=k[$].subitems.findIndex(T=>T.id===j);z!==-1&&(p!==void 0?k[$].subitems[z].selected=p:k[$].subitems[z].selected=M(k[$].subitems[z].selected))}}else{const _=k.findIndex(P=>P.id===j);if(_!==-1){let P=p!==void 0?p:M(k[_].selected);k[_].selected=P}}}return N})},h=async()=>{d(!0);const b={pacienteId:t,portage:s};try{await Ae("protocolo/portage",b),f(!0),x({type:"success",title:"Sucesso!",message:"Portage Cadastrado.",open:!0})}catch(H){console.error("Error saving form data",H),x({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}finally{d(!1)}},B=async b=>{const H=`0-meta-${b.id}`,j=b!=null&&b.selected?{selected:b.selected}:{},p={...Ie,id:H,value:b.nome,portage:b.portage,faixaEtaria:b.faixaEtaria,estimuloDiscriminativo:b==null?void 0:b.estimuloDiscriminativo,estimuloReforcadorPositivo:b==null?void 0:b.estimuloReforcadorPositivo,procedimentoEnsino:b==null?void 0:b.procedimentoEnsinoId,programa:b==null?void 0:b.programaId,resposta:b==null?void 0:b.resposta,...j};if(b!=null&&b.subitems){const u=b==null?void 0:b.subitems.map(N=>{const k=N!=null&&N.selected?{selected:N.selected}:{};return{...ke,id:N.id,value:N.nome,...k}});p.subitems=u}S(`/${re.PROTOCOLO}`,{state:{edit:!0,item:{metas:[p],paciente:t},tipoProtocolo:V.portage}})},Y=(b,H,j)=>{const p=j.selected||null;return a("div",{children:[a("div",{className:"flex items-center gap-2",children:[e(Ht,{value:p,onChange:u=>R(b,H,j.id,u),Atualiza:!0,o:!0,checkbox:!0},j.id),j.nome,(j==null?void 0:j.permiteSubitens)&&e("i",{className:"pi pi-pencil",onClick:()=>B(j)})]}),e("div",{className:"grid ml-8 mt-2",children:(j==null?void 0:j.subitems)&&j.subitems.map(u=>Y(b,H,u))})]})},Q=b=>e("div",{className:"mt-8",children:(s==null?void 0:s[b])&&a("div",{className:"",children:[e("span",{className:"col-span-12 text-gray-400 font-inter leading-4 mb-2",children:b}),e(mt,{children:Object.keys(s[b]).map(H=>e(ht,{className:"mb-2",tabIndex:H,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:H})}),children:e(ft,{id:"portage-page",value:s[b][H],selection:v,responsiveLayout:"scroll",dataKey:"id",tableStyle:{minWidth:"none"},children:e(xt,{body:j=>Y(b,H,j),bodyStyle:{padding:".1rem"}})})},H))})]})}),Z=()=>w&&e("div",{className:"mt-auto",children:e(J,{text:"Gerar Relat\xF3rio",type:"primary",size:"full",icon:"pi pi-file-pdf",onClick:c,loading:o,typeButton:"button"})}),le=()=>e("div",{className:"mt-auto",children:e(J,{text:"Salvar",type:"primary",size:"full",onClick:h,loading:o})});return i.exports.useEffect(()=>{E()},[t]),a("div",{className:"mt-8 space-y-6",children:[Z(),Q(Ye.socializacao),Q(Ye.cognicao),le()]})}const Zs="#03ae4e",Xs="#0071bd",eo="#e36b05",to="#d9d9d9",je="#ffffff",_e="#000000",so=({data:t,paciente:o})=>{const d=t,s=new bt,n=Ke;s.addImage(n,"PNG",15,10,50,20),s.setFontSize(9),s.text("Cel: (11) 97271-6993 \u2022 E-mail: alcance.nt@yahoo.com",15,35),s.text("CNPJ: 37.999.009/0001-68",15,40),s.setFontSize(12),s.setFont("Helvetica","bold"),s.text("RELAT\xD3RIO DE INTERVEN\xC7\xC3O ABA INDIVIDUALIZADO",15,50),s.setFont("Helvetica","bold"),s.text("DADOS DE IDENTIFICA\xC7\xC3O:",15,60),s.setFont("Helvetica","normal"),s.text(`Nome: ${o.nome}`,15,65),s.text(`Data de Nascimento: ${o.dataNascimento}`,110,65);const v=s.internal.pageSize.width,g=8,x=2,S=2,y=2,m=10;let w=70;const f=E=>E===1?eo:E===2?Zs:E===3?Xs:je;Object.keys(d).map(Number).sort((E,l)=>l-E).forEach(E=>{const l=Object.keys(d[E]);w+=15,s.setFontSize(14),s.text(`N\xEDvel ${E}`,v/2,w,{align:"center"}),w+=5;const I=l.reduce((R,h)=>{const B=Object.keys(d[E][h]).length;return R+B*g+y*(B-1)+20},-20);let M=(v-I)/2;l.forEach(R=>{const h=Object.keys(d[E][R]);s.setFontSize(10),s.text(R,M+h.length*g/2,w,{align:"center"});const B=w+2;h.forEach((Y,Q)=>{const Z=M+Q*g;s.setFillColor(to),s.rect(Z,B,g,x,"F"),s.setTextColor(_e),s.setFontSize(4),s.setDrawColor(_e),s.setLineWidth(.2),s.rect(Z,B,g,x),s.text(Y.toUpperCase(),Z+g/2,B+x/2+.5,{align:"center"})});for(let Y=0;Y<m;Y++)h.forEach((Q,Z)=>{const b=Object.keys(d[E][R][Q])[Y],H=b?d[E][R][Q][b].percentual:0,j=f(E),p=M+Z*g,u=B+x+Y*S;H===100?(s.setFillColor(j),s.rect(p,u,g,S,"F")):H===50?(s.setFillColor(j),s.rect(p,u+S/2,g,S/2,"F"),s.setFillColor(je),s.rect(p,u,g,S/2,"F")):(s.setFillColor(je),s.rect(p,u,g,S,"F")),s.setDrawColor(_e),s.setLineWidth(.2),s.rect(p,u,g,S)});M+=h.length*g+20}),w+=x+m*y+1});const C=s.internal.pageSize.height;s.setFontSize(8),s.text("Av. Henrique Andr\xE9s, 700 \u2013 Centro \u2013 Jundia\xED-SP",10,C-10),window.open(s.output("bloburl"))};function oo({paciente:t}){const[o,d]=i.exports.useState(!1),[s,n]=i.exports.useState({}),[v,g]=i.exports.useState([]),{renderToast:x}=de(),[S,y]=i.exports.useState(Je.um),[m,w]=i.exports.useState(Je.um-1),[f,c]=i.exports.useState(!1),C=we(),{state:E}=C,l=fe(),I=i.exports.useCallback(async()=>{try{const{data:u}=await ve("protocolo",{pacienteId:t.id,protocoloId:V.vbMapp,type:"pdf"});u?await so(u):(d(!1),x({type:"failure",title:"Erro!",message:"N\xE3o existe Portage cadastrado no momento!",open:!0}))}catch(u){console.error("Erro ao gerar PDF",u)}},[t.id,x]),M=i.exports.useCallback(async(u=S)=>{const{data:N}=await ve("protocolo",{pacienteId:t.id,protocoloId:V.vbMapp,nivel:u});h(N.data),c(N.existeResposta)},[S,t.id]),R=u=>{const N=u.match(/-meta-(\d+)$/);return N?parseInt(N[1],10):null},h=u=>{if(!(E!=null&&E.metaEdit)||E.pacienteId.id!==t.id){n(u);return}const N=JSON.parse(JSON.stringify(u)),k=E.metaEdit.programa;if(!N[k]){console.error("Programa n\xE3o encontrado em copyList:",k);return}N[k]=N[k].map(F=>{const _=E.metaEdit.metas.find(P=>R(P.id)===F.id);if(_){let P=F.subitems||[];return Array.isArray(P)&&Array.isArray(_.subitems)&&(P.length?P=P.map($=>{const z=_.subitems.find(T=>T.id===$.id);return z?{...$,selected:z.selected||$.selected}:$}):P=_.subitems),{...F,..._,subitems:P,selected:_.selected!==void 0?_.selected:F.selected,id:F.id}}return F}),n(N)},B=i.exports.useCallback(async()=>{d(!0);const u={pacienteId:t.id,vbmapp:s};try{await Ae("protocolo/vbmapp",u),c(!0),x({type:"success",title:"Sucesso!",message:"VB Mapp Cadastrado.",open:!0})}catch(N){console.error("Error saving form data",N),x({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}finally{d(!1)}},[s,t.id,x]),Y=i.exports.useCallback(u=>{y(u.index+1),w(u.index),M(u.index+1)},[M]),Q=(u,N,k)=>{n(F=>{const _={...F};return _[u]=_[u].map(P=>{if(P.id===N)return{...P,selected:k};if(P.subitems){const $=P.subitems.map(z=>z.id===N?{...z,selected:k}:z);return{...P,subitems:$}}return P}),_})},Z=u=>!!u.filter(k=>k.permiteSubitens).length,le=async(u,N,k)=>{const F=u.filter(D=>D.permiteSubitens),{estimuloDiscriminativo:_,estimuloReforcadorPositivo:P,procedimentoEnsinoId:$,resposta:z}=F[0],T=F.map((D,q)=>{const G=`${N}-meta-${D.id}`,X={...Ie,value:D.nome,...D,respostaSessao:D==null?void 0:D.respostaSessao,id:G};if(D!=null&&D.subitems){const ie=D==null?void 0:D.subitems.map(W=>{const se=W!=null&&W.selected?{selected:W.selected}:{};return{...ke,id:W.id,value:W.nome,...se}});X.subitems=ie}return X});l(`/${re.PROTOCOLO}`,{state:{edit:!0,item:{metas:T,paciente:t,estimuloDiscriminativo:_,estimuloReforcadorPositivo:P,procedimentoEnsinoId:$,programa:k,resposta:z},tipoProtocolo:V.vbMapp}})},b=i.exports.useCallback((u,N)=>{const k=u.selected||null;return a("div",{children:[a("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-8 h-8",children:e(Ht,{value:k,onChange:F=>Q(N,u.id,F)},u.id)}),u.nome]}),e("div",{className:"grid ml-8 mt-2",children:(u==null?void 0:u.subitems)&&u.subitems.map(F=>b(F,N))})]})},[]),H=i.exports.useCallback(()=>e("div",{className:"mt-8",children:Object.keys(s).length>0?e(mt,{children:Object.keys(s).map((u,N)=>e(ht,{className:"mb-2",tabIndex:N,header:a("div",{className:"flex items-center w-full gap-2",children:[e("span",{children:u.toLocaleUpperCase()}),Z(s[u])&&e("i",{className:"pi pi-pencil",onClick:()=>le(s[u],N,u)})]}),children:e(ft,{id:"vbmapp-page",value:s[u],selection:v,responsiveLayout:"scroll",dataKey:"id",tableStyle:{minWidth:"none"},children:e(xt,{body:k=>b(k,u),bodyStyle:{padding:".1rem"}})})},N))}):e(Le,{})}),[s,b]),j=i.exports.useCallback(()=>f&&e("div",{className:"mt-auto",children:e(J,{text:"Gerar Relat\xF3rio",type:"primary",size:"full",icon:"pi pi-file-pdf",onClick:I,loading:o,typeButton:"button"})}),[f,I,o]),p=i.exports.useCallback(()=>e("div",{className:"mt-auto",children:e(J,{text:"Salvar",type:"primary",size:"full",onClick:B,loading:o})}),[B,o]);return i.exports.useEffect(()=>{M()},[t,M]),a("div",{className:"mt-8 space-y-6",children:[j(),a(os,{activeIndex:m,onTabChange:Y,children:[e($e,{header:"N\xEDvel 1",children:H()}),e($e,{header:"N\xEDvel 2",children:H()}),e($e,{header:"N\xEDvel 3",children:H()})]}),p()]})}const no=Is,ao={};no.forEach(t=>ao[t.id]="");const pt={id:"",nome:""};function ro(){const{hasPermition:t}=Fe();i.exports.useState(!1);const[o,d]=i.exports.useState([]),s=we(),{state:n}=s,{handleSubmit:v,control:g,watch:x,setValue:S}=Pe({defaultValues:{protocoloId:pt,pacienteId:pt}}),y=x("protocoloId"),m=x("pacienteId"),w=i.exports.useCallback(async()=>{const[f,c]=await Promise.all([ye("paciente"),ye("protocolo")]);if(d({paciente:f,protocolo:c}),n.tipoProtocolo){const C=c.filter(E=>E.id===n.tipoProtocolo)[0];S("protocoloId",C)}if(n.item){const C=f.filter(E=>n.item.paciente.id===E.id)[0];S("pacienteId",C)}},[]);return i.exports.useEffect(()=>{w()},[]),a("form",{className:"mt-8",onSubmit:()=>{},children:[t("PEI_FILTRO_BOTAO_CADASTRAR")?e(me,{labelText:"Paciente",id:"pacienteId",type:"select",customCol:"col-span-6 sm:col-span-6",control:g,options:o.paciente},"pacienteId"):null,t("PEI_FILTRO_BOTAO_CADASTRAR")?e(me,{labelText:"Protocolo",id:"protocoloId",type:"select",customCol:"col-span-6 sm:col-span-6",control:g,options:o.protocolo,disabled:!(m!=null&&m.nome.length)},"protocoloId"):null,!(n!=null&&n.edit)&&(y==null?void 0:y.id)&&y.id===V.portage&&(m==null?void 0:m.id)&&e(Qs,{paciente:m}),!(n!=null&&n.edit)&&(y==null?void 0:y.id)&&y.id===V.vbMapp&&(m==null?void 0:m.id)&&e(oo,{paciente:m}),!(n!=null&&n.edit)&&(y==null?void 0:y.id)&&y.id===V.pei&&(m==null?void 0:m.id)&&e(Ge,{paciente:m}),(n==null?void 0:n.edit)&&e(Ge,{paciente:m,param:n})]})}function io(){const{renderToast:t}=de(),o=fe(),d=we(),{state:s}=d,[n,v]=i.exports.useState(!1),[g,x]=i.exports.useState([]),[S,y]=i.exports.useState(!1),[m,w]=i.exports.useState([]),[f,c]=i.exports.useState({}),[C,E]=i.exports.useState([]),[l,I]=i.exports.useState({}),[M,R]=i.exports.useState([]),[h,B]=i.exports.useState({}),[Y,Q]=i.exports.useState([]),[Z,le]=i.exports.useState({}),b=P=>{let $=[];return P.forEach(z=>{$.push(z.key),z.children&&($=m.concat(b(z.children)))}),$};i.exports.useMemo(async()=>{v(!0);try{const P=s.paciente,[$,z,T,D]=await Promise.all([ve("protocolo/meta",{pacienteId:P.id,protocoloId:V.vbMapp}),ve("protocolo/meta",{pacienteId:P.id,protocoloId:V.portage}),ve("pei",{paciente:P,protocoloId:V.pei}),Ne(`pei/activity-session/${s.id}`)]),q=T.data,G=z.data,X=$.data,ie=Boolean(D==null?void 0:D.maintenance)&&typeof(D==null?void 0:D.maintenance)=="object"?b(D.maintenance):[];if(q&&q.length>0){const W=[];q.map(se=>{const oe=[];se.metas.map(ue=>{const Oe=ue.subitems.reduce((Re,r)=>(ie.includes(r.id)||Re.push({key:r.id,label:r.value,data:r.id}),Re),[]);Oe.length&&oe.push({key:ue.id,label:ue.value,data:ue.id,children:Oe})}),oe.length&&W.push({key:se.id,label:se.programa.nome,data:se.id,children:oe})}),x(W)}if(G&&G.length>0&&(R(G),B(D==null?void 0:D.selectedPortageKeys)),X&&X.length>0&&(Q(X),le(D==null?void 0:D.selectedVbMappKeys)),D.selectedKeys&&Object.values(D.selectedKeys).length>0){const W=D.selectedKeys,se=Object.keys(W);y(Boolean(W)),c(W),w(se),D.maintenance&&E(D.maintenance),Object.values(D.selectedMaintenanceKeys).length&&I(D.selectedMaintenanceKeys)}}catch{t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}v(!1)},[]);const H=async()=>{v(!0);try{const P=[];g.map((T,D)=>{const q=[];T.children.map(G=>{const X=G.children.filter(ie=>m.includes(ie.key));X.length&&q.push({...G,children:X})}),q.length&&P.push({...T,children:q})});const $=P.map(T=>T.key),z={calendarioId:s.id,peisIds:$,pacienteId:s.paciente.id,atividades:P,selectedKeys:f,maintenance:C,selectedMaintenanceKeys:l,selectedPortageKeys:h,portage:M,selectedVbMappKeys:Z,vbmapp:Y};S?(z.id=s.id,await Be("pei/activity-session",z)):await Ae("pei/activity-session",z),t({type:"success",title:"200",message:"Cadastrado com sucesso!",open:!0}),o(`/${re.CALENDAR}`)}catch{t({type:"failure",title:"401",message:"Falha ao cadastrar!",open:!0})}v(!1)},j=i.exports.useMemo(()=>e(Xe,{start:s.data.start,end:s.data.end,statusEventos:s.statusEventos.nome,title:s.title,localidade:s.localidade.nome,isExterno:s.isExterno,km:s.km,modalidade:s.modalidade.nome,dataInicio:s.dataInicio,dataFim:s.dataFim,dataAtual:s.dataAtual}),[]),p=()=>!!g.length&&e("div",{className:"grid gap-2 mt-8",children:a("div",{children:[e("div",{className:"text-gray-400",children:" Selecione os programas para sess\xE3o"}),e(Te,{value:g,selectionMode:"checkbox",selectionKeys:f,onSelectionChange:async P=>{c(P.value);const $=await Object.keys(P.value);w($)},className:"w-full md:w-30rem"})]})}),u=()=>!!C.length&&a("div",{className:"grid gap-2 my-8",children:[e("div",{className:"text-gray-400",children:" Manuten\xE7\xE3o "}),e(Te,{value:C,selectionMode:"checkbox",selectionKeys:l,onSelectionChange:async P=>{I(P.value)},className:"w-full md:w-30rem"})]}),N=()=>!!M.length&&a("div",{className:"grid gap-2 mt-8",children:[e("div",{className:"text-gray-400",children:" Portage "}),e(Te,{value:M,selectionMode:"checkbox",selectionKeys:h,onSelectionChange:async P=>{B(P.value)},className:"w-full md:w-30rem"})]}),k=()=>!!Y.length&&a("div",{className:"grid gap-2 mt-8",children:[e("div",{className:"text-gray-400",children:" Vb Mapp "}),e(Te,{value:Y,selectionMode:"checkbox",selectionKeys:Z,onSelectionChange:async P=>{le(P.value)},className:"w-full md:w-30rem"})]}),F=()=>!Y.length&&!M.length&&!C.length&&!g.length&&a("div",{className:"grid gap-4 justify-center",children:[e(Le,{}),e(J,{text:"Cadastrar Protocolo",icon:"pi pi-book",type:"primary",color:"white",size:"sm",onClick:()=>o(`/${re.PROTOCOLO}`,{state:{item:{paciente:s.paciente}}})})]}),_=()=>(!!Y.length||!!M.length||!!C.length||!!g.length)&&e("div",{className:" mt-8",children:e(J,{text:"Salvar",type:"primary",size:"full",onClick:()=>H(),loading:n,typeButton:"button"})});return i.exports.useEffect(()=>{},[]),a("div",{className:"h-[90vh] flex flex-col overflow-y-auto",children:[j,p(),N(),k(),u(),F(),_()]})}var re=(t=>(t.HOME="home",t.CRUD="cadastro",t.CALENDAR="agenda",t.SESSION="session",t.DTT="dtt",t.PEI="pei",t.PEICADASTRO="pei-cadastro",t.METAS="metas",t.PRIMEIRARESPOSTA="primeira-resposta",t.PROTOCOLO="protocolo-av",t))(re||{});const Ut=[{path:"*",componentRoute:it,icon:"",menu:!1},{path:"session",componentRoute:Us,icon:"",menu:!1},{path:"dtt",componentRoute:Ue,icon:"",menu:!1},{path:"metas",componentRoute:io,icon:"",menu:!1},{path:"home",componentRoute:it,icon:"pi pi-home",menu:!0},{path:"pei",componentRoute:Js,icon:"pi pi-book",menu:!0},{path:"protocolo-av",componentRoute:ro,icon:"pi pi-book",menu:!0},{path:"pei-cadastro",componentRoute:Ge,icon:"",menu:!1},{path:"agenda",componentRoute:Vs,icon:"pi pi-calendar",menu:!0},{path:"primeira-resposta",componentRoute:Ws,icon:"pi pi-check-square",menu:!0}],lo=()=>a("div",{className:"min-h-full overflow-hidden bg-background h-screen w-full",children:[e($s,{}),e("main",{className:"mt-14",children:e(vt,{children:Ut.map((o,d)=>e(Ve,{path:o.path,element:e(Ms,{children:e(o.componentRoute,{})})},d))})})]});function co(){const{signed:t}=De();return t?e(gt,{children:e(fs,{children:e(Bs,{children:e(lo,{})})})}):e(zs,{})}function po(){return e("div",{className:"App",children:e(gs,{children:e(bs,{children:e(co,{})})})})}Jt.createRoot(document.getElementById("root")).render(e(Yt.StrictMode,{children:e(po,{})}));
