import{r as l,R as He}from"./react.4862a0f1.js";import{c as Ke}from"./react-dom.cfdd12ce.js";import{a as Qe}from"./axios.d349c3b3.js";import{h as Y}from"./moment.9709ab41.js";import{j as e,a as i,F as _,T as We,I as Xe,C as Ze,b as et,c as tt,L as st,M as at,D as rt,A as le,d as ce,e as nt,f as ot,z as it,g as lt}from"./primereact.975c6ac9.js";import{B as ye,N as ct}from"./react-router-dom.a7cbc923.js";import{c as Q}from"./clsx.09c75e33.js";import{L as dt}from"./react-lottie-player.cbc77e3b.js";import{C as R,u as ee}from"./react-hook-form.a51e561e.js";import{e as be,f as ne,d as te,c as se}from"./react-router.4d6de049.js";import{J as ut}from"./jodit-react.5897bf70.js";/* empty css                   */import"./fast-deep-equal.aae8ee5f.js";import"./scheduler.2450001e.js";import"./form-data.d1f94bc2.js";import"./react-transition-group.bb65f1f3.js";import"./@babel.4f1e7424.js";import"./dom-helpers.2a8a4335.js";import"./@remix-run.7ba39c5a.js";import"./lottie-web.1f2cebb8.js";import"./rfdc.0929fce7.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerpolicy&&(u.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?u.credentials="include":r.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(r){if(r.ep)return;r.ep=!0;const u=o(r);fetch(r.href,u)}})();Y.locale("pt-br");const pt={TO:"#ef6c00",FONO:"#f6bf26",PSICO:"#8e24aa",PSICOPEDAG:"#000000"},mt={TO:"#ffffff",FONO:"#ffffff",PSICO:"#ffffff",PSICOPEDAG:"#ffffff"},me=t=>t.charAt(0).toUpperCase()+t.slice(1),ht=()=>{setTimeout(()=>{(document.querySelectorAll(".p-multiselect-token")||[]).forEach(a=>{const o=pt[a.textContent.toUpperCase()],s=mt[a.textContent.toUpperCase()];a.style.background=o,a.style.color=s})},0)},he=t=>Y(t).format("DD/MM/YYYY"),ft=t=>(Y.locale("pt-br"),Y(t).format("YYYY-MM-DD")),xt=t=>Y(t).add(1,"days").format("YYYY-MM-DD"),fe=(t,a)=>{const o=Y(t);return Y(a).diff(o,"weeks")+1};var we=(t=>(t.mobile="DEVICE_MOBILE",t.web="DEVICE_WEB",t))(we||{});const j=Qe.create({baseURL:"http://192.168.15.9:3000",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",device:we.mobile}}),xe=(t,a,o)=>{j.interceptors.request.use(async s=>(s.url.endsWith("login")||(s.headers.Authorization=`Bearer ${t}`,s.headers.login=a,s.headers.idUser=o),s),s=>Promise.reject(s))},oe=async(t,a)=>{var r;const o=a?`?${a}`:"",s=await j(`${t}/dropdown${o}`);return s.status===200?((r=s.data)==null?void 0:r.data)||s.data:[]},de=async(t,a)=>await j.post(t,a),ae=async(t,a)=>await j.put(t,a),gt=async t=>await j.delete(`${t}`),K=async t=>{const a=await j(t);return a.status===200?a.data:[]},Ne=async(t,a,o)=>{const s=o?`?${o}`:"";return await j.post(`${t}/filtro${s}`,a)},vt="developer",Ee=l.exports.createContext({}),yt=({children:t})=>{const{perfil:a}=X(),[o,s]=l.exports.useState([]),r=p=>{s(p)};l.exports.useMemo(async()=>{const p=sessionStorage.getItem("auth"),N=(p?JSON.parse(p):[]).permissoes||await K("permissao");s(N)},[]),l.exports.useEffect(()=>{o.length},[]);const u=(p="")=>{switch(!0){case!a:throw new Error("Voce n\xE3o tem permissao");case p==="*":return!0;default:return!!(o.length&&o.includes(p.toUpperCase())||a===vt)}};return e(Ee.Provider,{value:{hasPermition:u,perfil:a,permissions:o,setPermissionsLogin:r},children:t})},re=()=>l.exports.useContext(Ee),bt="absolute animate-bounce min-w-[24rem] top-2 right-0 block flex p-4 mb-4 text-sm rounded-lg items-center gap-2 z-[70] ",Ce=l.exports.createContext({}),wt=({children:t})=>{const[a,o]=l.exports.useState("hidden"),[s,r]=l.exports.useState(),[u,p]=l.exports.useState(""),[y,N]=l.exports.useState({type:"info",title:"",message:"",open:!1}),g=m=>{switch(m){case"success":r(e("i",{className:"pi pi-check-circle"}));break;case"failure":r(e("i",{className:"pi pi-times-circle"}));break;case"warning":r(e("i",{className:"pi pi-exclamation-circle"}));break;case"info":r(e("i",{className:"pi pi-info-circle"}));break;default:r(e("i",{className:"pi pi-undo"}));break}},b=m=>{switch(m){case"success":p("z-[10000] text-white bg-green-400 rounded-lg  w-24 ");break;case"failure":p("z-[10000] text-white bg-red-400 rounded-lg  w-24");break;case"warning":p("z-[10000] text-white bg-yellow-400 rounded-lg  w-24");break;case"info":p("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break;default:p("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break}},v=({type:m,message:w,title:h,open:x})=>{g(m),b(m),N({type:m,message:w,title:h,open:x}),o(x?"block":"hidden"),setTimeout(()=>{o("hidden")},3e3)};return e(Ce.Provider,{value:{renderToast:v},children:i(_,{children:[t,i("div",{className:`${bt} ${a} ${u}`,role:"alert",children:[s,i("span",{children:[e("span",{className:"font-medium",children:"   "+y.title})," "+y.message]})]})]})})};function q(){return l.exports.useContext(Ce)}const ue=l.exports.createContext({}),Nt=({children:t})=>{const[a,o]=l.exports.useState(),[s,r]=l.exports.useState(""),{setPermissionsLogin:u}=re(),{renderToast:p}=q();l.exports.useEffect(()=>{const b=sessionStorage.getItem("token"),v=sessionStorage.getItem("auth"),m=sessionStorage.getItem("perfil")||"";if(b&&v){const w=JSON.parse(v);o(w),r(m),xe(b,w.login,w.id)}},[]);const y=async b=>{var v;try{const w=(await j.post("/login",{...b,password:parseInt(b.password)})).data;setTimeout(()=>{g()},8e6);const h=(w==null?void 0:w.user)||w.data,x=(w==null?void 0:w.accessToken)||w.data.accessToken,n=(v=h.perfil)!=null&&v.nome?h.perfil.nome.toLowerCase():h.perfil.toLowerCase();sessionStorage.setItem("token",x),sessionStorage.setItem("auth",JSON.stringify(h)),sessionStorage.setItem("perfil",n),h.permissoes.length&&u&&u(h.permissoes),r(n),o(h),await xe(x,h.login,h.id),p({type:"success",title:" ",message:"Bem vindo!",open:!0})}catch(m){N(m)}},N=b=>{const v=b!=null&&b.data?b==null?void 0:b.data.message:"Usu\xE1rio n\xE3o encontrado!";p({type:"failure",title:b.status,message:v,open:!0})},g=async()=>{o(void 0),sessionStorage.clear();try{await j.get("/logout")}catch(b){console.log(b)}};return e(ue.Provider,{value:{signed:Boolean(a),user:a,Login:y,Logout:g,perfil:s},children:t})},X=()=>l.exports.useContext(ue),Et="/assets/logo-lg.ee70d40f.jpg";function T({icon:t,size:a="full",type:o="primary",color:s="white",text:r,loading:u,disabled:p=!1,onClick:y,typeButton:N="submit"}){return e(We,{disabled:p,icon:t,type:N,loading:u,label:a==="icon"?"":r,onClick:y,className:Q(" text-white text-sm rounded-md border-none ",{"bg-violet-800 hover:bg-violet-600":o==="primary","bg-yellow-400 hover:bg-violet-800":o==="second","bg-transparent hover:bg-transparent":o==="transparent","text-white":s==="white","text-red-400 hover:text-violet-800 focus:text-violet-600":s==="red","text-green-400 hover:text-violet-800 focus:text-violet-600":s==="green","text-yellow-400 hover:text-violet-800 focus:text-violet-600":s==="yellow","text-violet-800 hover:text-violet-600 focus:text-violet-600":s==="violet","w-full":a==="full","sm:w-2/5 w-full":a==="md"})})}function G({onChange:t,onClick:a,value:o,labelText:s,id:r,type:u,customClass:p,options:y,customCol:N,validate:g,errors:b,control:v,disabled:m,hidden:w,buttonAdd:h}){const x=()=>{switch(u){case"select":return e(R,{name:r,control:v,rules:g,render:({field:n})=>e(rt,{value:o||n.value,virtualScrollerOptions:{itemSize:38},options:y,onChange:d=>(t&&t(d.value),n.onChange(d.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:m})});case"multiselect":return e(R,{name:r,control:v,rules:g,render:({field:n})=>e(at,{disabled:m,id:n.id,display:"chip",optionLabel:"nome",filter:!0,value:o||n.value,onChange:d=>{ht(),t&&t(d.value),n.onChange(d.value)},options:y})});case"list":return e(R,{name:r,control:v,rules:g,render:({field:n})=>e(st,{value:n.value,options:y,onChange:d=>n.onChange(d.value),multiple:!0,filter:!0,optionLabel:"nome",listStyle:{maxHeight:"300px"}})});case"textarea":return e(R,{name:r,control:v,rules:g,render:({field:n})=>e("textarea",{id:n.id,...n,value:o||(n==null?void 0:n.value),className:p,disabled:m,rows:"8"})});case"switch":return e(R,{name:r,control:v,rules:g,render:({field:n})=>i("div",{className:"grid grid-cols-6 justify-start items-center h-8",children:[i("span",{className:"col-span-4 text-violet-800",children:[" ",s," "]}),e("div",{className:"col-span-2",children:e(tt,{checked:o||n.value,color:"#685ec5",value:o,disabled:m,onChange:d=>{n.onChange(d.target.value),t&&t(d.target.value)}})})]})});case"tel":return e(R,{name:r,control:v,rules:g,render:({field:n})=>e(et,{disabled:m,value:o||n.value,type:u,className:"inputAnimado font-inter font-light"+p,mask:"(99) 9999-9999",onChange:d=>n.onChange(d.value)},n.id)});case"checkbox":return e(R,{name:r,control:v,rules:g,render:({field:n})=>i(_,{children:[e(Ze,{checked:o,type:u,className:"inputAnimado "+p,onChange:d=>{n.onChange(d.target.checked),t&&t(d.target.checked)}}),i("span",{className:"col-span-4 text-violet-800",children:[" ",s," "]})]})});case"time":return e(R,{name:r,control:v,rules:g,render:({field:n})=>l.exports.createElement("input",{id:n.id,...n,value:o||n.value,key:n.id,type:u,className:"inputAnimado font-inter "+p,disabled:m,onInput:d=>{n.onChange(d),t&&t(d)}})});case"price":return e(R,{name:r,control:v,rules:g,render:({field:n})=>e("div",{className:"inputAnimado font-inter "+p,id:n.id,children:i("div",{className:"p-inputgroup",children:[e(Xe,{value:o||n.value,disabled:m,onInput:d=>{n.onChange(d),t&&t(d)}}),e("span",{className:"p-inputgroup-addon",children:"R$"})]})})});case"date":return e(R,{name:r,control:v,rules:g,render:({field:n})=>l.exports.createElement("input",{disabled:m,id:n.id,...n,value:o||n.value,key:n.id,type:u,className:"inputAnimado "+p,autoComplete:"off",min:(g==null?void 0:g.min)&&g.min,onInput:d=>{n.onChange(d),t&&t(d)}})});case"input-add":return i("div",{className:"grid  gap-2 grid-cols-6",children:[e(R,{name:r,control:v,rules:g,render:({field:n})=>l.exports.createElement("textarea",{disabled:m,id:n.id,...n,value:o||n.value,key:n.id,className:"inputAnimado col-span-5",autoComplete:"off",onInput:d=>{n.onChange(d),t&&t(d)},rows:2})}),h?e(T,{text:"Add",icon:"pi pi-plus",type:"primary",size:"icon",onClick:()=>a&&a("add")}):e(T,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>a&&a("remove")})]});default:return e(R,{name:r,control:v,rules:g,render:({field:n})=>l.exports.createElement("input",{disabled:m,id:n.id,...n,value:o||n.value,key:n.id,type:u,className:"inputAnimado "+p,autoComplete:"off",onInput:d=>{n.onChange(d),t&&t(d)}})})}};return i("div",{className:Q("label-float",{"my-5":!N,hidden:w&&w},N),children:[x(),u!=="switch"&&u!=="checkbox"&&i("label",{children:[" ",s," "]}),b&&b[r]&&e("p",{className:"text-xs text-red-400 text-end",children:b[r].message})]})}function ke({size:t="md",color:a="gray-dark",children:o}){return e("span",{className:Q("font-bold",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":a==="white","text-gray-300":a==="gray-light","text-gray-400":a==="gray","text-gray-800":a==="gray-dark","text-violet-800":a==="violet","text-yellow-400":a==="yellow","text-black":a==="black"}),children:o})}function Ct({size:t="md",color:a="gray-dark",text:o,display:s="grid",subtext:r,icon:u,className:p}){return i("div",{className:Q("flex gap-4 font-normal tracking-wider text-start items-center text-ellipsis overflow-hidden whitespace-nowrap",{"text-xs":t==="xs","text-sm":t==="sm","text-md":t==="md","text-lg":t==="lg","text-white":a==="white","text-gray-300":a==="gray-light","text-gray-400":a==="gray","text-gray-800":a==="gray-dark","text-violet-800":a==="violet","text-yellow-400":a==="yellow","text-red-900":a==="red","text-black":a==="black"},p),children:[u&&e("div",{className:"flex items-center",children:e("i",{className:u})}),i("span",{className:s,children:[o,"\xA0",i("strong",{className:"font-inter",children:[" ",r]})]})]})}function V({children:t,legend:a,customCss:o,onClick:s,type:r="default"}){return e("fieldset",{className:Q("px-2 items-center bg-white   shadow-sm mt-2",o,{"border-to":r.toUpperCase()==="TO","border-fono":r.toUpperCase()==="FONO","border-psico":r.toUpperCase()==="PSICO","border-black":r.toUpperCase()==="PSICOPEDAG","border-motricidade":r.toUpperCase()==="MOTRICIDADE","border-musicoterapia":r.toUpperCase()==="MUSICOTERAPIA","border-white":r.toUpperCase()==="DEFAULT"}),onClick:s,children:e("div",{className:"py-4 w-full ",children:t})})}function Se({id:t,legend:a,fields:o,screen:s,loading:r,nameButton:u,dropdown:p,onSubmit:y,onInclude:N,onReset:g}){const{setValue:b,handleSubmit:v,control:m,reset:w}=ee(),{hasPermition:h}=re(),x=()=>{w(),g()},n=d=>{y(d)};return l.exports.useEffect(()=>{h(`${s}_FILTRO_SELECT_AGENDADOS`)||b("naFila",!0)}),e(le,{children:e(ce,{header:a,tabIndex:0,children:i("form",{id:t,action:"#",onSubmit:v(n),className:"flex-1",children:[e("div",{className:"grid grid-cols-6 gap-4",children:o.map(d=>h(d.permission)&&e(G,{labelText:d.labelText,id:d.id,type:d.type,customCol:d.customCol,control:m,options:d.type==="select"?p[d.name]:void 0},d.id))}),e("div",{className:"flex items-center mt-10 gap-2 justify-between",children:i(_,{children:[N&&h(`${s}_FILTRO_BOTAO_CADASTRAR`)&&e("div",{className:"sm:text-end",children:e(T,{text:u||"Cadastrar",icon:"pi pi-user-plus",type:"primary",size:"sm",onClick:N})}),e("div",{className:"hidden sm:w-2/4 ml-auto sm:grid grid-cols-2 gap-2",children:i(_,{children:[h(`${s}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(T,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"full",onClick:x})}),h(`${s}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(T,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"full",loading:r,onClick:()=>v(n)})})]})}),e("div",{className:"sm:w-2/4 ml-auto grid sm:hidden grid-cols-2 gap-2",children:i(_,{children:[h(`${s}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(T,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"icon",onClick:x})}),h(`${s}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(T,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"icon",loading:r,onClick:()=>v(n)})})]})})]})})]})})})}function Ae(){return i("div",{className:"uppercase flex items-center gap-4 m-auto mt-2 justify-center",children:[e("i",{className:"pi pi-folder-open"}),e(ke,{color:"gray",children:"N\xE3o h\xE1 itens"})]})}const Ie="Comp 1",De="",Te=[{ty:4,nm:"circle outline",mn:"",sr:1,st:0,op:180,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[0,0,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[55.228,0],[0,-55.228],[-55.228,0]],o:[[0,-55.228],[-55.228,0],[0,55.228],[55.228,0]],v:[[0,0],[-100,-100],[-200,0],[-100,100]]},ix:2}},{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[-55.228,0],[0,-55.228],[55.228,0]],o:[[0,-55.228],[55.228,0],[0,55.228],[-55.228,0]],v:[[0,0],[100,-100],[200,0],[100,100]]},ix:2}},{ty:"tm",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:0,k:80,ix:2},o:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:3},s:{a:0,k:100,ix:1},m:2},{ty:"st",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:52,ix:5},d:[],c:{a:0,k:[.4,.1608,.4667],ix:3}}],ind:1,parent:2},{ty:4,nm:"circle",mn:"",sr:1,st:0,op:200,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[960,540,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[-100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 2",d:1,p:{a:0,k:[100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.4,.1608,.4667],ix:4},r:1,o:{a:0,k:100,ix:5}}],ind:2}],Pe=0,Oe=1080,Fe=1920,Le={a:"",k:"",d:"",g:"@lottiefiles/toolkit-js 0.22.1",tc:"#000000"},Re="5.7.4",$e=30,ze=180,Be=0,_e=[],kt={nm:Ie,mn:De,layers:Te,ddd:Pe,h:Oe,w:Fe,meta:Le,v:Re,fr:$e,op:ze,ip:Be,assets:_e},St=Object.freeze(Object.defineProperty({__proto__:null,nm:Ie,mn:De,layers:Te,ddd:Pe,h:Oe,w:Fe,meta:Le,v:Re,fr:$e,op:ze,ip:Be,assets:_e,default:kt},Symbol.toStringTag,{value:"Module"}));function je(){return e("div",{className:"flex items-center justify-center",children:e(dt,{loop:!0,animationData:St,play:!0,style:{width:200,height:200}})})}function At({heading:t}){return i("div",{className:"mb-10 text-center",children:[e("div",{className:"flex justify-center",children:e("img",{alt:"",className:"h-32 ",src:Et})}),e(ke,{size:"lg",children:t})]})}const It=[{labelText:"Login",labelFor:"username",id:"username",name:"username",type:"text",autoComplete:"text",isRequired:!0,placeholder:"Login",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o xxx.xxx"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Senha",labelFor:"password",id:"password",name:"password",type:"password",isRequired:!0,placeholder:"Senha",validate:{required:"Campo obrigat\xF3rio!"}}],Dt=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Paciente",id:"pacienteId",name:"paciente",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"}],Tt=[{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Paciente",id:"pacienteId",name:"paciente",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Programa",id:"programaId",name:"programa",type:"select",singleSelect:!0,customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Est\xEDmulo Discriminativo",id:"estimuloDiscriminativo",name:"estimuloDiscriminativo",type:"text",customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Resposta",id:"resposta",name:"resposta",type:"text",customCol:"col-span-6 sm:col-span-6"},{permission:"PEI_FILTRO_BOTAO_CADASTRAR",labelText:"Est\xEDmulo Refor\xE7ador Positivo",id:"estimuloReforcadorPositivo",name:"estimuloReforcadorPositivo",type:"text",customCol:"col-span-6 sm:col-span-6"}],Me=It,Pt={};Me.forEach(t=>Pt[t.id]="");function Ot(){const t={username:"",password:""},[a,o]=l.exports.useState(!1),[s,r]=l.exports.useState(!1),{renderToast:u}=q(),{handleSubmit:p,formState:{errors:y},setValue:N,watch:g,control:b}=ee({defaultValues:t}),{Login:v}=X(),m=async({username:h,password:x})=>{r(!0);try{await v({username:h,password:x}),r(!1)}catch{r(!1),u({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},w=async h=>{o(h),localStorage.setItem("rememberCheck",JSON.stringify(h)),h?(localStorage.setItem("rememberCheck","true"),localStorage.setItem("rememberLogin",JSON.stringify({username:g("username"),password:g("password")}))):(localStorage.removeItem("rememberLogin"),localStorage.setItem("rememberCheck","false"))};return l.exports.useEffect(()=>{const h=localStorage.getItem("rememberLogin");if(h){const{username:x,password:n}=JSON.parse(h);o(!0),N("username",x),N("password",n)}},[]),i("form",{className:"mt-8 space-y-6",onSubmit:p(m),children:[e("div",{children:Me.map(h=>e(G,{id:h.id,type:h.type,labelText:h.labelText,control:b,validate:h.validate,errors:y},h.id))}),e(G,{id:"checkbox-login",labelText:"Lembrar login",type:"checkbox",control:b,onChange:w,value:a}),e(T,{text:"Entrar",type:"primary",size:"full",onClick:p(m),loading:s})]})}const Ft="luck-web",Lt="0.2.0",Rt="module",$t={dev:"vite --port=3002 --host",start:"node serve.js --host",preview:"vite preview --host",sb:"start-storybook -p 6006",format:'prettier --write "src/**/*.{ts,js,tsx}"',lint:'eslint "src/**/*.{ts,js}" --quiet',build:"export NODE_OPTIONS='--max-old-space-size=8192' && tsc && vite build"},zt={"@fullcalendar/core":"5.11.3","@fullcalendar/daygrid":"5.11.3","@fullcalendar/interaction":"5.11.3","@fullcalendar/list":"5.11.3","@fullcalendar/moment":"5.11.3","@fullcalendar/moment-timezone":"5.11.3","@fullcalendar/react":"5.11.2","@fullcalendar/rrule":"5.11.3","@fullcalendar/timegrid":"5.11.3","@types/uuid":"^9.0.7","@vitejs/plugin-react-refresh":"^1.3.6",autoprefixer:"10.4.12",axios:"1.1.3","chart.js":"3.9.1",clsx:"1.2.1",cors:"2.8.5",express:"4.18.2","jodit-react":"^4.1.2","lottie-react":"2.3.1",moment:"2.29.4","postcss-import":"15.0.0",primeicons:"6.0.1",primereact:"8.7.0",quill:"1.3.7",react:"18.2.0","react-chartjs-2":"4.3.1","react-dom":"18.2.0","react-hook-form":"7.37.0","react-lottie-player":"1.5.4","react-router-dom":"6.4.2",rrule:"2.7.1",url:"0.11.0",uuid:"^9.0.1","vite-plugin-pwa":"^0.17.4","web-vitals":"2.1.4","workbox-background-sync":"6.5.4","workbox-broadcast-update":"6.5.4","workbox-cacheable-response":"6.5.4","workbox-core":"6.5.4","workbox-expiration":"6.5.4","workbox-google-analytics":"6.5.4","workbox-navigation-preload":"6.5.4","workbox-precaching":"6.5.4","workbox-range-requests":"6.5.4","workbox-routing":"6.5.4","workbox-strategies":"6.5.4","workbox-streams":"6.5.4",xlsx:"^0.18.5"},Bt={"@babel/core":"7.19.3","@types/react":"18.0.17","@types/react-dom":"18.0.6","@vitejs/plugin-react":"2.1.0","babel-loader":"8.2.5",prettier:"latest","standard-version":"9.5.0",tailwindcss:"3.2.1",typescript:"4.8.4",vite:"3.1.0","workbox-build":"6.5.4"},_t={name:Ft,version:Lt,private:!0,type:Rt,scripts:$t,dependencies:zt,devDependencies:Bt};function ge(){const[t,a]=l.exports.useState(""),o=l.exports.useCallback(async()=>{const{data:s}=await K("/");a(`vers\xE3o frontend: ${_t.version} - ${s}`)},[]);return l.exports.useEffect(()=>{o()},[o]),i(_,{children:[e(At,{heading:"Prontu\xE1rio"}),e(Ot,{}),e("div",{className:"text-xs absolute bottom-0 text-gray-300 left-0  w-full flex justify-center",children:e("div",{className:"",children:t})})]})}const jt=()=>e("div",{className:"min-h-full h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-md w-full space-y-8",children:e(ye,{children:i(be,{children:[e(ne,{path:"/",element:e(ge,{})}),e(ne,{path:"*",element:e(ge,{})})]})})})}),Mt=({children:t})=>e("div",{className:"h-screen overflow-y-auto",children:e("div",{className:"mx-2 mt-4 mb-16",children:t})}),Ue=l.exports.createContext({}),Ut=({children:t})=>{const[a,o]=l.exports.useState(!1);return e(Ue.Provider,{value:{open:a,setOpen:o},children:t})},Vt=()=>{const{Logout:t}=X(),{hasPermition:a,permissions:o}=re(),{open:s,setOpen:r}=l.exports.useContext(Ue),[u,p]=l.exports.useState([]),{user:y,perfil:N}=l.exports.useContext(ue),g=te(),b=()=>{const w=Je.filter(h=>h.path!=="*"&&h.menu);p(w)},v=()=>i("aside",{onClick:()=>r(!1),className:"fixed border-box shadow-3xl w-full h-screen z-20  bg-primary duration-700 ease-in-out justify-center",children:[e("div",{className:"bg-logo-md-write bg-no-repeat bg-cover h-[13rem] w-[20rem] mx-auto"}),i("div",{className:"border-y border-primary-text duration-1000 p-4 mt-2",children:[i("h3",{className:"text-primary-text text-center font-light text-sm ",children:[" ",y.nome]}),i("h3",{className:"text-gray-200 text-center font-light text-xs ",children:[" ",me(N)," "]})]}),e("ul",{className:"list-none p-0 mt-8",children:u.map(w=>{const h=g.pathname.startsWith(w.path);return e("li",{className:`${h?"bg-primary-hover text-primary-text-hover":"text-primary-text"} hover:px-0 hover:bg-primary-hover  hover:text-primary-text-hover duration-700 grid  justify-center`,children:i(ct,{to:w.path,className:"grid grid-cols-2 gap-8 items-center text-sm px-4 py-4  cursor-pointer",children:[e("i",{className:Q("text-end",w.icon)}),e("span",{className:"duration-700",children:me(w.path)})]})},w.path)})}),e("i",{onClick:t,className:" pi pi-sign-out duration-700 text-primary-text hover:scale-125 cursor-pointer  w-4 col-span-1 fixed bottom-8 left-[50%]"})]}),m=()=>e("aside",{onClick:()=>r(!0),className:"fixed shadow-3xl w-12 h-12 z-20 mt-[1vh] right-2 rounded-3xl bg-primary duration-700 ease-in-out hover:scale-[105%] cursor-pointer",children:e("div",{className:"bg-logo-mini    bg-no-repeat bg-cover h-12 w-12 duration-700"})});return l.exports.useEffect(()=>{b()},[o]),s?v():e("nav",{className:"fixed h-12 w-full bg-primary mb-8",children:m()})};function ve(){const[t,a]=l.exports.useState(),[o,s]=l.exports.useState(!1),{renderToast:r}=q(),{reset:u,handleSubmit:p,formState:{errors:y},control:N}=ee(),g=()=>{const v=sessionStorage.getItem("auth"),m=JSON.parse(v);a(m)},b=async v=>{s(!0);try{v.id=t.login;const{data:m}=await ae("/usuarios/reset-senha",v);s(!1),u(),r({type:"success",title:"",message:m.message,open:!0})}catch({message:m}){r({type:"failure",title:"401",message:`${m}`,open:!0}),u();return}};return l.exports.useEffect(()=>{g()},[]),e(_,{children:e(V,{customCss:"rounded-lg border border-gray-200 p-4",children:i("div",{className:"grid sm:grid-cols-2",children:[e(Ct,{text:t==null?void 0:t.nome,subtext:t==null?void 0:t.login,color:"violet",size:"md",icon:"pi pi-id-card",display:"grid"}),i("div",{className:"flex gap-2  my-6 sm:my-0  items-center",children:[e(G,{labelText:"Alterar senha",id:"senha",type:"password",customCol:" w-full",errors:y,validate:{required:!0},control:N}),e("div",{className:" mt-4 ",children:e(T,{text:"Alterar senha",type:"second",icon:"pi pi-sync",size:"icon",onClick:p(b)})})]})]})})})}var ie=(t=>(t.atendido="Atendido",t.atestado="Atestado",t.livre="Livre",t.confirmado="Confirmado",t))(ie||{});const qt=[{permission:"AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-3",type:"date"},{permission:"AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-3",type:"date"}],pe=({start:t,end:a,statusEventos:o,title:s,localidade:r,isExterno:u,km:p,modalidade:y,dataInicio:N,dataFim:g,dataAtual:b})=>i("div",{className:"flex gap-2 w-full item-center",children:[i("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[i("span",{children:[" ",t]})," -",e("span",{children:a})]}),i("div",{className:"text-gray-800 text-sm text-center grid justify-center",children:[i("div",{className:"font-base font-semibold text-primary",children:["  ",s," "]}),i("p",{className:"flex gap-4 items-center justify-between",children:[(()=>{let m=y;if(m!=="Avalia\xE7\xE3o"||!N||g)return e("span",{children:m});const w=fe(N,b),h=fe(N,g);return e(_,{children:i("span",{children:[m,e("span",{className:"font-inter ml-2",children:`${w}/${h}`})," "]})})})()," ",e("span",{children:o})]}),i("p",{className:"flex gap-4 items-center",children:[r,u&&i("span",{className:"font-bold font-inter",children:[" ",`- ${p}km`," "]})]})]})]}),Ve=qt,Gt={};Ve.forEach(t=>Gt[t.id]="");const Yt=()=>{const{renderToast:t}=q(),a=se(),[o,s]=l.exports.useState({}),[r,u]=l.exports.useState([]),[p,y]=l.exports.useState(!1),{user:N}=X(),g=new Date;ft(g),xt(g);const b=(c,S)=>{c.stopPropagation(),a(`/${J.METASDTT}`,{state:S})},v=async(c="2024-06-27",S="2024-06-28")=>{y(!0);try{const I=await K(`/evento/filtro/${c}/${S}?terapeutaId=${N.id}`);let $=Object.keys(I).sort();s(I),u($)}catch{s([]),t({type:"failure",title:"401",message:"Per\xEDodo n\xE3o encontrado!",open:!0})}y(!1)},m=c=>e(V,{customCss:"border-l-4 border-l-green-400 rounded-lg cursor-not-allowed",children:i("div",{className:"flex gap-2 w-full item-center",children:[i("div",{className:"grid text-center font-inter text-sm text-gray-400",children:[i("span",{children:[" ",c.start]})," -",e("span",{children:c.end})]}),i("div",{className:"text-gray-800 text-center flex items-center justify-center text-md",children:["  ",c.title]})]})},c.id),w=c=>e(V,{type:c.especialidade.nome,customCss:"border-l-4 rounded-lg cursor-pointer hover:scale-[101%] duration-700 ease-in-out",onClick:()=>a(`/${J.SESSION}`,{state:{item:c}}),children:i("div",{className:"flex",children:[e(pe,{start:c==null?void 0:c.data.start,end:c==null?void 0:c.data.end,statusEventos:c==null?void 0:c.statusEventos.nome,title:c==null?void 0:c.title,localidade:c==null?void 0:c.localidade.nome,isExterno:c==null?void 0:c.isExterno,km:c==null?void 0:c.km,modalidade:c==null?void 0:c.modalidade.nome,dataInicio:c==null?void 0:c.dataInicio,dataFim:c==null?void 0:c.dataFim,dataAtual:c==null?void 0:c.dataAtual}),c.statusEventos.nome!=ie.atendido&&e(T,{text:"Pesquisar",icon:"pi pi-file-edit",type:"primary",size:"icon",loading:p,onClick:S=>b(S,c)}),c.statusEventos.nome==ie.atendido&&e(T,{text:"Atendido",type:"transparent",icon:"pi pi-check",size:"icon",color:"violet"})]})},c.id),h=c=>{switch(c.id){case 0:return m(c);default:return w(c)}},x=()=>p?e(je,{}):r.length?r.map(c=>i("div",{children:[e("div",{className:"font-inter m-2 text-gray-400",children:he(c)}),o[c].map(S=>h(S))]},c)):i(V,{children:[" ",e(Ae,{})," "]}),n=l.exports.useMemo(()=>i("div",{className:"text-primary font-base grid justify-start m-2 leading-4",children:[e("span",{className:"font-bold",children:" Agenda "}),i("span",{className:"text-gray-400 font-light text-sm font-inter",children:[" ",he(new Date)," "]})]}),[]),d=l.exports.useMemo(()=>e(Se,{id:"form-filter-patient",legend:"Filtro",nameButton:"Agendar",fields:Ve,onSubmit:({dataInicio:c,datatFim:S})=>v(c,S),onReset:()=>v(),screen:"AGENDA_CALENDARIO",loading:p,dropdown:[]}),[]);return l.exports.useEffect(()=>{v()},[]),i(_,{children:[d,n,x()]})},qe=({onChange:t,value:a,disabled:o})=>{const[s,r]=l.exports.useState(a);return e(nt,{value:s,defaultValue:a,options:[{value:"C",icon:i("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#662C75"}),e("path",{transform:"translate(773,169)",d:"m0 0h61l30 2 32 5 30 8 27 9 21 9 16 8 19 10 23 14 14 10 15 11 11 9 12 11 10 9 7 8 10 11 10 13 13 18 11 17 10 18 11 24 10 26 8 28 5 26 2 20v26l-3 24-5 23-8 24-9 20-8 14-9 13-8 10-11 13-10 9-9 7-14 9-17 8-15 5-18 4-22 2-23-2-32-6-21-6-21-8-22-12-13-9-15-13-9-9-12-16-9-16-7-18-8-30-5-19-4-8-3-2h-6l-9 6-4 5-4 7-3 14-3 46-2 58-4 91-7 121-1 31v45l1 23 4 35 6 26 5 12 9 13 9 6 7 2 12-1 14-4 25-13 17-12 11-8 14-11 11-9 13-11 8-7 13-11 14-11 13-10 17-12 13-8 17-10 16-8 21-8 19-5 7-1h25l20 4 15 6 12 8 8 7 7 8 10 14 11 21 7 19 6 22 4 22 3 26 1 17v47l-2 27-6 37-7 31-8 25-8 20-8 17-14 24-8 12-14 19-9 10-7 8-17 17-10 8-13 10-14 10-15 9-23 12-21 9-36 12-36 9-21 4-32 4-29 3-16 1h-53l-20-2-32-5-27-6-26-8-22-8-25-11-19-10-22-13-13-9-16-13-14-12-37-37-9-11-8-9-12-16-18-27-12-20-18-35-12-26-11-27-12-35-10-36-9-38-7-36-5-35-3-34-3-53-1-26v-64l3-57 3-37 7-56 7-45 9-46 10-42 10-35 15-43 15-36 16-32 6-11 6-10 10-16 13-19 14-18 10-12 7-8 15-16 7-6 5-5 8-7 10-8 11-8 17-12 10-6 21-12 25-11 36-12 23-6 22-4z",fill:"#FDFDFD"})]})},{value:"DT",icon:i("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(374,334)",d:"m0 0h42l24 2 31 4 25 6 21 8 16 8 23 13 22 15 13 10 13 11 11 9 15 14 9 9 7 8 11 12 9 11 12 15 13 18 11 17 12 20 14 27 11 23 8 19 10 29 7 23 6 29 4 27 3 35 1 25v49l-2 33-3 28-6 35-9 40-11 36-12 32-11 24-12 23-8 14-11 17-10 15-12 16-11 13-9 11-22 22-8 7-9 8-14 11-18 13-15 10-20 12-16 8-16 7-16 5-16 3-40 4h-47l-37-4-24-4-22-6-21-8-16-9-9-7-10-10-8-14-5-12-5-21-13-73-13-75-18-109-15-95-15-101-10-71-10-77-6-50-4-45-3-42 1-17 5-10 10-13 9-9 17-13 22-12 14-6 24-8 31-8 32-6 43-5z",fill:"#FEFFFE"}),e("path",{transform:"translate(1039,294)",d:"m0 0h54l34 2 45 4 29 4 38 7 36 8 29 8 29 10 26 11 25 12 24 14 16 12 11 9 16 16 10 13 10 15 8 16 6 15 6 21 2 14v26l-4 26-5 19-8 21-8 14-12 17-13 10-14 8-19 7-17 4-27 3-15 1h-45l-39-3h-5l2 24 5 102 1 24 1 41v90l-1 31-4 48-6 45-7 40-8 32-10 30-9 20-10 19-13 18-11 12-12 11-13 8-17 7-20 5h-29l-19-3-31-7-20-6-19-8-19-10-13-10-10-9-9-10-9-13-8-16-6-15-7-27-4-26-1-11v-42l3-37 6-47 5-38 10-60 11-64 9-50 12-70 9-53 4-26-14-2-44-8-24-7-25-10-17-8-13-9-13-11-10-10-13-18-10-21-6-20-4-22v-29l4-23 8-20 7-12 11-13 13-13 18-13 18-10 17-8 25-8 31-8 30-5 39-4z",fill:"#FEFFFE"}),e("path",{transform:"translate(414,632)",d:"m0 0h24l15 4 12 6 10 9 9 11 10 17 6 15 5 16 4 19 2 18v31l-3 24-6 25-9 27-12 25-7 10-9 12-7 9-10 7h-3l-8-55-8-47-9-50-8-43-10-48-5-26v-9l4-4 6-2z",fill:"#682D75"})]})},{value:"DP",icon:i("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(1028,292)",d:"m0 0h65l48 3 37 4 31 6 25 7 24 8 22 9 19 10 18 10 21 14 16 12 14 12 16 16 9 11 12 15 16 24 12 22 10 21 9 23 12 36 7 26 6 32 2 18 1 19v17l-2 28-4 25-6 26-11 33-9 20-12 22-9 14-10 14-13 16-7 7-7 8-16 15-13 10-14 10-18 11-22 12-29 12-27 9-26 6-26 4-34 3-18 1h-50l1 13v101l-3 31-4 23-6 21-9 21-10 16-11 13-8 8-8 6-10 6-12 5-16 5-21 4-17 2h-24l-25-3-30-7-21-8-18-10-10-8-9-8-9-11-10-14-9-16-8-20-6-19-8-32-5-27-4-33-2-40-2 1-7 25-9 22-9 17-8 16-11 20-9 14-11 16-13 18-10 12-9 11-28 28-11 9-13 11-18 13-20 13-15 9-23 12-15 6-15 4-25 4-27 2-30 1-35-2-32-4-23-5-21-7-18-8-12-7-10-9-7-7-9-15-6-20-7-37-18-102-12-74-9-55-10-64-17-114-8-59-10-75-10-82-3-32-3-44v-27l6-12 9-12 11-11 12-9 20-12 15-7 30-10 36-9 30-5 32-4 26-2 20-1h35l31 2 29 4 24 6 25 10 26 14 24 16 19 14 13 11 14 12 25 25 7 8 13 15 11 14 12 16 14 21 15 25 19 38 13 28 11 28 8 28 5 23 3 18h3l1-25 7-73 9-74 6-37 10-47 7-26 7-21 10-24 7-14 10-17 10-13 11-12 10-8 16-9 15-6 24-5 27-3z",fill:"#FEFFFE"}),e("path",{transform:"translate(432,631)",d:"m0 0h19l14 3 12 5 11 8 10 12 8 13 8 17 7 22 4 21 2 27-1 24-4 24-5 19-8 24-11 24-12 18-12 16-9 8-4 1-3-13-4-31-7-43-8-45-9-50-13-66-4-21-1-10 3-4z",fill:"#682D75"}),e("path",{transform:"translate(1119,528)",d:"m0 0 16 3 17 6 16 8 9 7 11 11 8 15 3 10v23l-4 16-9 21-8 14-12 16-11 13-11 12-10 9-12 11-8 7-10 6-6 3-4-1 4-86 4-40 6-40 7-36 3-7z",fill:"#682D75"})]})},{value:"DG",icon:i("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(1142,292)",d:"m0 0h27l35 3 29 5 21 6 20 8 25 12 27 16 19 14 10 8 12 11 19 19 9 11 11 14 11 17 12 21 9 20 9 25 5 18 4 24 1 10v17l-3 27-6 26-6 18-9 19-9 15-9 12-11 12-17 13-21 10-16 5-17 3h-35l-20-3-15-4-14-6-15-10-11-9-10-11-10-15-5-10-5-16-1-5v-8l2-8v-8l-4-13-6-10-1-1h-7l-2 5-8 16-16 33-16 36-20 49-14 39-12 36-10 38-6 29-4 28-1 11v26l3 14 4 11 7 9 8 6 9 4 4 1h11l9-4 11-7 10-10 6-9 2-6v-10l-4-8-6-5-19-11-11-6-5-7-2-7-1-15 4-20 5-12 6-10 7-8 15-10 15-6 22-4 17-1h39l40 2 35 4 23 5 17 5 19 8 11 8 10 9 9 13 7 14 5 16 3 19v18l-3 29-5 29-7 32-12 36-11 26-10 20-14 23-12 17-10 13-10 11-7 8-11 11-11 9-12 10-15 10-16 10-23 12-19 8-22 7-27 6-26 4-10 1h-39l-25-3-30-5-26-7-27-10-27-13-19-12-16-13-8-7-18-18-9-11-10-13-9-14-10-18-8-16-10-22-12-34-9-30-7-30-3-17-4-34-2 7-3 18-6 20-12 32-11 26-16 32-9 16-15 24-13 18-11 14-11 13-11 12-1 2h-2l-2 4-6 5-12 12-11 9-12 10-20 14-17 11-21 12-25 12-21 7-20 4-26 2-19 1h-31l-36-3-24-4-26-7-22-8-16-8-11-8-10-10-9-13-7-22-9-47-15-90-9-58-14-92-10-68-13-93-10-77-9-74-7-61-4-48-2-38v-21l5-12 10-14 8-8 12-9 22-13 20-9 27-9 29-7 27-5 32-4 26-2 28-1h30l29 1 28 3 19 4 20 6 18 8 16 8 20 12 12 8 18 13 14 11 12 11 8 7 21 21 7 8 11 13 13 17 15 20 11 17 14 24 14 27 9 19 12 30 12 36 6 23 5 26 2 15 1 2h2l2-15 9-40 8-30 16-47 11-29 8-19 9-20 13-27 12-21 6-11 12-19 13-19 14-18 9-11 9-10 7-8 22-22 11-9 14-11 22-14 19-9 22-8 21-5 31-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(456,627)",d:"m0 0h11l15 3 10 4 10 8 10 11 9 14 8 17 7 22 4 21 2 22v16l-3 26-6 25-8 25-7 16-10 19-7 10-7 11-8 10-7 4-5-1-2-4-3-30-13-79-10-61-12-62-5-24-3-12v-6l3-2z",fill:"#682D75"})]})},{value:"DV",icon:i("svg",{version:"1.1",viewBox:"0 0 1600 1600",width:"1280",height:"1280",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{transform:"translate(0)",d:"m0 0h1600v1600h-1600z",fill:"#682D75"}),e("path",{transform:"translate(937,305)",d:"m0 0h11l23 2 25 6 16 6 13 7 12 9 10 9 9 10 9 13 8 16 6 17 6 24 5 29 4 40 3 57 1 37v128l2 4 5 8 1 4 3-9 10-56 17-85 13-55 8-29 12-38 11-28 8-18 12-21 9-13 9-12 15-16 15-13 16-10 16-8 15-5 25-4h38l30 4 20 5 19 7 24 12 13 9 14 11 12 12 12 16 11 19 8 19 6 23 3 23v26l-3 30-7 39-9 37-10 36-13 40-16 44-16 40-13 31-16 36-11 24-13 28-20 41-27 54-12 22-12 24-12 22-16 30-12 22-16 29-13 22-10 15-7 11-11 13-9 11-8 7-12 11-14 10-16 10-21 10-21 7-23 5-18 2h-26l-27-3-25-5-20-6-20-8-17-8-18-11-16-12-17-16-13-13-11-14-16-24-12-21-14-30-11-29-12-37-11-40-12-52-8-44-9-58-5-46-4-52-2-35-1-32v-28l1-36 4-55 8-71 5-28 6-23 8-22 8-16 11-17 9-11 13-13 14-11 19-11 10-5 15-5 23-5z",fill:"#FEFEFE"}),e("path",{transform:"translate(359,338)",d:"m0 0h29l38 3 27 4 23 6 19 8 19 10 11 6 30 20 17 13 11 9 14 12 25 25 9 11 9 10 11 14 14 19 14 21 17 29 19 38 11 25 11 30 7 25 6 32 4 35 2 41v55l-1 21-5 40-6 32-8 36-9 31-7 20-10 25-10 22-10 19-11 19-14 21-11 16-18 22-10 11-7 8-8 8-8 7-11 10-11 9-16 12-15 10-14 9-18 10-21 10-19 6-26 5-22 3-16 1h-37l-23-2-26-4-24-5-20-6-15-6-15-8-10-8-7-7-9-14-4-10-6-25-14-71-12-66-10-56-20-116-8-49-10-62-13-85-19-135-6-48-3-42v-20l8-17 9-11 9-9 14-10 14-9 23-11 16-6 29-8 26-6 36-6 42-4z",fill:"#FEFEFE"}),e("path",{transform:"translate(390,636)",d:"m0 0h22l16 4 13 7 12 11 8 10 7 12 7 16 7 21 5 25 1 10v32l-4 24-9 36-9 22-8 16-12 19-10 13-5 5-7 1-2-4-3-26-6-29-11-66-16-81-9-37-5-25 1-9 6-5z",fill:"#682D75"})]})}],onChange:y=>(t(y.value),r(y.value)),optionLabel:"value",optionValue:"value",iconTemplate:({option:y})=>y==null?void 0:y.icon,className:"w-8 h-8",disabled:o})},Jt=()=>{const{renderToast:t}=q(),a=te(),o=se(),{state:s}=a,r=l.exports.useRef(null),[u,p]=l.exports.useState(10),[y,N]=l.exports.useState(""),[g,b]=l.exports.useState([]),[v,m]=l.exports.useState([]),[w,h]=l.exports.useState({}),[x,n]=l.exports.useState(!1),[d,c]=l.exports.useState(!1),S=async()=>{try{const E=await K(`/sessao/${s.item.id}`);E?(N(E.resumo),h(E),n(!0),L(E.sessao),m(E.sessao)):await I()}catch{}},I=async()=>{try{const E=await K(`/pei/activity/session/${s.item.id}`);L(E)}catch{}},$=async()=>{try{const E={calendarioId:s.item.id,pacienteId:s.item.paciente.id,sessao:JSON.stringify(v),resumo:y,...w};x?await ae("/sessao",E):await de("/sessao",E),t({type:"success",title:"",message:"Sess\xE3o atualizada!",open:!0}),o(`/${J.CALENDAR}`)}catch{t({type:"failure",title:"401",message:"Sess\xE3o n\xE3o atualizada!",open:!0})}},B=l.exports.useMemo(()=>{var E,P,A,O,D,z,F,U,H,Z,W;return e(pe,{start:(E=s.item)==null?void 0:E.data.start,end:(P=s.item)==null?void 0:P.data.end,statusEventos:(A=s.item)==null?void 0:A.statusEventos.nome,title:(O=s.item)==null?void 0:O.title,localidade:(D=s.item)==null?void 0:D.localidade.nome,isExterno:(z=s.item)==null?void 0:z.isExterno,km:(F=s.item)==null?void 0:F.km,modalidade:(U=s.item)==null?void 0:U.modalidade.nome,dataInicio:(H=s.item)==null?void 0:H.dataInicio,dataFim:(Z=s.item)==null?void 0:Z.dataFim,dataAtual:(W=s.item)==null?void 0:W.dataAtual})},[]),L=async E=>{const P=await Promise.all(E.map(async(A,O)=>({key:A.key,label:A.label,children:await Promise.all(A.children.map(async(D,z)=>({key:D.key,label:D.label,children:await Promise.all(D.children.map(async(F,U)=>{const H=F.children||Array.from({length:u}).map(W=>null),Z=F.children.slice(0,3).every(W=>W==="C")||!1;return{key:F.key,label:F.label,disabled:Z,children:H}}))})))})));b(P)},M=(E,P,A,O,D)=>e(qe,{value:D,disabled:g[E].children[P].children[A].disabled,onChange:z=>{const F=[...g],U=g[E].children[P].children[A].children.slice(0,3).every(H=>H==="C");g[E].children[P].children[A].disabled=U,F[E].children[P].children[A].children[O]=z,m(F)}},O),f=()=>i("div",{className:"mt-8",children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" ABA "})}),e(V,{customCss:" rounded-lg cursor-not-allowed max-w-[100%]",children:e(le,{children:g.map((E,P)=>e(ce,{tabIndex:P,header:e("div",{className:"flex items-center  w-full",children:e("span",{children:E.label})}),children:E==null?void 0:E.children.map((A,O)=>i("div",{className:"my-8",children:[i("span",{className:"font-bold font-inter",children:["Meta ",O+1,": "]})," ",e("span",{className:"font-base font-inter",children:A.label}),e("ul",{className:"list-disc mt-2 font-inter ml-4",children:A==null?void 0:A.children.map((D,z)=>i("li",{className:"my-2",children:[e("span",{children:D.label}),e("div",{className:"flex gap-1 -ml-4",children:D==null?void 0:D.children.map((F,U)=>M(P,O,z,U,F))})]},z))})]},O))},P))})})]}),C=()=>i(_,{children:[e("div",{className:"text-gray-400 font-inter grid justify-start mx-2  mt-8 leading-4",children:e("span",{className:"font-bold",children:" Resumo "})}),e(V,{customCss:"rounded-lg cursor-not-allowed max-w-[100%]",children:e(ut,{ref:r,value:y,config:{readonly:!1,language:"pt_br",buttons:"bold,italic,underline,strikethrough,font,fontsize,paragraph,copyformat,table,fullsize,preview",saveModeInStorage:!0},onBlur:E=>N(E),onChange:E=>{}})})]}),k=()=>e("div",{className:"mt-auto",children:e(T,{text:"Salvar",icon:"pi pi-check",type:"primary",size:"full",loading:d,onClick:()=>$()})});return l.exports.useEffect(()=>{S()},[]),i("div",{className:"h-[90vh] flex flex-col",children:[B,i("div",{className:"overflox-y-auto",children:[f(),C()]}),k()]})},Ge=Dt,Ht={};Ge.forEach(t=>Ht[t.id]="");const Kt=()=>{const{renderToast:t}=q(),a=se(),[o,s]=l.exports.useState(!1),[r,u]=l.exports.useState([]),[p,y]=l.exports.useState({}),N=x=>{a(`/${J.PEICADASTRO}`,{state:x})},g=async x=>{s(!0);try{const n=x.paciente;await gt(`pei/${x.id}`),m({pacienteId:n}),t({type:"success",title:"Sucesso!",message:"PEI removido!",open:!0})}catch{t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}s(!1)},b=(x,n)=>i(ot,{className:"text-[8px]",children:[i("div",{className:"font-bold text-wrap",children:[" ",x," "]}),i("div",{className:"font-normal text-wrap",children:[" ",n]})]}),v=()=>o?e(je,{}):p.length?e(V,{children:e(le,{children:p.map((x,n)=>e(ce,{header:i("div",{className:"flex items-center  w-full",children:[e("span",{children:x.programa.nome}),i("div",{className:"ml-auto",children:[e(T,{text:"editar",type:"transparent",size:"icon",icon:"pi pi-pencil",color:"violet",onClick:()=>N(x),loading:o}),e(T,{text:"remove",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:()=>g(x),loading:o})]})]}),tabIndex:n,children:i("div",{className:"w-full overflow-y-auto",children:[e("div",{className:"font-bold my-2",children:" PROCEDIMENTO DE ENSINO: ENSINO ESTRUTURADO - DTT - TREINO DE TENTATIVAS DISCRETAS"}),i("div",{className:" grid grid-cols-3 gap-1",children:[b("SD (est\xEDmulo discriminativo)",x.estimuloDiscriminativo),b("Resposta",x.resposta),b("SR+ (est\xEDmulo refor\xE7ador positivo))",x.estimuloReforcadorPositivo)]}),e("div",{className:"my-2",children:x.metas.map((d,c)=>i("div",{children:[i("span",{className:"flex align-items-center gap-2 w-full font-inter",children:["Meta ",c+1,": ",d.value]}),e("ul",{className:"list-disc	ml-8 font-inter",children:d.subitems.length&&d.subitems.map((S,I)=>i("li",{children:[" ",S.value," "]},I))})]},c))})]})},n))})}):i(V,{children:[" ",e(Ae,{})," "]}),m=async({pacienteId:x})=>{s(!0);try{const{data:n}=await Ne("pei",{paciente:x});y(n)}catch{y([]),t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}s(!1)},w=()=>e(Se,{id:"form-filter-pei",legend:"Filtro",nameButton:"Cadastrar",fields:Ge,dropdown:r,onSubmit:x=>m(x),onReset:()=>y([]),screen:"PEI",loading:o,onInclude:()=>a(`/${J.PEICADASTRO}`)}),h=l.exports.useCallback(async()=>{const[x]=await Promise.all([oe("paciente")]);u({paciente:x})},[]);return l.exports.useEffect(()=>{h()},[]),i("div",{children:[w(),v()]})},Ye=Tt,Qt={};Ye.forEach(t=>Qt[t.id]="");function Wt(){const t={pacienteId:"",programaId:"",estimuloDiscriminativo:"",resposta:"",estimuloReforcadorPositivo:""},a={labelText:"Meta",labelFor:"meta",id:"meta-0",name:"meta",type:"input-add",customCol:"col-span-5 sm:col-span-5",buttonAdd:!0,subitems:[]},o={labelText:"Item",labelFor:"item",id:"item-0",name:"item",type:"input-add",customCol:"col-span-5 sm:col-span-5",buttonAdd:!0},[s,r]=l.exports.useState(!1),[u,p]=l.exports.useState([]),[y,N]=l.exports.useState([]),g=te(),{renderToast:b}=q(),{hasPermition:v}=re(),{state:m}=g,{handleSubmit:w,formState:{errors:h},setValue:x,control:n,reset:d,watch:c}=ee({defaultValues:t}),S=l.exports.useCallback(async()=>{const[f,C]=await Promise.all([oe("paciente"),oe("programa")]);p({paciente:f,programa:C})},[]),I=async f=>{r(!0);try{const C={metas:[]};Object.keys(f).map((k,E)=>{if(k.includes("-meta-")&&!k.includes("-sub-item-")){const P=k.match(/\d+/),A=k.match(/(\d+)$/),O=Number(P[0]),D=Number(A[0]),z=[];Object.keys(f).map((F,U)=>{F.includes(`${O}-meta-${D}-sub-item-`)&&z.push({...o,id:F,value:f[F]})}),C.metas.push({...a,id:k,subitems:z,value:f[k]})}else k.includes("Id")?C[k]=f[k].id:!k.includes("-meta-")&&!k.includes("-sub-item-")&&!k.includes("Id")&&(C[k]=f[k])}),Boolean(m)&&(C.id=m.id),Boolean(m)?await ae("pei",C):await de("pei",C),d(),r(!1),N([]),b({type:"success",title:"Sucesso!",message:"PEI Cadastrado.",open:!0})}catch{r(!1),b({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},$=()=>{const f=[...y],C=c("programaId");a.id=`${C.id}-meta-${f.length}`,f.push(a),N(f)},B=f=>{const C=[...y];C.splice(f,1),N(C)},L=(f,C)=>{const k=[...y];k[f].subitems.splice(C,1),N(k)},M=f=>{var E;const C=[...y],k=(E=C[f])!=null&&E.subitems?[...C[f].subitems]:[];C[f].id,o.id=`${C[f].id}-sub-item-${k.length}`,k.push(o),C[f].subitems=k,N(C)};return l.exports.useEffect(()=>{if(Boolean(m)){const{paciente:f,programa:C,estimuloDiscriminativo:k,resposta:E,estimuloReforcadorPositivo:P,metas:A}=m;x("pacienteId",f),x("programaId",C),x("estimuloDiscriminativo",k),x("resposta",E),x("estimuloReforcadorPositivo",P),N(A),A.map(O=>{x(O.id,O.value),O.subitems&&O.subitems.map(D=>x(D.id,D.value))})}},[]),l.exports.useEffect(()=>{S()},[]),e("form",{className:"mt-8 space-y-6 ",onSubmit:w(I),children:i("div",{className:"h-[90vh] flex flex-col overflow-y-auto",children:[Ye.map(f=>e("div",{children:v(f.permission)?e(G,{labelText:f.labelText,id:f.id,type:f.type,customCol:f.customCol,control:n,options:f.type==="select"?u[f.name]:void 0,buttonAdd:f.buttonAdd},f.id):null})),i("div",{className:"mt-8",children:[i("div",{className:"text-gray-400 font-inter flex  justify-between m-2 leading-4",children:[e("span",{className:"font-bold",children:" METAS "}),e(T,{text:"Add Meta",icon:"pi pi-plus",type:"primary",size:"sm",onClick:()=>$(),typeButton:"button"})]}),y.map((f,C)=>i(it,{legend:`${f.labelText} ${C+1}`,className:"mb-2",toggleable:!0,children:[e("div",{className:"text-gray-400 font-inter flex  justify-end ",children:e(T,{text:"Add subitem",icon:"pi pi-plus",type:"primary",size:"sm",onClick:()=>M(C),typeButton:"button"})}),e(G,{labelText:"Decri\xE7\xE3o",id:f.id,type:"input-add",customCol:"col-span-6 sm:col-span-6",control:n,options:void 0,onClick:()=>B(C)},f.id),(f==null?void 0:f.subitems)&&(f==null?void 0:f.subitems.map((k,E)=>e(G,{labelText:`Item ${E+1}`,id:k.id,type:"input-add",customCol:"col-span-6 sm:col-span-6",control:n,options:void 0,onClick:()=>L(C,E)},k.id)))]}))]}),e("div",{className:"mt-auto",children:e(T,{text:"Salvar",type:"primary",size:"full",onClick:w(I),loading:s})})]})})}function Xt(){const{renderToast:t}=q(),a=se(),o=te(),{state:s}=o,[r,u]=l.exports.useState(!1),[p,y]=l.exports.useState([]),[N,g]=l.exports.useState(!1),[b,v]=l.exports.useState([]),[m,w]=l.exports.useState({});l.exports.useMemo(async()=>{u(!0);try{const d=s.paciente,{data:c}=await Ne("pei",{paciente:d}),S=[];c.map($=>{const B=[];$.metas.map(L=>{const M=L.subitems.map(f=>({key:f.id,label:f.value,data:f.id}));B.push({key:L.id,label:L.value,data:L.id,children:M})}),S.push({key:$.id,label:$.programa.nome,data:$.id,children:B})});const I=await K(`pei/activity-session/${s.id}`);g(Boolean(I.selectedKeys)),w(JSON.parse(I.selectedKeys)),y(S)}catch{t({type:"failure",title:"401",message:"PEI n\xE3o encontrado!",open:!0})}u(!1)},[]);const h=async()=>{u(!0);try{const d=[];p.map((I,$)=>{const B=[];I.children.map(L=>{const M=L.children.filter(f=>b.includes(f.key));M.length&&B.push({...L,children:M})}),B.length&&d.push({...I,children:B})});const c=d.map(I=>I.key),S={calendarioId:s.id,peisIds:c,pacienteId:s.paciente.id,atividades:d,selectedKeys:m};N?(S.id=s.id,await ae("pei/activity-session",S)):await de("pei/activity-session",S),t({type:"success",title:"200",message:"Cadastrado com sucesso!",open:!0}),a(`/${J.CALENDAR}`)}catch{t({type:"failure",title:"401",message:"Falha ao cadastrar!",open:!0})}u(!1)},x=l.exports.useMemo(()=>e(pe,{start:s.data.start,end:s.data.end,statusEventos:s.statusEventos.nome,title:s.title,localidade:s.localidade.nome,isExterno:s.isExterno,km:s.km,modalidade:s.modalidade.nome,dataInicio:s.dataInicio,dataFim:s.dataFim,dataAtual:s.dataAtual}),[]),n=()=>e("div",{className:"mt-auto",children:e(T,{text:"Salvar",type:"primary",size:"full",onClick:()=>h(),loading:r,typeButton:"button"})});return l.exports.useEffect(()=>{},[]),i("div",{className:"h-[90vh] flex flex-col",children:[x,i("div",{className:"grid gap-2 mt-8",children:[e("div",{className:"text-gray-400",children:" Selecione os programas para sess\xE3o"}),e(lt,{value:p,selectionMode:"checkbox",selectionKeys:m,onSelectionChange:async d=>{w(d.value);const c=await Object.keys(d.value);v(c)},className:"w-full md:w-30rem"})]}),n()]})}var J=(t=>(t.HOME="home",t.CRUD="cadastro",t.CALENDAR="agenda",t.SESSION="session",t.DTT="dtt",t.PEI="pei",t.PEICADASTRO="pei-cadastro",t.METASDTT="metas-dtt",t))(J||{});const Je=[{path:"*",componentRoute:ve,icon:"",menu:!1},{path:"session",componentRoute:Jt,icon:"",menu:!1},{path:"dtt",componentRoute:qe,icon:"",menu:!1},{path:"metas-dtt",componentRoute:Xt,icon:"",menu:!1},{path:"home",componentRoute:ve,icon:"pi pi-home",menu:!0},{path:"pei",componentRoute:Kt,icon:"pi pi-book",menu:!0},{path:"pei-cadastro",componentRoute:Wt,icon:"",menu:!1},{path:"agenda",componentRoute:Yt,icon:"pi pi-calendar",menu:!0}],Zt=()=>i("div",{className:"min-h-full overflow-hidden bg-background h-screen w-full",children:[e(Vt,{}),e("main",{className:"mt-14",children:e(be,{children:Je.map((a,o)=>e(ne,{path:a.path,element:e(Mt,{children:e(a.componentRoute,{})})},o))})})]});function es(){const{signed:t}=X();return t?e(ye,{children:e(yt,{children:e(Ut,{children:e(Zt,{})})})}):e(jt,{})}function ts(){return e("div",{className:"App",children:e(wt,{children:e(Nt,{children:e(es,{})})})})}Ke.createRoot(document.getElementById("root")).render(e(He.StrictMode,{children:e(ts,{})}));
